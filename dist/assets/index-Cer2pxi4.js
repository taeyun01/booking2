const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HotelList-BxnmsoVQ.js","assets/ListRow-BWWuPeqL.js","assets/Tag-CErFi7d9.js","assets/addDelimiter-BMsRaVVo.js","assets/toDate-BKXxHYqX.js","assets/parseISO-Djd3WRSr.js","assets/useLike-Co_tBsDH.js","assets/useAlert-CwV4OKQA.js","assets/Hotel-DvaNqINv.js","assets/TextField-2T0BCDM4.js","assets/format-CwcKpjNT.js","assets/index-BGqeBFWL.js","assets/Hotel-BUrcyj0q.css","assets/index-DpH4JDTW.js","assets/like-Db-lk_gW.js","assets/FixedBottomButton-C-s7NunJ.js","assets/Schedule-BgLxdC-3.js","assets/Reservation-DrPo6IFw.js","assets/ReservationDone-DHlv3DdV.js","assets/ReservationList-D2i6CVTF.js"])))=>i.map(i=>d[i]);
var S1=Object.defineProperty;var R1=(n,e,t)=>e in n?S1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ci=(n,e,t)=>R1(n,typeof e!="symbol"?e+"":e,t);function I1(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var BB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ka(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function zB(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}),t}var em={exports:{}},jl={},tm={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function A1(){if(p0)return Ge;p0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function T(V){return V===null||typeof V!="object"?null:(V=E&&V[E]||V["@@iterator"],typeof V=="function"?V:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,C={};function D(V,N,J){this.props=V,this.context=N,this.refs=C,this.updater=J||I}D.prototype.isReactComponent={},D.prototype.setState=function(V,N){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,N,"setState")},D.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function $(){}$.prototype=D.prototype;function F(V,N,J){this.props=V,this.context=N,this.refs=C,this.updater=J||I}var j=F.prototype=new $;j.constructor=F,S(j,D.prototype),j.isPureReactComponent=!0;var ie=Array.isArray,Q=Object.prototype.hasOwnProperty,ee={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function A(V,N,J){var te,fe={},ce=null,Se=null;if(N!=null)for(te in N.ref!==void 0&&(Se=N.ref),N.key!==void 0&&(ce=""+N.key),N)Q.call(N,te)&&!b.hasOwnProperty(te)&&(fe[te]=N[te]);var we=arguments.length-2;if(we===1)fe.children=J;else if(1<we){for(var ge=Array(we),qe=0;qe<we;qe++)ge[qe]=arguments[qe+2];fe.children=ge}if(V&&V.defaultProps)for(te in we=V.defaultProps,we)fe[te]===void 0&&(fe[te]=we[te]);return{$$typeof:n,type:V,key:ce,ref:Se,props:fe,_owner:ee.current}}function k(V,N){return{$$typeof:n,type:V.type,key:N,ref:V.ref,props:V.props,_owner:V._owner}}function x(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function M(V){var N={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(J){return N[J]})}var B=/\/+/g;function P(V,N){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):N.toString(36)}function Be(V,N,J,te,fe){var ce=typeof V;(ce==="undefined"||ce==="boolean")&&(V=null);var Se=!1;if(V===null)Se=!0;else switch(ce){case"string":case"number":Se=!0;break;case"object":switch(V.$$typeof){case n:case e:Se=!0}}if(Se)return Se=V,fe=fe(Se),V=te===""?"."+P(Se,0):te,ie(fe)?(J="",V!=null&&(J=V.replace(B,"$&/")+"/"),Be(fe,N,J,"",function(qe){return qe})):fe!=null&&(x(fe)&&(fe=k(fe,J+(!fe.key||Se&&Se.key===fe.key?"":(""+fe.key).replace(B,"$&/")+"/")+V)),N.push(fe)),1;if(Se=0,te=te===""?".":te+":",ie(V))for(var we=0;we<V.length;we++){ce=V[we];var ge=te+P(ce,we);Se+=Be(ce,N,J,ge,fe)}else if(ge=T(V),typeof ge=="function")for(V=ge.call(V),we=0;!(ce=V.next()).done;)ce=ce.value,ge=te+P(ce,we++),Se+=Be(ce,N,J,ge,fe);else if(ce==="object")throw N=String(V),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.");return Se}function st(V,N,J){if(V==null)return V;var te=[],fe=0;return Be(V,te,"","",function(ce){return N.call(J,ce,fe++)}),te}function We(V){if(V._status===-1){var N=V._result;N=N(),N.then(function(J){(V._status===0||V._status===-1)&&(V._status=1,V._result=J)},function(J){(V._status===0||V._status===-1)&&(V._status=2,V._result=J)}),V._status===-1&&(V._status=0,V._result=N)}if(V._status===1)return V._result.default;throw V._result}var ze={current:null},ue={transition:null},Te={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:ue,ReactCurrentOwner:ee};function re(){throw Error("act(...) is not supported in production builds of React.")}return Ge.Children={map:st,forEach:function(V,N,J){st(V,function(){N.apply(this,arguments)},J)},count:function(V){var N=0;return st(V,function(){N++}),N},toArray:function(V){return st(V,function(N){return N})||[]},only:function(V){if(!x(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ge.Component=D,Ge.Fragment=t,Ge.Profiler=o,Ge.PureComponent=F,Ge.StrictMode=r,Ge.Suspense=f,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Te,Ge.act=re,Ge.cloneElement=function(V,N,J){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var te=S({},V.props),fe=V.key,ce=V.ref,Se=V._owner;if(N!=null){if(N.ref!==void 0&&(ce=N.ref,Se=ee.current),N.key!==void 0&&(fe=""+N.key),V.type&&V.type.defaultProps)var we=V.type.defaultProps;for(ge in N)Q.call(N,ge)&&!b.hasOwnProperty(ge)&&(te[ge]=N[ge]===void 0&&we!==void 0?we[ge]:N[ge])}var ge=arguments.length-2;if(ge===1)te.children=J;else if(1<ge){we=Array(ge);for(var qe=0;qe<ge;qe++)we[qe]=arguments[qe+2];te.children=we}return{$$typeof:n,type:V.type,key:fe,ref:ce,props:te,_owner:Se}},Ge.createContext=function(V){return V={$$typeof:u,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:a,_context:V},V.Consumer=V},Ge.createElement=A,Ge.createFactory=function(V){var N=A.bind(null,V);return N.type=V,N},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(V){return{$$typeof:h,render:V}},Ge.isValidElement=x,Ge.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:We}},Ge.memo=function(V,N){return{$$typeof:p,type:V,compare:N===void 0?null:N}},Ge.startTransition=function(V){var N=ue.transition;ue.transition={};try{V()}finally{ue.transition=N}},Ge.unstable_act=re,Ge.useCallback=function(V,N){return ze.current.useCallback(V,N)},Ge.useContext=function(V){return ze.current.useContext(V)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(V){return ze.current.useDeferredValue(V)},Ge.useEffect=function(V,N){return ze.current.useEffect(V,N)},Ge.useId=function(){return ze.current.useId()},Ge.useImperativeHandle=function(V,N,J){return ze.current.useImperativeHandle(V,N,J)},Ge.useInsertionEffect=function(V,N){return ze.current.useInsertionEffect(V,N)},Ge.useLayoutEffect=function(V,N){return ze.current.useLayoutEffect(V,N)},Ge.useMemo=function(V,N){return ze.current.useMemo(V,N)},Ge.useReducer=function(V,N,J){return ze.current.useReducer(V,N,J)},Ge.useRef=function(V){return ze.current.useRef(V)},Ge.useState=function(V){return ze.current.useState(V)},Ge.useSyncExternalStore=function(V,N,J){return ze.current.useSyncExternalStore(V,N,J)},Ge.useTransition=function(){return ze.current.useTransition()},Ge.version="18.3.1",Ge}var m0;function bg(){return m0||(m0=1,tm.exports=A1()),tm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function C1(){if(g0)return jl;g0=1;var n=bg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,p){var v,E={},T=null,I=null;p!==void 0&&(T=""+p),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(I=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(E[v]=f[v]);if(h&&h.defaultProps)for(v in f=h.defaultProps,f)E[v]===void 0&&(E[v]=f[v]);return{$$typeof:e,type:h,key:T,ref:I,props:E,_owner:o.current}}return jl.Fragment=t,jl.jsx=u,jl.jsxs=u,jl}var y0;function P1(){return y0||(y0=1,em.exports=C1()),em.exports}var fu=P1(),K=bg();const Me=Ka(K),v0=I1({__proto__:null,default:Me},[K]);var b1=!1;function k1(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function N1(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var O1=function(){function n(t){var r=this;this._insertTag=function(o){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(o,a),r.tags.push(o)},this.isSpeedy=t.speedy===void 0?!b1:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(N1(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var a=k1(o);try{a.insertRule(r,a.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var o;return(o=r.parentNode)==null?void 0:o.removeChild(r)}),this.tags=[],this.ctr=0},n}(),Tn="-ms-",Gh="-moz-",at="-webkit-",jw="comm",kg="rule",Ng="decl",x1="@import",qw="@keyframes",D1="@layer",L1=Math.abs,Cd=String.fromCharCode,V1=Object.assign;function M1(n,e){return pn(n,0)^45?(((e<<2^pn(n,0))<<2^pn(n,1))<<2^pn(n,2))<<2^pn(n,3):0}function Hw(n){return n.trim()}function F1(n,e){return(n=e.exec(n))?n[0]:n}function lt(n,e,t){return n.replace(e,t)}function Mm(n,e){return n.indexOf(e)}function pn(n,e){return n.charCodeAt(e)|0}function pu(n,e,t){return n.slice(e,t)}function ei(n){return n.length}function Og(n){return n.length}function fh(n,e){return e.push(n),n}function U1(n,e){return n.map(e).join("")}var Pd=1,Na=1,Ww=0,Wn=0,qt=0,Ga="";function bd(n,e,t,r,o,a,u){return{value:n,root:e,parent:t,type:r,props:o,children:a,line:Pd,column:Na,length:u,return:""}}function ql(n,e){return V1(bd("",null,null,"",null,null,0),n,{length:-n.length},e)}function $1(){return qt}function B1(){return qt=Wn>0?pn(Ga,--Wn):0,Na--,qt===10&&(Na=1,Pd--),qt}function sr(){return qt=Wn<Ww?pn(Ga,Wn++):0,Na++,qt===10&&(Na=1,Pd++),qt}function ni(){return pn(Ga,Wn)}function Ph(){return Wn}function Pu(n,e){return pu(Ga,n,e)}function mu(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Kw(n){return Pd=Na=1,Ww=ei(Ga=n),Wn=0,[]}function Gw(n){return Ga="",n}function bh(n){return Hw(Pu(Wn-1,Fm(n===91?n+2:n===40?n+1:n)))}function z1(n){for(;(qt=ni())&&qt<33;)sr();return mu(n)>2||mu(qt)>3?"":" "}function j1(n,e){for(;--e&&sr()&&!(qt<48||qt>102||qt>57&&qt<65||qt>70&&qt<97););return Pu(n,Ph()+(e<6&&ni()==32&&sr()==32))}function Fm(n){for(;sr();)switch(qt){case n:return Wn;case 34:case 39:n!==34&&n!==39&&Fm(qt);break;case 40:n===41&&Fm(n);break;case 92:sr();break}return Wn}function q1(n,e){for(;sr()&&n+qt!==57;)if(n+qt===84&&ni()===47)break;return"/*"+Pu(e,Wn-1)+"*"+Cd(n===47?n:sr())}function H1(n){for(;!mu(ni());)sr();return Pu(n,Wn)}function W1(n){return Gw(kh("",null,null,null,[""],n=Kw(n),0,[0],n))}function kh(n,e,t,r,o,a,u,h,f){for(var p=0,v=0,E=u,T=0,I=0,S=0,C=1,D=1,$=1,F=0,j="",ie=o,Q=a,ee=r,b=j;D;)switch(S=F,F=sr()){case 40:if(S!=108&&pn(b,E-1)==58){Mm(b+=lt(bh(F),"&","&\f"),"&\f")!=-1&&($=-1);break}case 34:case 39:case 91:b+=bh(F);break;case 9:case 10:case 13:case 32:b+=z1(S);break;case 92:b+=j1(Ph()-1,7);continue;case 47:switch(ni()){case 42:case 47:fh(K1(q1(sr(),Ph()),e,t),f);break;default:b+="/"}break;case 123*C:h[p++]=ei(b)*$;case 125*C:case 59:case 0:switch(F){case 0:case 125:D=0;case 59+v:$==-1&&(b=lt(b,/\f/g,"")),I>0&&ei(b)-E&&fh(I>32?E0(b+";",r,t,E-1):E0(lt(b," ","")+";",r,t,E-2),f);break;case 59:b+=";";default:if(fh(ee=_0(b,e,t,p,v,o,h,j,ie=[],Q=[],E),a),F===123)if(v===0)kh(b,e,ee,ee,ie,a,E,h,Q);else switch(T===99&&pn(b,3)===110?100:T){case 100:case 108:case 109:case 115:kh(n,ee,ee,r&&fh(_0(n,ee,ee,0,0,o,h,j,o,ie=[],E),Q),o,Q,E,h,r?ie:Q);break;default:kh(b,ee,ee,ee,[""],Q,0,h,Q)}}p=v=I=0,C=$=1,j=b="",E=u;break;case 58:E=1+ei(b),I=S;default:if(C<1){if(F==123)--C;else if(F==125&&C++==0&&B1()==125)continue}switch(b+=Cd(F),F*C){case 38:$=v>0?1:(b+="\f",-1);break;case 44:h[p++]=(ei(b)-1)*$,$=1;break;case 64:ni()===45&&(b+=bh(sr())),T=ni(),v=E=ei(j=b+=H1(Ph())),F++;break;case 45:S===45&&ei(b)==2&&(C=0)}}return a}function _0(n,e,t,r,o,a,u,h,f,p,v){for(var E=o-1,T=o===0?a:[""],I=Og(T),S=0,C=0,D=0;S<r;++S)for(var $=0,F=pu(n,E+1,E=L1(C=u[S])),j=n;$<I;++$)(j=Hw(C>0?T[$]+" "+F:lt(F,/&\f/g,T[$])))&&(f[D++]=j);return bd(n,e,t,o===0?kg:h,f,p,v)}function K1(n,e,t){return bd(n,e,t,jw,Cd($1()),pu(n,2,-2),0)}function E0(n,e,t,r){return bd(n,e,t,Ng,pu(n,0,r),pu(n,r+1,-1),r)}function wa(n,e){for(var t="",r=Og(n),o=0;o<r;o++)t+=e(n[o],o,n,e)||"";return t}function G1(n,e,t,r){switch(n.type){case D1:if(n.children.length)break;case x1:case Ng:return n.return=n.return||n.value;case jw:return"";case qw:return n.return=n.value+"{"+wa(n.children,r)+"}";case kg:n.value=n.props.join(",")}return ei(t=wa(n.children,r))?n.return=n.value+"{"+t+"}":""}function Q1(n){var e=Og(n);return function(t,r,o,a){for(var u="",h=0;h<e;h++)u+=n[h](t,r,o,a)||"";return u}}function Y1(n){return function(e){e.root||(e=e.return)&&n(e)}}function Qw(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var X1=function(e,t,r){for(var o=0,a=0;o=a,a=ni(),o===38&&a===12&&(t[r]=1),!mu(a);)sr();return Pu(e,Wn)},J1=function(e,t){var r=-1,o=44;do switch(mu(o)){case 0:o===38&&ni()===12&&(t[r]=1),e[r]+=X1(Wn-1,t,r);break;case 2:e[r]+=bh(o);break;case 4:if(o===44){e[++r]=ni()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Cd(o)}while(o=sr());return e},Z1=function(e,t){return Gw(J1(Kw(e),t))},w0=new WeakMap,eC=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,o=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!w0.get(r))&&!o){w0.set(e,!0);for(var a=[],u=Z1(t,a),h=r.props,f=0,p=0;f<u.length;f++)for(var v=0;v<h.length;v++,p++)e.props[p]=a[f]?u[f].replace(/&\f/g,h[v]):h[v]+" "+u[f]}}},tC=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function Yw(n,e){switch(M1(n,e)){case 5103:return at+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return at+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return at+n+Gh+n+Tn+n+n;case 6828:case 4268:return at+n+Tn+n+n;case 6165:return at+n+Tn+"flex-"+n+n;case 5187:return at+n+lt(n,/(\w+).+(:[^]+)/,at+"box-$1$2"+Tn+"flex-$1$2")+n;case 5443:return at+n+Tn+"flex-item-"+lt(n,/flex-|-self/,"")+n;case 4675:return at+n+Tn+"flex-line-pack"+lt(n,/align-content|flex-|-self/,"")+n;case 5548:return at+n+Tn+lt(n,"shrink","negative")+n;case 5292:return at+n+Tn+lt(n,"basis","preferred-size")+n;case 6060:return at+"box-"+lt(n,"-grow","")+at+n+Tn+lt(n,"grow","positive")+n;case 4554:return at+lt(n,/([^-])(transform)/g,"$1"+at+"$2")+n;case 6187:return lt(lt(lt(n,/(zoom-|grab)/,at+"$1"),/(image-set)/,at+"$1"),n,"")+n;case 5495:case 3959:return lt(n,/(image-set\([^]*)/,at+"$1$`$1");case 4968:return lt(lt(n,/(.+:)(flex-)?(.*)/,at+"box-pack:$3"+Tn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+at+n+n;case 4095:case 3583:case 4068:case 2532:return lt(n,/(.+)-inline(.+)/,at+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ei(n)-1-e>6)switch(pn(n,e+1)){case 109:if(pn(n,e+4)!==45)break;case 102:return lt(n,/(.+:)(.+)-([^]+)/,"$1"+at+"$2-$3$1"+Gh+(pn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Mm(n,"stretch")?Yw(lt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(pn(n,e+1)!==115)break;case 6444:switch(pn(n,ei(n)-3-(~Mm(n,"!important")&&10))){case 107:return lt(n,":",":"+at)+n;case 101:return lt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+at+(pn(n,14)===45?"inline-":"")+"box$3$1"+at+"$2$3$1"+Tn+"$2box$3")+n}break;case 5936:switch(pn(n,e+11)){case 114:return at+n+Tn+lt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return at+n+Tn+lt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return at+n+Tn+lt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return at+n+Tn+n+n}return n}var nC=function(e,t,r,o){if(e.length>-1&&!e.return)switch(e.type){case Ng:e.return=Yw(e.value,e.length);break;case qw:return wa([ql(e,{value:lt(e.value,"@","@"+at)})],o);case kg:if(e.length)return U1(e.props,function(a){switch(F1(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return wa([ql(e,{props:[lt(a,/:(read-\w+)/,":"+Gh+"$1")]})],o);case"::placeholder":return wa([ql(e,{props:[lt(a,/:(plac\w+)/,":"+at+"input-$1")]}),ql(e,{props:[lt(a,/:(plac\w+)/,":"+Gh+"$1")]}),ql(e,{props:[lt(a,/:(plac\w+)/,Tn+"input-$1")]})],o)}return""})}},rC=[nC],iC=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(C){var D=C.getAttribute("data-emotion");D.indexOf(" ")!==-1&&(document.head.appendChild(C),C.setAttribute("data-s",""))})}var o=e.stylisPlugins||rC,a={},u,h=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(C){for(var D=C.getAttribute("data-emotion").split(" "),$=1;$<D.length;$++)a[D[$]]=!0;h.push(C)});var f,p=[eC,tC];{var v,E=[G1,Y1(function(C){v.insert(C)})],T=Q1(p.concat(o,E)),I=function(D){return wa(W1(D),T)};f=function(D,$,F,j){v=F,I(D?D+"{"+$.styles+"}":$.styles),j&&(S.inserted[$.name]=!0)}}var S={key:t,sheet:new O1({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:f};return S.sheet.hydrate(h),S};function Ye(){return Ye=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ye.apply(null,arguments)}var nm={exports:{}},ct={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function oC(){if(T0)return ct;T0=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,h=n?Symbol.for("react.context"):60110,f=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,v=n?Symbol.for("react.forward_ref"):60112,E=n?Symbol.for("react.suspense"):60113,T=n?Symbol.for("react.suspense_list"):60120,I=n?Symbol.for("react.memo"):60115,S=n?Symbol.for("react.lazy"):60116,C=n?Symbol.for("react.block"):60121,D=n?Symbol.for("react.fundamental"):60117,$=n?Symbol.for("react.responder"):60118,F=n?Symbol.for("react.scope"):60119;function j(Q){if(typeof Q=="object"&&Q!==null){var ee=Q.$$typeof;switch(ee){case e:switch(Q=Q.type,Q){case f:case p:case r:case a:case o:case E:return Q;default:switch(Q=Q&&Q.$$typeof,Q){case h:case v:case S:case I:case u:return Q;default:return ee}}case t:return ee}}}function ie(Q){return j(Q)===p}return ct.AsyncMode=f,ct.ConcurrentMode=p,ct.ContextConsumer=h,ct.ContextProvider=u,ct.Element=e,ct.ForwardRef=v,ct.Fragment=r,ct.Lazy=S,ct.Memo=I,ct.Portal=t,ct.Profiler=a,ct.StrictMode=o,ct.Suspense=E,ct.isAsyncMode=function(Q){return ie(Q)||j(Q)===f},ct.isConcurrentMode=ie,ct.isContextConsumer=function(Q){return j(Q)===h},ct.isContextProvider=function(Q){return j(Q)===u},ct.isElement=function(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===e},ct.isForwardRef=function(Q){return j(Q)===v},ct.isFragment=function(Q){return j(Q)===r},ct.isLazy=function(Q){return j(Q)===S},ct.isMemo=function(Q){return j(Q)===I},ct.isPortal=function(Q){return j(Q)===t},ct.isProfiler=function(Q){return j(Q)===a},ct.isStrictMode=function(Q){return j(Q)===o},ct.isSuspense=function(Q){return j(Q)===E},ct.isValidElementType=function(Q){return typeof Q=="string"||typeof Q=="function"||Q===r||Q===p||Q===a||Q===o||Q===E||Q===T||typeof Q=="object"&&Q!==null&&(Q.$$typeof===S||Q.$$typeof===I||Q.$$typeof===u||Q.$$typeof===h||Q.$$typeof===v||Q.$$typeof===D||Q.$$typeof===$||Q.$$typeof===F||Q.$$typeof===C)},ct.typeOf=j,ct}var S0;function sC(){return S0||(S0=1,nm.exports=oC()),nm.exports}var rm,R0;function aC(){if(R0)return rm;R0=1;var n=sC(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[n.ForwardRef]=r,a[n.Memo]=o;function u(S){return n.isMemo(S)?o:a[S.$$typeof]||e}var h=Object.defineProperty,f=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,v=Object.getOwnPropertyDescriptor,E=Object.getPrototypeOf,T=Object.prototype;function I(S,C,D){if(typeof C!="string"){if(T){var $=E(C);$&&$!==T&&I(S,$,D)}var F=f(C);p&&(F=F.concat(p(C)));for(var j=u(S),ie=u(C),Q=0;Q<F.length;++Q){var ee=F[Q];if(!t[ee]&&!(D&&D[ee])&&!(ie&&ie[ee])&&!(j&&j[ee])){var b=v(C,ee);try{h(S,ee,b)}catch{}}}}return S}return rm=I,rm}var lC=aC();const jB=Ka(lC);var uC=!0;function Xw(n,e,t){var r="";return t.split(" ").forEach(function(o){n[o]!==void 0?e.push(n[o]+";"):o&&(r+=o+" ")}),r}var xg=function(e,t,r){var o=e.key+"-"+t.name;(r===!1||uC===!1)&&e.registered[o]===void 0&&(e.registered[o]=t.styles)},Dg=function(e,t,r){xg(e,t,r);var o=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var a=t;do e.insert(t===a?"."+o:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function cC(n){for(var e=0,t,r=0,o=n.length;o>=4;++r,o-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(o){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var hC={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},dC=!1,fC=/[A-Z]|^ms/g,pC=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Jw=function(e){return e.charCodeAt(1)===45},I0=function(e){return e!=null&&typeof e!="boolean"},im=Qw(function(n){return Jw(n)?n:n.replace(fC,"-$&").toLowerCase()}),A0=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(pC,function(r,o,a){return ti={name:o,styles:a,next:ti},o})}return hC[e]!==1&&!Jw(e)&&typeof t=="number"&&t!==0?t+"px":t},mC="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function gu(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var o=t;if(o.anim===1)return ti={name:o.name,styles:o.styles,next:ti},o.name;var a=t;if(a.styles!==void 0){var u=a.next;if(u!==void 0)for(;u!==void 0;)ti={name:u.name,styles:u.styles,next:ti},u=u.next;var h=a.styles+";";return h}return gC(n,e,t)}case"function":{if(n!==void 0){var f=ti,p=t(n);return ti=f,gu(n,e,p)}break}}var v=t;if(e==null)return v;var E=e[v];return E!==void 0?E:v}function gC(n,e,t){var r="";if(Array.isArray(t))for(var o=0;o<t.length;o++)r+=gu(n,e,t[o])+";";else for(var a in t){var u=t[a];if(typeof u!="object"){var h=u;e!=null&&e[h]!==void 0?r+=a+"{"+e[h]+"}":I0(h)&&(r+=im(a)+":"+A0(a,h)+";")}else{if(a==="NO_COMPONENT_SELECTOR"&&dC)throw new Error(mC);if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var f=0;f<u.length;f++)I0(u[f])&&(r+=im(a)+":"+A0(a,u[f])+";");else{var p=gu(n,e,u);switch(a){case"animation":case"animationName":{r+=im(a)+":"+p+";";break}default:r+=a+"{"+p+"}"}}}}return r}var C0=/label:\s*([^\s;{]+)\s*(;|$)/g,ti;function kd(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,o="";ti=void 0;var a=n[0];if(a==null||a.raw===void 0)r=!1,o+=gu(t,e,a);else{var u=a;o+=u[0]}for(var h=1;h<n.length;h++)if(o+=gu(t,e,n[h]),r){var f=a;o+=f[h]}C0.lastIndex=0;for(var p="",v;(v=C0.exec(o))!==null;)p+="-"+v[1];var E=cC(o)+p;return{name:E,styles:o,next:ti}}var yC=function(e){return e()},Zw=v0.useInsertionEffect?v0.useInsertionEffect:!1,eT=Zw||yC,P0=Zw||K.useLayoutEffect,vC=!1,tT=K.createContext(typeof HTMLElement<"u"?iC({key:"css"}):null);tT.Provider;var Lg=function(e){return K.forwardRef(function(t,r){var o=K.useContext(tT);return e(t,o,r)})},Vg=K.createContext({}),Nd={}.hasOwnProperty,Um="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",nT=function(e,t){var r={};for(var o in t)Nd.call(t,o)&&(r[o]=t[o]);return r[Um]=e,r},_C=function(e){var t=e.cache,r=e.serialized,o=e.isStringTag;return xg(t,r,o),eT(function(){return Dg(t,r,o)}),null},EC=Lg(function(n,e,t){var r=n.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var o=n[Um],a=[r],u="";typeof n.className=="string"?u=Xw(e.registered,a,n.className):n.className!=null&&(u=n.className+" ");var h=kd(a,void 0,K.useContext(Vg));u+=e.key+"-"+h.name;var f={};for(var p in n)Nd.call(n,p)&&p!=="css"&&p!==Um&&!vC&&(f[p]=n[p]);return f.className=u,t&&(f.ref=t),K.createElement(K.Fragment,null,K.createElement(_C,{cache:e,serialized:h,isStringTag:typeof o=="string"}),K.createElement(o,f))}),rT=EC,Od=fu.Fragment;function ve(n,e,t){return Nd.call(e,"css")?fu.jsx(rT,nT(n,e),t):fu.jsx(n,e,t)}function Xt(n,e,t){return Nd.call(e,"css")?fu.jsxs(rT,nT(n,e),t):fu.jsxs(n,e,t)}var ph={},om={exports:{}},$n={},sm={exports:{}},am={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function wC(){return b0||(b0=1,function(n){function e(ue,Te){var re=ue.length;ue.push(Te);e:for(;0<re;){var V=re-1>>>1,N=ue[V];if(0<o(N,Te))ue[V]=Te,ue[re]=N,re=V;else break e}}function t(ue){return ue.length===0?null:ue[0]}function r(ue){if(ue.length===0)return null;var Te=ue[0],re=ue.pop();if(re!==Te){ue[0]=re;e:for(var V=0,N=ue.length,J=N>>>1;V<J;){var te=2*(V+1)-1,fe=ue[te],ce=te+1,Se=ue[ce];if(0>o(fe,re))ce<N&&0>o(Se,fe)?(ue[V]=Se,ue[ce]=re,V=ce):(ue[V]=fe,ue[te]=re,V=te);else if(ce<N&&0>o(Se,re))ue[V]=Se,ue[ce]=re,V=ce;else break e}}return Te}function o(ue,Te){var re=ue.sortIndex-Te.sortIndex;return re!==0?re:ue.id-Te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],p=[],v=1,E=null,T=3,I=!1,S=!1,C=!1,D=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(ue){for(var Te=t(p);Te!==null;){if(Te.callback===null)r(p);else if(Te.startTime<=ue)r(p),Te.sortIndex=Te.expirationTime,e(f,Te);else break;Te=t(p)}}function ie(ue){if(C=!1,j(ue),!S)if(t(f)!==null)S=!0,We(Q);else{var Te=t(p);Te!==null&&ze(ie,Te.startTime-ue)}}function Q(ue,Te){S=!1,C&&(C=!1,$(A),A=-1),I=!0;var re=T;try{for(j(Te),E=t(f);E!==null&&(!(E.expirationTime>Te)||ue&&!M());){var V=E.callback;if(typeof V=="function"){E.callback=null,T=E.priorityLevel;var N=V(E.expirationTime<=Te);Te=n.unstable_now(),typeof N=="function"?E.callback=N:E===t(f)&&r(f),j(Te)}else r(f);E=t(f)}if(E!==null)var J=!0;else{var te=t(p);te!==null&&ze(ie,te.startTime-Te),J=!1}return J}finally{E=null,T=re,I=!1}}var ee=!1,b=null,A=-1,k=5,x=-1;function M(){return!(n.unstable_now()-x<k)}function B(){if(b!==null){var ue=n.unstable_now();x=ue;var Te=!0;try{Te=b(!0,ue)}finally{Te?P():(ee=!1,b=null)}}else ee=!1}var P;if(typeof F=="function")P=function(){F(B)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,st=Be.port2;Be.port1.onmessage=B,P=function(){st.postMessage(null)}}else P=function(){D(B,0)};function We(ue){b=ue,ee||(ee=!0,P())}function ze(ue,Te){A=D(function(){ue(n.unstable_now())},Te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ue){ue.callback=null},n.unstable_continueExecution=function(){S||I||(S=!0,We(Q))},n.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ue?Math.floor(1e3/ue):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(ue){switch(T){case 1:case 2:case 3:var Te=3;break;default:Te=T}var re=T;T=Te;try{return ue()}finally{T=re}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ue,Te){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var re=T;T=ue;try{return Te()}finally{T=re}},n.unstable_scheduleCallback=function(ue,Te,re){var V=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?V+re:V):re=V,ue){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=re+N,ue={id:v++,callback:Te,priorityLevel:ue,startTime:re,expirationTime:N,sortIndex:-1},re>V?(ue.sortIndex=re,e(p,ue),t(f)===null&&ue===t(p)&&(C?($(A),A=-1):C=!0,ze(ie,re-V))):(ue.sortIndex=N,e(f,ue),S||I||(S=!0,We(Q))),ue},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(ue){var Te=T;return function(){var re=T;T=Te;try{return ue.apply(this,arguments)}finally{T=re}}}}(am)),am}var k0;function TC(){return k0||(k0=1,sm.exports=wC()),sm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function SC(){if(N0)return $n;N0=1;var n=bg(),e=TC();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){u(i,s),u(i+"Capture",s)}function u(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},E={};function T(i){return f.call(E,i)?!0:f.call(v,i)?!1:p.test(i)?E[i]=!0:(v[i]=!0,!1)}function I(i,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function S(i,s,l,d){if(s===null||typeof s>"u"||I(i,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function C(i,s,l,d,m,y,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=s,this.sanitizeURL=y,this.removeEmptyString=w}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){D[i]=new C(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];D[s]=new C(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){D[i]=new C(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){D[i]=new C(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){D[i]=new C(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){D[i]=new C(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){D[i]=new C(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){D[i]=new C(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){D[i]=new C(i,5,!1,i.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function F(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace($,F);D[s]=new C(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace($,F);D[s]=new C(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace($,F);D[s]=new C(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){D[i]=new C(i,1,!1,i.toLowerCase(),null,!1,!1)}),D.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){D[i]=new C(i,1,!1,i.toLowerCase(),null,!0,!0)});function j(i,s,l,d){var m=D.hasOwnProperty(s)?D[s]:null;(m!==null?m.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(S(s,l,m,d)&&(l=null),d||m===null?T(s)&&(l===null?i.removeAttribute(s):i.setAttribute(s,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(s=m.attributeName,d=m.attributeNamespace,l===null?i.removeAttribute(s):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?i.setAttributeNS(d,s,l):i.setAttribute(s,l))))}var ie=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),ee=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),M=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),st=Symbol.for("react.memo"),We=Symbol.for("react.lazy"),ze=Symbol.for("react.offscreen"),ue=Symbol.iterator;function Te(i){return i===null||typeof i!="object"?null:(i=ue&&i[ue]||i["@@iterator"],typeof i=="function"?i:null)}var re=Object.assign,V;function N(i){if(V===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);V=s&&s[1]||""}return`
`+V+i}var J=!1;function te(i,s){if(!i||J)return"";J=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Y){var d=Y}Reflect.construct(i,[],s)}else{try{s.call()}catch(Y){d=Y}i.call(s.prototype)}else{try{throw Error()}catch(Y){d=Y}i()}}catch(Y){if(Y&&d&&typeof Y.stack=="string"){for(var m=Y.stack.split(`
`),y=d.stack.split(`
`),w=m.length-1,O=y.length-1;1<=w&&0<=O&&m[w]!==y[O];)O--;for(;1<=w&&0<=O;w--,O--)if(m[w]!==y[O]){if(w!==1||O!==1)do if(w--,O--,0>O||m[w]!==y[O]){var L=`
`+m[w].replace(" at new "," at ");return i.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",i.displayName)),L}while(1<=w&&0<=O);break}}}finally{J=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?N(i):""}function fe(i){switch(i.tag){case 5:return N(i.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return i=te(i.type,!1),i;case 11:return i=te(i.type.render,!1),i;case 1:return i=te(i.type,!0),i;default:return""}}function ce(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case b:return"Fragment";case ee:return"Portal";case k:return"Profiler";case A:return"StrictMode";case P:return"Suspense";case Be:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case M:return(i.displayName||"Context")+".Consumer";case x:return(i._context.displayName||"Context")+".Provider";case B:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case st:return s=i.displayName||null,s!==null?s:ce(i.type)||"Memo";case We:s=i._payload,i=i._init;try{return ce(i(s))}catch{}}return null}function Se(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function we(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ge(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function qe(i){var s=ge(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),d=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(w){d=""+w,y.call(this,w)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function dt(i){i._valueTracker||(i._valueTracker=qe(i))}function Je(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return i&&(d=ge(i)?i.checked?"true":"false":i.value),i=d,i!==l?(s.setValue(i),!0):!1}function it(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Wt(i,s){var l=s.checked;return re({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function On(i,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=we(s.value!=null?s.value:l),i._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function en(i,s){s=s.checked,s!=null&&j(i,"checked",s,!1)}function Kt(i,s){en(i,s);var l=we(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(d==="submit"||d==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?ji(i,s.type,l):s.hasOwnProperty("defaultValue")&&ji(i,s.type,we(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function Bo(i,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,l||s===i.value||(i.value=s),i.defaultValue=s}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function ji(i,s,l){(s!=="number"||it(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Gn=Array.isArray;function ar(i,s,l,d){if(i=i.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=s.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&d&&(i[l].defaultSelected=!0)}else{for(l=""+we(l),s=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,d&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function qi(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return re({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Hi(i,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Gn(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}i._wrapperState={initialValue:we(l)}}function zr(i,s){var l=we(s.value),d=we(s.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),s.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),d!=null&&(i.defaultValue=""+d)}function di(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function Lt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vt(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?Lt(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var _r,zo=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,m){MSApp.execUnsafeLocalFunction(function(){return i(s,l,d,m)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(_r=_r||document.createElement("div"),_r.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=_r.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function jr(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var fi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qr=["Webkit","ms","Moz","O"];Object.keys(fi).forEach(function(i){qr.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),fi[s]=fi[i]})});function jo(i,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||fi.hasOwnProperty(i)&&fi[i]?(""+s).trim():s+"px"}function qo(i,s){i=i.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=jo(l,s[l],d);l==="float"&&(l="cssFloat"),d?i.setProperty(l,m):i[l]=m}}var W=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function z(i,s){if(s){if(W[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ae(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pe=null;function me(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var _e=null,Pe=null,ke=null;function Oe(i){if(i=Pl(i)){if(typeof _e!="function")throw Error(t(280));var s=i.stateNode;s&&(s=Pc(s),_e(i.stateNode,i.type,s))}}function Le(i){Pe?ke?ke.push(i):ke=[i]:Pe=i}function ut(){if(Pe){var i=Pe,s=ke;if(ke=Pe=null,Oe(i),s)for(i=0;i<s.length;i++)Oe(s[i])}}function Nt(i,s){return i(s)}function St(){}var Ot=!1;function an(i,s,l){if(Ot)return i(s,l);Ot=!0;try{return Nt(i,s,l)}finally{Ot=!1,(Pe!==null||ke!==null)&&(St(),ut())}}function pt(i,s){var l=i.stateNode;if(l===null)return null;var d=Pc(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var Er=!1;if(h)try{var ln={};Object.defineProperty(ln,"passive",{get:function(){Er=!0}}),window.addEventListener("test",ln,ln),window.removeEventListener("test",ln,ln)}catch{Er=!1}function Qn(i,s,l,d,m,y,w,O,L){var Y=Array.prototype.slice.call(arguments,3);try{s.apply(l,Y)}catch(se){this.onError(se)}}var Ho=!1,Ns=null,wr=!1,ll=null,Pf={onError:function(i){Ho=!0,Ns=i}};function Os(i,s,l,d,m,y,w,O,L){Ho=!1,Ns=null,Qn.apply(Pf,arguments)}function Zu(i,s,l,d,m,y,w,O,L){if(Os.apply(this,arguments),Ho){if(Ho){var Y=Ns;Ho=!1,Ns=null}else throw Error(t(198));wr||(wr=!0,ll=Y)}}function Tr(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function Wo(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Sr(i){if(Tr(i)!==i)throw Error(t(188))}function ec(i){var s=i.alternate;if(!s){if(s=Tr(i),s===null)throw Error(t(188));return s!==i?null:i}for(var l=i,d=s;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return Sr(m),i;if(y===d)return Sr(m),s;y=y.sibling}throw Error(t(188))}if(l.return!==d.return)l=m,d=y;else{for(var w=!1,O=m.child;O;){if(O===l){w=!0,l=m,d=y;break}if(O===d){w=!0,d=m,l=y;break}O=O.sibling}if(!w){for(O=y.child;O;){if(O===l){w=!0,l=y,d=m;break}if(O===d){w=!0,d=y,l=m;break}O=O.sibling}if(!w)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:s}function ul(i){return i=ec(i),i!==null?xs(i):null}function xs(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=xs(i);if(s!==null)return s;i=i.sibling}return null}var Ds=e.unstable_scheduleCallback,cl=e.unstable_cancelCallback,tc=e.unstable_shouldYield,bf=e.unstable_requestPaint,yt=e.unstable_now,nc=e.unstable_getCurrentPriorityLevel,Ko=e.unstable_ImmediatePriority,Wi=e.unstable_UserBlockingPriority,lr=e.unstable_NormalPriority,hl=e.unstable_LowPriority,rc=e.unstable_IdlePriority,Go=null,Yn=null;function ic(i){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(Go,i,void 0,(i.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:sc,dl=Math.log,oc=Math.LN2;function sc(i){return i>>>=0,i===0?32:31-(dl(i)/oc|0)|0}var Ls=64,Vs=4194304;function Ki(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Qo(i,s){var l=i.pendingLanes;if(l===0)return 0;var d=0,m=i.suspendedLanes,y=i.pingedLanes,w=l&268435455;if(w!==0){var O=w&~m;O!==0?d=Ki(O):(y&=w,y!==0&&(d=Ki(y)))}else w=l&~m,w!==0?d=Ki(w):y!==0&&(d=Ki(y));if(d===0)return 0;if(s!==0&&s!==d&&!(s&m)&&(m=d&-d,y=s&-s,m>=y||m===16&&(y&4194240)!==0))return s;if(d&4&&(d|=l&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=d;0<s;)l=31-Pn(s),m=1<<l,d|=i[l],s&=~m;return d}function kf(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pi(i,s){for(var l=i.suspendedLanes,d=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes;0<y;){var w=31-Pn(y),O=1<<w,L=m[w];L===-1?(!(O&l)||O&d)&&(m[w]=kf(O,s)):L<=s&&(i.expiredLanes|=O),y&=~O}}function Xn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Yo(){var i=Ls;return Ls<<=1,!(Ls&4194240)&&(Ls=64),i}function Gi(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Qi(i,s,l){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Pn(s),i[s]=l}function mt(i,s){var l=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var d=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-Pn(l),y=1<<m;s[m]=0,d[m]=-1,i[m]=-1,l&=~y}}function Yi(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var d=31-Pn(l),m=1<<d;m&s|i[d]&s&&(i[d]|=s),l&=~m}}var Ze=0;function Xi(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var ac,Ms,lc,uc,cc,fl=!1,Hr=[],un=null,Rr=null,Ir=null,Ji=new Map,ur=new Map,Wr=[],Nf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hc(i,s){switch(i){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":Ji.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ur.delete(s.pointerId)}}function xn(i,s,l,d,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},s!==null&&(s=Pl(s),s!==null&&Ms(s)),i):(i.eventSystemFlags|=d,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function Of(i,s,l,d,m){switch(s){case"focusin":return un=xn(un,i,s,l,d,m),!0;case"dragenter":return Rr=xn(Rr,i,s,l,d,m),!0;case"mouseover":return Ir=xn(Ir,i,s,l,d,m),!0;case"pointerover":var y=m.pointerId;return Ji.set(y,xn(Ji.get(y)||null,i,s,l,d,m)),!0;case"gotpointercapture":return y=m.pointerId,ur.set(y,xn(ur.get(y)||null,i,s,l,d,m)),!0}return!1}function dc(i){var s=ts(i.target);if(s!==null){var l=Tr(s);if(l!==null){if(s=l.tag,s===13){if(s=Wo(l),s!==null){i.blockedOn=s,cc(i.priority,function(){lc(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function mi(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Fs(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var d=new l.constructor(l.type,l);pe=d,l.target.dispatchEvent(d),pe=null}else return s=Pl(l),s!==null&&Ms(s),i.blockedOn=l,!1;s.shift()}return!0}function Xo(i,s,l){mi(i)&&l.delete(s)}function fc(){fl=!1,un!==null&&mi(un)&&(un=null),Rr!==null&&mi(Rr)&&(Rr=null),Ir!==null&&mi(Ir)&&(Ir=null),Ji.forEach(Xo),ur.forEach(Xo)}function Ar(i,s){i.blockedOn===s&&(i.blockedOn=null,fl||(fl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,fc)))}function Cr(i){function s(m){return Ar(m,i)}if(0<Hr.length){Ar(Hr[0],i);for(var l=1;l<Hr.length;l++){var d=Hr[l];d.blockedOn===i&&(d.blockedOn=null)}}for(un!==null&&Ar(un,i),Rr!==null&&Ar(Rr,i),Ir!==null&&Ar(Ir,i),Ji.forEach(s),ur.forEach(s),l=0;l<Wr.length;l++)d=Wr[l],d.blockedOn===i&&(d.blockedOn=null);for(;0<Wr.length&&(l=Wr[0],l.blockedOn===null);)dc(l),l.blockedOn===null&&Wr.shift()}var gi=ie.ReactCurrentBatchConfig,Zi=!0;function Rt(i,s,l,d){var m=Ze,y=gi.transition;gi.transition=null;try{Ze=1,pl(i,s,l,d)}finally{Ze=m,gi.transition=y}}function xf(i,s,l,d){var m=Ze,y=gi.transition;gi.transition=null;try{Ze=4,pl(i,s,l,d)}finally{Ze=m,gi.transition=y}}function pl(i,s,l,d){if(Zi){var m=Fs(i,s,l,d);if(m===null)qf(i,s,d,Jo,l),hc(i,d);else if(Of(m,i,s,l,d))d.stopPropagation();else if(hc(i,d),s&4&&-1<Nf.indexOf(i)){for(;m!==null;){var y=Pl(m);if(y!==null&&ac(y),y=Fs(i,s,l,d),y===null&&qf(i,s,d,Jo,l),y===m)break;m=y}m!==null&&d.stopPropagation()}else qf(i,s,d,null,l)}}var Jo=null;function Fs(i,s,l,d){if(Jo=null,i=me(d),i=ts(i),i!==null)if(s=Tr(i),s===null)i=null;else if(l=s.tag,l===13){if(i=Wo(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return Jo=i,null}function ml(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nc()){case Ko:return 1;case Wi:return 4;case lr:case hl:return 16;case rc:return 536870912;default:return 16}default:return 16}}var Jn=null,Us=null,Dn=null;function gl(){if(Dn)return Dn;var i,s=Us,l=s.length,d,m="value"in Jn?Jn.value:Jn.textContent,y=m.length;for(i=0;i<l&&s[i]===m[i];i++);var w=l-i;for(d=1;d<=w&&s[l-d]===m[y-d];d++);return Dn=m.slice(i,1<d?1-d:void 0)}function $s(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Kr(){return!0}function yl(){return!1}function cn(i){function s(l,d,m,y,w){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(l=i[O],this[O]=l?l(y):y[O]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Kr:yl,this.isPropagationStopped=yl,this}return re(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),s}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bs=cn(Pr),Gr=re({},Pr,{view:0,detail:0}),Df=cn(Gr),zs,yi,eo,Zo=re({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==eo&&(eo&&i.type==="mousemove"?(zs=i.screenX-eo.screenX,yi=i.screenY-eo.screenY):yi=zs=0,eo=i),zs)},movementY:function(i){return"movementY"in i?i.movementY:yi}}),js=cn(Zo),vl=re({},Zo,{dataTransfer:0}),pc=cn(vl),qs=re({},Gr,{relatedTarget:0}),Hs=cn(qs),mc=re({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),vi=cn(mc),gc=re({},Pr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),yc=cn(gc),vc=re({},Pr,{data:0}),_l=cn(vc),Ws={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_c={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ec(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=_c[i])?!!s[i]:!1}function Qr(){return Ec}var c=re({},Gr,{key:function(i){if(i.key){var s=Ws[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=$s(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?bn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qr,charCode:function(i){return i.type==="keypress"?$s(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?$s(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=cn(c),_=re({},Zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R=cn(_),q=re({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qr}),X=cn(q),de=re({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ft=cn(de),Gt=re({},Zo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),tt=cn(Gt),tn=[9,13,27,32],$t=h&&"CompositionEvent"in window,cr=null;h&&"documentMode"in document&&(cr=document.documentMode);var Zn=h&&"TextEvent"in window&&!cr,es=h&&(!$t||cr&&8<cr&&11>=cr),Ks=" ",lv=!1;function uv(i,s){switch(i){case"keyup":return tn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cv(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Gs=!1;function EA(i,s){switch(i){case"compositionend":return cv(s);case"keypress":return s.which!==32?null:(lv=!0,Ks);case"textInput":return i=s.data,i===Ks&&lv?null:i;default:return null}}function wA(i,s){if(Gs)return i==="compositionend"||!$t&&uv(i,s)?(i=gl(),Dn=Us=Jn=null,Gs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return es&&s.locale!=="ko"?null:s.data;default:return null}}var TA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hv(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!TA[i.type]:s==="textarea"}function dv(i,s,l,d){Le(d),s=Ic(s,"onChange"),0<s.length&&(l=new Bs("onChange","change",null,l,d),i.push({event:l,listeners:s}))}var El=null,wl=null;function SA(i){kv(i,0)}function wc(i){var s=Zs(i);if(Je(s))return i}function RA(i,s){if(i==="change")return s}var fv=!1;if(h){var Lf;if(h){var Vf="oninput"in document;if(!Vf){var pv=document.createElement("div");pv.setAttribute("oninput","return;"),Vf=typeof pv.oninput=="function"}Lf=Vf}else Lf=!1;fv=Lf&&(!document.documentMode||9<document.documentMode)}function mv(){El&&(El.detachEvent("onpropertychange",gv),wl=El=null)}function gv(i){if(i.propertyName==="value"&&wc(wl)){var s=[];dv(s,wl,i,me(i)),an(SA,s)}}function IA(i,s,l){i==="focusin"?(mv(),El=s,wl=l,El.attachEvent("onpropertychange",gv)):i==="focusout"&&mv()}function AA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return wc(wl)}function CA(i,s){if(i==="click")return wc(s)}function PA(i,s){if(i==="input"||i==="change")return wc(s)}function bA(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var br=typeof Object.is=="function"?Object.is:bA;function Tl(i,s){if(br(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!f.call(s,m)||!br(i[m],s[m]))return!1}return!0}function yv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function vv(i,s){var l=yv(i);i=0;for(var d;l;){if(l.nodeType===3){if(d=i+l.textContent.length,i<=s&&d>=s)return{node:l,offset:s-i};i=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=yv(l)}}function _v(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?_v(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Ev(){for(var i=window,s=it();s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=it(i.document)}return s}function Mf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function kA(i){var s=Ev(),l=i.focusedElem,d=i.selectionRange;if(s!==l&&l&&l.ownerDocument&&_v(l.ownerDocument.documentElement,l)){if(d!==null&&Mf(l)){if(s=d.start,i=d.end,i===void 0&&(i=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(i,l.value.length);else if(i=(s=l.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,y=Math.min(d.start,m);d=d.end===void 0?y:Math.min(d.end,m),!i.extend&&y>d&&(m=d,d=y,y=m),m=vv(l,y);var w=vv(l,d);m&&w&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==w.node||i.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),i.removeAllRanges(),y>d?(i.addRange(s),i.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),i.addRange(s)))}}for(s=[],i=l;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)i=s[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var NA=h&&"documentMode"in document&&11>=document.documentMode,Qs=null,Ff=null,Sl=null,Uf=!1;function wv(i,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Uf||Qs==null||Qs!==it(d)||(d=Qs,"selectionStart"in d&&Mf(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Sl&&Tl(Sl,d)||(Sl=d,d=Ic(Ff,"onSelect"),0<d.length&&(s=new Bs("onSelect","select",null,s,l),i.push({event:s,listeners:d}),s.target=Qs)))}function Tc(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Ys={animationend:Tc("Animation","AnimationEnd"),animationiteration:Tc("Animation","AnimationIteration"),animationstart:Tc("Animation","AnimationStart"),transitionend:Tc("Transition","TransitionEnd")},$f={},Tv={};h&&(Tv=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function Sc(i){if($f[i])return $f[i];if(!Ys[i])return i;var s=Ys[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Tv)return $f[i]=s[l];return i}var Sv=Sc("animationend"),Rv=Sc("animationiteration"),Iv=Sc("animationstart"),Av=Sc("transitionend"),Cv=new Map,Pv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function to(i,s){Cv.set(i,s),a(s,[i])}for(var Bf=0;Bf<Pv.length;Bf++){var zf=Pv[Bf],OA=zf.toLowerCase(),xA=zf[0].toUpperCase()+zf.slice(1);to(OA,"on"+xA)}to(Sv,"onAnimationEnd"),to(Rv,"onAnimationIteration"),to(Iv,"onAnimationStart"),to("dblclick","onDoubleClick"),to("focusin","onFocus"),to("focusout","onBlur"),to(Av,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rl));function bv(i,s,l){var d=i.type||"unknown-event";i.currentTarget=l,Zu(d,s,void 0,i),i.currentTarget=null}function kv(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var d=i[l],m=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var w=d.length-1;0<=w;w--){var O=d[w],L=O.instance,Y=O.currentTarget;if(O=O.listener,L!==y&&m.isPropagationStopped())break e;bv(m,O,Y),y=L}else for(w=0;w<d.length;w++){if(O=d[w],L=O.instance,Y=O.currentTarget,O=O.listener,L!==y&&m.isPropagationStopped())break e;bv(m,O,Y),y=L}}}if(wr)throw i=ll,wr=!1,ll=null,i}function Et(i,s){var l=s[Yf];l===void 0&&(l=s[Yf]=new Set);var d=i+"__bubble";l.has(d)||(Nv(s,i,2,!1),l.add(d))}function jf(i,s,l){var d=0;s&&(d|=4),Nv(l,i,d,s)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function Il(i){if(!i[Rc]){i[Rc]=!0,r.forEach(function(l){l!=="selectionchange"&&(DA.has(l)||jf(l,!1,i),jf(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Rc]||(s[Rc]=!0,jf("selectionchange",!1,s))}}function Nv(i,s,l,d){switch(ml(s)){case 1:var m=Rt;break;case 4:m=xf;break;default:m=pl}l=m.bind(null,s,l,i),m=void 0,!Er||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),d?m!==void 0?i.addEventListener(s,l,{capture:!0,passive:m}):i.addEventListener(s,l,!0):m!==void 0?i.addEventListener(s,l,{passive:m}):i.addEventListener(s,l,!1)}function qf(i,s,l,d,m){var y=d;if(!(s&1)&&!(s&2)&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var O=d.stateNode.containerInfo;if(O===m||O.nodeType===8&&O.parentNode===m)break;if(w===4)for(w=d.return;w!==null;){var L=w.tag;if((L===3||L===4)&&(L=w.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;w=w.return}for(;O!==null;){if(w=ts(O),w===null)return;if(L=w.tag,L===5||L===6){d=y=w;continue e}O=O.parentNode}}d=d.return}an(function(){var Y=y,se=me(l),le=[];e:{var oe=Cv.get(i);if(oe!==void 0){var Ee=Bs,Ae=i;switch(i){case"keypress":if($s(l)===0)break e;case"keydown":case"keyup":Ee=g;break;case"focusin":Ae="focus",Ee=Hs;break;case"focusout":Ae="blur",Ee=Hs;break;case"beforeblur":case"afterblur":Ee=Hs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=js;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=pc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=X;break;case Sv:case Rv:case Iv:Ee=vi;break;case Av:Ee=ft;break;case"scroll":Ee=Df;break;case"wheel":Ee=tt;break;case"copy":case"cut":case"paste":Ee=yc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=R}var Ce=(s&4)!==0,Mt=!Ce&&i==="scroll",H=Ce?oe!==null?oe+"Capture":null:oe;Ce=[];for(var U=Y,G;U!==null;){G=U;var he=G.stateNode;if(G.tag===5&&he!==null&&(G=he,H!==null&&(he=pt(U,H),he!=null&&Ce.push(Al(U,he,G)))),Mt)break;U=U.return}0<Ce.length&&(oe=new Ee(oe,Ae,null,l,se),le.push({event:oe,listeners:Ce}))}}if(!(s&7)){e:{if(oe=i==="mouseover"||i==="pointerover",Ee=i==="mouseout"||i==="pointerout",oe&&l!==pe&&(Ae=l.relatedTarget||l.fromElement)&&(ts(Ae)||Ae[_i]))break e;if((Ee||oe)&&(oe=se.window===se?se:(oe=se.ownerDocument)?oe.defaultView||oe.parentWindow:window,Ee?(Ae=l.relatedTarget||l.toElement,Ee=Y,Ae=Ae?ts(Ae):null,Ae!==null&&(Mt=Tr(Ae),Ae!==Mt||Ae.tag!==5&&Ae.tag!==6)&&(Ae=null)):(Ee=null,Ae=Y),Ee!==Ae)){if(Ce=js,he="onMouseLeave",H="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(Ce=R,he="onPointerLeave",H="onPointerEnter",U="pointer"),Mt=Ee==null?oe:Zs(Ee),G=Ae==null?oe:Zs(Ae),oe=new Ce(he,U+"leave",Ee,l,se),oe.target=Mt,oe.relatedTarget=G,he=null,ts(se)===Y&&(Ce=new Ce(H,U+"enter",Ae,l,se),Ce.target=G,Ce.relatedTarget=Mt,he=Ce),Mt=he,Ee&&Ae)t:{for(Ce=Ee,H=Ae,U=0,G=Ce;G;G=Xs(G))U++;for(G=0,he=H;he;he=Xs(he))G++;for(;0<U-G;)Ce=Xs(Ce),U--;for(;0<G-U;)H=Xs(H),G--;for(;U--;){if(Ce===H||H!==null&&Ce===H.alternate)break t;Ce=Xs(Ce),H=Xs(H)}Ce=null}else Ce=null;Ee!==null&&Ov(le,oe,Ee,Ce,!1),Ae!==null&&Mt!==null&&Ov(le,Mt,Ae,Ce,!0)}}e:{if(oe=Y?Zs(Y):window,Ee=oe.nodeName&&oe.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&oe.type==="file")var be=RA;else if(hv(oe))if(fv)be=PA;else{be=AA;var xe=IA}else(Ee=oe.nodeName)&&Ee.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(be=CA);if(be&&(be=be(i,Y))){dv(le,be,l,se);break e}xe&&xe(i,oe,Y),i==="focusout"&&(xe=oe._wrapperState)&&xe.controlled&&oe.type==="number"&&ji(oe,"number",oe.value)}switch(xe=Y?Zs(Y):window,i){case"focusin":(hv(xe)||xe.contentEditable==="true")&&(Qs=xe,Ff=Y,Sl=null);break;case"focusout":Sl=Ff=Qs=null;break;case"mousedown":Uf=!0;break;case"contextmenu":case"mouseup":case"dragend":Uf=!1,wv(le,l,se);break;case"selectionchange":if(NA)break;case"keydown":case"keyup":wv(le,l,se)}var De;if($t)e:{switch(i){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Gs?uv(i,l)&&(Ve="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ve="onCompositionStart");Ve&&(es&&l.locale!=="ko"&&(Gs||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Gs&&(De=gl()):(Jn=se,Us="value"in Jn?Jn.value:Jn.textContent,Gs=!0)),xe=Ic(Y,Ve),0<xe.length&&(Ve=new _l(Ve,i,null,l,se),le.push({event:Ve,listeners:xe}),De?Ve.data=De:(De=cv(l),De!==null&&(Ve.data=De)))),(De=Zn?EA(i,l):wA(i,l))&&(Y=Ic(Y,"onBeforeInput"),0<Y.length&&(se=new _l("onBeforeInput","beforeinput",null,l,se),le.push({event:se,listeners:Y}),se.data=De))}kv(le,s)})}function Al(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Ic(i,s){for(var l=s+"Capture",d=[];i!==null;){var m=i,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=pt(i,l),y!=null&&d.unshift(Al(i,y,m)),y=pt(i,s),y!=null&&d.push(Al(i,y,m))),i=i.return}return d}function Xs(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Ov(i,s,l,d,m){for(var y=s._reactName,w=[];l!==null&&l!==d;){var O=l,L=O.alternate,Y=O.stateNode;if(L!==null&&L===d)break;O.tag===5&&Y!==null&&(O=Y,m?(L=pt(l,y),L!=null&&w.unshift(Al(l,L,O))):m||(L=pt(l,y),L!=null&&w.push(Al(l,L,O)))),l=l.return}w.length!==0&&i.push({event:s,listeners:w})}var LA=/\r\n?/g,VA=/\u0000|\uFFFD/g;function xv(i){return(typeof i=="string"?i:""+i).replace(LA,`
`).replace(VA,"")}function Ac(i,s,l){if(s=xv(s),xv(i)!==s&&l)throw Error(t(425))}function Cc(){}var Hf=null,Wf=null;function Kf(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Gf=typeof setTimeout=="function"?setTimeout:void 0,MA=typeof clearTimeout=="function"?clearTimeout:void 0,Dv=typeof Promise=="function"?Promise:void 0,FA=typeof queueMicrotask=="function"?queueMicrotask:typeof Dv<"u"?function(i){return Dv.resolve(null).then(i).catch(UA)}:Gf;function UA(i){setTimeout(function(){throw i})}function Qf(i,s){var l=s,d=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){i.removeChild(m),Cr(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);Cr(s)}function no(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Lv(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}var Js=Math.random().toString(36).slice(2),Yr="__reactFiber$"+Js,Cl="__reactProps$"+Js,_i="__reactContainer$"+Js,Yf="__reactEvents$"+Js,$A="__reactListeners$"+Js,BA="__reactHandles$"+Js;function ts(i){var s=i[Yr];if(s)return s;for(var l=i.parentNode;l;){if(s=l[_i]||l[Yr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=Lv(i);i!==null;){if(l=i[Yr])return l;i=Lv(i)}return s}i=l,l=i.parentNode}return null}function Pl(i){return i=i[Yr]||i[_i],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Zs(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Pc(i){return i[Cl]||null}var Xf=[],ea=-1;function ro(i){return{current:i}}function wt(i){0>ea||(i.current=Xf[ea],Xf[ea]=null,ea--)}function vt(i,s){ea++,Xf[ea]=i.current,i.current=s}var io={},yn=ro(io),Ln=ro(!1),ns=io;function ta(i,s){var l=i.type.contextTypes;if(!l)return io;var d=i.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in l)m[y]=s[y];return d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=m),m}function Vn(i){return i=i.childContextTypes,i!=null}function bc(){wt(Ln),wt(yn)}function Vv(i,s,l){if(yn.current!==io)throw Error(t(168));vt(yn,s),vt(Ln,l)}function Mv(i,s,l){var d=i.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in s))throw Error(t(108,Se(i)||"Unknown",m));return re({},l,d)}function kc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||io,ns=yn.current,vt(yn,i),vt(Ln,Ln.current),!0}function Fv(i,s,l){var d=i.stateNode;if(!d)throw Error(t(169));l?(i=Mv(i,s,ns),d.__reactInternalMemoizedMergedChildContext=i,wt(Ln),wt(yn),vt(yn,i)):wt(Ln),vt(Ln,l)}var Ei=null,Nc=!1,Jf=!1;function Uv(i){Ei===null?Ei=[i]:Ei.push(i)}function zA(i){Nc=!0,Uv(i)}function oo(){if(!Jf&&Ei!==null){Jf=!0;var i=0,s=Ze;try{var l=Ei;for(Ze=1;i<l.length;i++){var d=l[i];do d=d(!0);while(d!==null)}Ei=null,Nc=!1}catch(m){throw Ei!==null&&(Ei=Ei.slice(i+1)),Ds(Ko,oo),m}finally{Ze=s,Jf=!1}}return null}var na=[],ra=0,Oc=null,xc=0,hr=[],dr=0,rs=null,wi=1,Ti="";function is(i,s){na[ra++]=xc,na[ra++]=Oc,Oc=i,xc=s}function $v(i,s,l){hr[dr++]=wi,hr[dr++]=Ti,hr[dr++]=rs,rs=i;var d=wi;i=Ti;var m=32-Pn(d)-1;d&=~(1<<m),l+=1;var y=32-Pn(s)+m;if(30<y){var w=m-m%5;y=(d&(1<<w)-1).toString(32),d>>=w,m-=w,wi=1<<32-Pn(s)+m|l<<m|d,Ti=y+i}else wi=1<<y|l<<m|d,Ti=i}function Zf(i){i.return!==null&&(is(i,1),$v(i,1,0))}function ep(i){for(;i===Oc;)Oc=na[--ra],na[ra]=null,xc=na[--ra],na[ra]=null;for(;i===rs;)rs=hr[--dr],hr[dr]=null,Ti=hr[--dr],hr[dr]=null,wi=hr[--dr],hr[dr]=null}var er=null,tr=null,It=!1,kr=null;function Bv(i,s){var l=gr(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=i,s=i.deletions,s===null?(i.deletions=[l],i.flags|=16):s.push(l)}function zv(i,s){switch(i.tag){case 5:var l=i.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,er=i,tr=no(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,er=i,tr=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=rs!==null?{id:wi,overflow:Ti}:null,i.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=gr(18,null,null,0),l.stateNode=s,l.return=i,i.child=l,er=i,tr=null,!0):!1;default:return!1}}function tp(i){return(i.mode&1)!==0&&(i.flags&128)===0}function np(i){if(It){var s=tr;if(s){var l=s;if(!zv(i,s)){if(tp(i))throw Error(t(418));s=no(l.nextSibling);var d=er;s&&zv(i,s)?Bv(d,l):(i.flags=i.flags&-4097|2,It=!1,er=i)}}else{if(tp(i))throw Error(t(418));i.flags=i.flags&-4097|2,It=!1,er=i}}}function jv(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;er=i}function Dc(i){if(i!==er)return!1;if(!It)return jv(i),It=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Kf(i.type,i.memoizedProps)),s&&(s=tr)){if(tp(i))throw qv(),Error(t(418));for(;s;)Bv(i,s),s=no(s.nextSibling)}if(jv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(s===0){tr=no(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}i=i.nextSibling}tr=null}}else tr=er?no(i.stateNode.nextSibling):null;return!0}function qv(){for(var i=tr;i;)i=no(i.nextSibling)}function ia(){tr=er=null,It=!1}function rp(i){kr===null?kr=[i]:kr.push(i)}var jA=ie.ReactCurrentBatchConfig;function bl(i,s,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,i));var m=d,y=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(w){var O=m.refs;w===null?delete O[y]:O[y]=w},s._stringRef=y,s)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function Lc(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Hv(i){var s=i._init;return s(i._payload)}function Wv(i){function s(H,U){if(i){var G=H.deletions;G===null?(H.deletions=[U],H.flags|=16):G.push(U)}}function l(H,U){if(!i)return null;for(;U!==null;)s(H,U),U=U.sibling;return null}function d(H,U){for(H=new Map;U!==null;)U.key!==null?H.set(U.key,U):H.set(U.index,U),U=U.sibling;return H}function m(H,U){return H=po(H,U),H.index=0,H.sibling=null,H}function y(H,U,G){return H.index=G,i?(G=H.alternate,G!==null?(G=G.index,G<U?(H.flags|=2,U):G):(H.flags|=2,U)):(H.flags|=1048576,U)}function w(H){return i&&H.alternate===null&&(H.flags|=2),H}function O(H,U,G,he){return U===null||U.tag!==6?(U=Gp(G,H.mode,he),U.return=H,U):(U=m(U,G),U.return=H,U)}function L(H,U,G,he){var be=G.type;return be===b?se(H,U,G.props.children,he,G.key):U!==null&&(U.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===We&&Hv(be)===U.type)?(he=m(U,G.props),he.ref=bl(H,U,G),he.return=H,he):(he=oh(G.type,G.key,G.props,null,H.mode,he),he.ref=bl(H,U,G),he.return=H,he)}function Y(H,U,G,he){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=Qp(G,H.mode,he),U.return=H,U):(U=m(U,G.children||[]),U.return=H,U)}function se(H,U,G,he,be){return U===null||U.tag!==7?(U=ds(G,H.mode,he,be),U.return=H,U):(U=m(U,G),U.return=H,U)}function le(H,U,G){if(typeof U=="string"&&U!==""||typeof U=="number")return U=Gp(""+U,H.mode,G),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Q:return G=oh(U.type,U.key,U.props,null,H.mode,G),G.ref=bl(H,null,U),G.return=H,G;case ee:return U=Qp(U,H.mode,G),U.return=H,U;case We:var he=U._init;return le(H,he(U._payload),G)}if(Gn(U)||Te(U))return U=ds(U,H.mode,G,null),U.return=H,U;Lc(H,U)}return null}function oe(H,U,G,he){var be=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return be!==null?null:O(H,U,""+G,he);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case Q:return G.key===be?L(H,U,G,he):null;case ee:return G.key===be?Y(H,U,G,he):null;case We:return be=G._init,oe(H,U,be(G._payload),he)}if(Gn(G)||Te(G))return be!==null?null:se(H,U,G,he,null);Lc(H,G)}return null}function Ee(H,U,G,he,be){if(typeof he=="string"&&he!==""||typeof he=="number")return H=H.get(G)||null,O(U,H,""+he,be);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case Q:return H=H.get(he.key===null?G:he.key)||null,L(U,H,he,be);case ee:return H=H.get(he.key===null?G:he.key)||null,Y(U,H,he,be);case We:var xe=he._init;return Ee(H,U,G,xe(he._payload),be)}if(Gn(he)||Te(he))return H=H.get(G)||null,se(U,H,he,be,null);Lc(U,he)}return null}function Ae(H,U,G,he){for(var be=null,xe=null,De=U,Ve=U=0,on=null;De!==null&&Ve<G.length;Ve++){De.index>Ve?(on=De,De=null):on=De.sibling;var ot=oe(H,De,G[Ve],he);if(ot===null){De===null&&(De=on);break}i&&De&&ot.alternate===null&&s(H,De),U=y(ot,U,Ve),xe===null?be=ot:xe.sibling=ot,xe=ot,De=on}if(Ve===G.length)return l(H,De),It&&is(H,Ve),be;if(De===null){for(;Ve<G.length;Ve++)De=le(H,G[Ve],he),De!==null&&(U=y(De,U,Ve),xe===null?be=De:xe.sibling=De,xe=De);return It&&is(H,Ve),be}for(De=d(H,De);Ve<G.length;Ve++)on=Ee(De,H,Ve,G[Ve],he),on!==null&&(i&&on.alternate!==null&&De.delete(on.key===null?Ve:on.key),U=y(on,U,Ve),xe===null?be=on:xe.sibling=on,xe=on);return i&&De.forEach(function(mo){return s(H,mo)}),It&&is(H,Ve),be}function Ce(H,U,G,he){var be=Te(G);if(typeof be!="function")throw Error(t(150));if(G=be.call(G),G==null)throw Error(t(151));for(var xe=be=null,De=U,Ve=U=0,on=null,ot=G.next();De!==null&&!ot.done;Ve++,ot=G.next()){De.index>Ve?(on=De,De=null):on=De.sibling;var mo=oe(H,De,ot.value,he);if(mo===null){De===null&&(De=on);break}i&&De&&mo.alternate===null&&s(H,De),U=y(mo,U,Ve),xe===null?be=mo:xe.sibling=mo,xe=mo,De=on}if(ot.done)return l(H,De),It&&is(H,Ve),be;if(De===null){for(;!ot.done;Ve++,ot=G.next())ot=le(H,ot.value,he),ot!==null&&(U=y(ot,U,Ve),xe===null?be=ot:xe.sibling=ot,xe=ot);return It&&is(H,Ve),be}for(De=d(H,De);!ot.done;Ve++,ot=G.next())ot=Ee(De,H,Ve,ot.value,he),ot!==null&&(i&&ot.alternate!==null&&De.delete(ot.key===null?Ve:ot.key),U=y(ot,U,Ve),xe===null?be=ot:xe.sibling=ot,xe=ot);return i&&De.forEach(function(T1){return s(H,T1)}),It&&is(H,Ve),be}function Mt(H,U,G,he){if(typeof G=="object"&&G!==null&&G.type===b&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case Q:e:{for(var be=G.key,xe=U;xe!==null;){if(xe.key===be){if(be=G.type,be===b){if(xe.tag===7){l(H,xe.sibling),U=m(xe,G.props.children),U.return=H,H=U;break e}}else if(xe.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===We&&Hv(be)===xe.type){l(H,xe.sibling),U=m(xe,G.props),U.ref=bl(H,xe,G),U.return=H,H=U;break e}l(H,xe);break}else s(H,xe);xe=xe.sibling}G.type===b?(U=ds(G.props.children,H.mode,he,G.key),U.return=H,H=U):(he=oh(G.type,G.key,G.props,null,H.mode,he),he.ref=bl(H,U,G),he.return=H,H=he)}return w(H);case ee:e:{for(xe=G.key;U!==null;){if(U.key===xe)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){l(H,U.sibling),U=m(U,G.children||[]),U.return=H,H=U;break e}else{l(H,U);break}else s(H,U);U=U.sibling}U=Qp(G,H.mode,he),U.return=H,H=U}return w(H);case We:return xe=G._init,Mt(H,U,xe(G._payload),he)}if(Gn(G))return Ae(H,U,G,he);if(Te(G))return Ce(H,U,G,he);Lc(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,U!==null&&U.tag===6?(l(H,U.sibling),U=m(U,G),U.return=H,H=U):(l(H,U),U=Gp(G,H.mode,he),U.return=H,H=U),w(H)):l(H,U)}return Mt}var oa=Wv(!0),Kv=Wv(!1),Vc=ro(null),Mc=null,sa=null,ip=null;function op(){ip=sa=Mc=null}function sp(i){var s=Vc.current;wt(Vc),i._currentValue=s}function ap(i,s,l){for(;i!==null;){var d=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),i===l)break;i=i.return}}function aa(i,s){Mc=i,ip=sa=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(Mn=!0),i.firstContext=null)}function fr(i){var s=i._currentValue;if(ip!==i)if(i={context:i,memoizedValue:s,next:null},sa===null){if(Mc===null)throw Error(t(308));sa=i,Mc.dependencies={lanes:0,firstContext:i}}else sa=sa.next=i;return s}var os=null;function lp(i){os===null?os=[i]:os.push(i)}function Gv(i,s,l,d){var m=s.interleaved;return m===null?(l.next=l,lp(s)):(l.next=m.next,m.next=l),s.interleaved=l,Si(i,d)}function Si(i,s){i.lanes|=s;var l=i.alternate;for(l!==null&&(l.lanes|=s),l=i,i=i.return;i!==null;)i.childLanes|=s,l=i.alternate,l!==null&&(l.childLanes|=s),l=i,i=i.return;return l.tag===3?l.stateNode:null}var so=!1;function up(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qv(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ri(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function ao(i,s,l){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,rt&2){var m=d.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),d.pending=s,Si(i,l)}return m=d.interleaved,m===null?(s.next=s,lp(d)):(s.next=m.next,m.next=s),d.interleaved=s,Si(i,l)}function Fc(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=i.pendingLanes,l|=d,s.lanes=l,Yi(i,l)}}function Yv(i,s){var l=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var w={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?m=y=w:y=y.next=w,l=l.next}while(l!==null);y===null?m=y=s:y=y.next=s}else m=y=s;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,effects:d.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}function Uc(i,s,l,d){var m=i.updateQueue;so=!1;var y=m.firstBaseUpdate,w=m.lastBaseUpdate,O=m.shared.pending;if(O!==null){m.shared.pending=null;var L=O,Y=L.next;L.next=null,w===null?y=Y:w.next=Y,w=L;var se=i.alternate;se!==null&&(se=se.updateQueue,O=se.lastBaseUpdate,O!==w&&(O===null?se.firstBaseUpdate=Y:O.next=Y,se.lastBaseUpdate=L))}if(y!==null){var le=m.baseState;w=0,se=Y=L=null,O=y;do{var oe=O.lane,Ee=O.eventTime;if((d&oe)===oe){se!==null&&(se=se.next={eventTime:Ee,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var Ae=i,Ce=O;switch(oe=s,Ee=l,Ce.tag){case 1:if(Ae=Ce.payload,typeof Ae=="function"){le=Ae.call(Ee,le,oe);break e}le=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ce.payload,oe=typeof Ae=="function"?Ae.call(Ee,le,oe):Ae,oe==null)break e;le=re({},le,oe);break e;case 2:so=!0}}O.callback!==null&&O.lane!==0&&(i.flags|=64,oe=m.effects,oe===null?m.effects=[O]:oe.push(O))}else Ee={eventTime:Ee,lane:oe,tag:O.tag,payload:O.payload,callback:O.callback,next:null},se===null?(Y=se=Ee,L=le):se=se.next=Ee,w|=oe;if(O=O.next,O===null){if(O=m.shared.pending,O===null)break;oe=O,O=oe.next,oe.next=null,m.lastBaseUpdate=oe,m.shared.pending=null}}while(!0);if(se===null&&(L=le),m.baseState=L,m.firstBaseUpdate=Y,m.lastBaseUpdate=se,s=m.shared.interleaved,s!==null){m=s;do w|=m.lane,m=m.next;while(m!==s)}else y===null&&(m.shared.lanes=0);ls|=w,i.lanes=w,i.memoizedState=le}}function Xv(i,s,l){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var d=i[s],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(t(191,m));m.call(d)}}}var kl={},Xr=ro(kl),Nl=ro(kl),Ol=ro(kl);function ss(i){if(i===kl)throw Error(t(174));return i}function cp(i,s){switch(vt(Ol,s),vt(Nl,i),vt(Xr,kl),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Vt(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=Vt(s,i)}wt(Xr),vt(Xr,s)}function la(){wt(Xr),wt(Nl),wt(Ol)}function Jv(i){ss(Ol.current);var s=ss(Xr.current),l=Vt(s,i.type);s!==l&&(vt(Nl,i),vt(Xr,l))}function hp(i){Nl.current===i&&(wt(Xr),wt(Nl))}var Pt=ro(0);function $c(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var dp=[];function fp(){for(var i=0;i<dp.length;i++)dp[i]._workInProgressVersionPrimary=null;dp.length=0}var Bc=ie.ReactCurrentDispatcher,pp=ie.ReactCurrentBatchConfig,as=0,bt=null,Qt=null,nn=null,zc=!1,xl=!1,Dl=0,qA=0;function vn(){throw Error(t(321))}function mp(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!br(i[l],s[l]))return!1;return!0}function gp(i,s,l,d,m,y){if(as=y,bt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Bc.current=i===null||i.memoizedState===null?GA:QA,i=l(d,m),xl){y=0;do{if(xl=!1,Dl=0,25<=y)throw Error(t(301));y+=1,nn=Qt=null,s.updateQueue=null,Bc.current=YA,i=l(d,m)}while(xl)}if(Bc.current=Hc,s=Qt!==null&&Qt.next!==null,as=0,nn=Qt=bt=null,zc=!1,s)throw Error(t(300));return i}function yp(){var i=Dl!==0;return Dl=0,i}function Jr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?bt.memoizedState=nn=i:nn=nn.next=i,nn}function pr(){if(Qt===null){var i=bt.alternate;i=i!==null?i.memoizedState:null}else i=Qt.next;var s=nn===null?bt.memoizedState:nn.next;if(s!==null)nn=s,Qt=i;else{if(i===null)throw Error(t(310));Qt=i,i={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},nn===null?bt.memoizedState=nn=i:nn=nn.next=i}return nn}function Ll(i,s){return typeof s=="function"?s(i):s}function vp(i){var s=pr(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=Qt,m=d.baseQueue,y=l.pending;if(y!==null){if(m!==null){var w=m.next;m.next=y.next,y.next=w}d.baseQueue=m=y,l.pending=null}if(m!==null){y=m.next,d=d.baseState;var O=w=null,L=null,Y=y;do{var se=Y.lane;if((as&se)===se)L!==null&&(L=L.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),d=Y.hasEagerState?Y.eagerState:i(d,Y.action);else{var le={lane:se,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};L===null?(O=L=le,w=d):L=L.next=le,bt.lanes|=se,ls|=se}Y=Y.next}while(Y!==null&&Y!==y);L===null?w=d:L.next=O,br(d,s.memoizedState)||(Mn=!0),s.memoizedState=d,s.baseState=w,s.baseQueue=L,l.lastRenderedState=d}if(i=l.interleaved,i!==null){m=i;do y=m.lane,bt.lanes|=y,ls|=y,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function _p(i){var s=pr(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var d=l.dispatch,m=l.pending,y=s.memoizedState;if(m!==null){l.pending=null;var w=m=m.next;do y=i(y,w.action),w=w.next;while(w!==m);br(y,s.memoizedState)||(Mn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,d]}function Zv(){}function e_(i,s){var l=bt,d=pr(),m=s(),y=!br(d.memoizedState,m);if(y&&(d.memoizedState=m,Mn=!0),d=d.queue,Ep(r_.bind(null,l,d,i),[i]),d.getSnapshot!==s||y||nn!==null&&nn.memoizedState.tag&1){if(l.flags|=2048,Vl(9,n_.bind(null,l,d,m,s),void 0,null),rn===null)throw Error(t(349));as&30||t_(l,s,m)}return m}function t_(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=bt.updateQueue,s===null?(s={lastEffect:null,stores:null},bt.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function n_(i,s,l,d){s.value=l,s.getSnapshot=d,i_(s)&&o_(i)}function r_(i,s,l){return l(function(){i_(s)&&o_(i)})}function i_(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!br(i,l)}catch{return!0}}function o_(i){var s=Si(i,1);s!==null&&Dr(s,i,1,-1)}function s_(i){var s=Jr();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ll,lastRenderedState:i},s.queue=i,i=i.dispatch=KA.bind(null,bt,i),[s.memoizedState,i]}function Vl(i,s,l,d){return i={tag:i,create:s,destroy:l,deps:d,next:null},s=bt.updateQueue,s===null?(s={lastEffect:null,stores:null},bt.updateQueue=s,s.lastEffect=i.next=i):(l=s.lastEffect,l===null?s.lastEffect=i.next=i:(d=l.next,l.next=i,i.next=d,s.lastEffect=i)),i}function a_(){return pr().memoizedState}function jc(i,s,l,d){var m=Jr();bt.flags|=i,m.memoizedState=Vl(1|s,l,void 0,d===void 0?null:d)}function qc(i,s,l,d){var m=pr();d=d===void 0?null:d;var y=void 0;if(Qt!==null){var w=Qt.memoizedState;if(y=w.destroy,d!==null&&mp(d,w.deps)){m.memoizedState=Vl(s,l,y,d);return}}bt.flags|=i,m.memoizedState=Vl(1|s,l,y,d)}function l_(i,s){return jc(8390656,8,i,s)}function Ep(i,s){return qc(2048,8,i,s)}function u_(i,s){return qc(4,2,i,s)}function c_(i,s){return qc(4,4,i,s)}function h_(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function d_(i,s,l){return l=l!=null?l.concat([i]):null,qc(4,4,h_.bind(null,s,i),l)}function wp(){}function f_(i,s){var l=pr();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&mp(s,d[1])?d[0]:(l.memoizedState=[i,s],i)}function p_(i,s){var l=pr();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&mp(s,d[1])?d[0]:(i=i(),l.memoizedState=[i,s],i)}function m_(i,s,l){return as&21?(br(l,s)||(l=Yo(),bt.lanes|=l,ls|=l,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,Mn=!0),i.memoizedState=l)}function HA(i,s){var l=Ze;Ze=l!==0&&4>l?l:4,i(!0);var d=pp.transition;pp.transition={};try{i(!1),s()}finally{Ze=l,pp.transition=d}}function g_(){return pr().memoizedState}function WA(i,s,l){var d=ho(i);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},y_(i))v_(s,l);else if(l=Gv(i,s,l,d),l!==null){var m=Nn();Dr(l,i,d,m),__(l,s,d)}}function KA(i,s,l){var d=ho(i),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(y_(i))v_(s,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var w=s.lastRenderedState,O=y(w,l);if(m.hasEagerState=!0,m.eagerState=O,br(O,w)){var L=s.interleaved;L===null?(m.next=m,lp(s)):(m.next=L.next,L.next=m),s.interleaved=m;return}}catch{}finally{}l=Gv(i,s,m,d),l!==null&&(m=Nn(),Dr(l,i,d,m),__(l,s,d))}}function y_(i){var s=i.alternate;return i===bt||s!==null&&s===bt}function v_(i,s){xl=zc=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function __(i,s,l){if(l&4194240){var d=s.lanes;d&=i.pendingLanes,l|=d,s.lanes=l,Yi(i,l)}}var Hc={readContext:fr,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useInsertionEffect:vn,useLayoutEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useMutableSource:vn,useSyncExternalStore:vn,useId:vn,unstable_isNewReconciler:!1},GA={readContext:fr,useCallback:function(i,s){return Jr().memoizedState=[i,s===void 0?null:s],i},useContext:fr,useEffect:l_,useImperativeHandle:function(i,s,l){return l=l!=null?l.concat([i]):null,jc(4194308,4,h_.bind(null,s,i),l)},useLayoutEffect:function(i,s){return jc(4194308,4,i,s)},useInsertionEffect:function(i,s){return jc(4,2,i,s)},useMemo:function(i,s){var l=Jr();return s=s===void 0?null:s,i=i(),l.memoizedState=[i,s],i},useReducer:function(i,s,l){var d=Jr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},d.queue=i,i=i.dispatch=WA.bind(null,bt,i),[d.memoizedState,i]},useRef:function(i){var s=Jr();return i={current:i},s.memoizedState=i},useState:s_,useDebugValue:wp,useDeferredValue:function(i){return Jr().memoizedState=i},useTransition:function(){var i=s_(!1),s=i[0];return i=HA.bind(null,i[1]),Jr().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,l){var d=bt,m=Jr();if(It){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),rn===null)throw Error(t(349));as&30||t_(d,s,l)}m.memoizedState=l;var y={value:l,getSnapshot:s};return m.queue=y,l_(r_.bind(null,d,y,i),[i]),d.flags|=2048,Vl(9,n_.bind(null,d,y,l,s),void 0,null),l},useId:function(){var i=Jr(),s=rn.identifierPrefix;if(It){var l=Ti,d=wi;l=(d&~(1<<32-Pn(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=Dl++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=qA++,s=":"+s+"r"+l.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},QA={readContext:fr,useCallback:f_,useContext:fr,useEffect:Ep,useImperativeHandle:d_,useInsertionEffect:u_,useLayoutEffect:c_,useMemo:p_,useReducer:vp,useRef:a_,useState:function(){return vp(Ll)},useDebugValue:wp,useDeferredValue:function(i){var s=pr();return m_(s,Qt.memoizedState,i)},useTransition:function(){var i=vp(Ll)[0],s=pr().memoizedState;return[i,s]},useMutableSource:Zv,useSyncExternalStore:e_,useId:g_,unstable_isNewReconciler:!1},YA={readContext:fr,useCallback:f_,useContext:fr,useEffect:Ep,useImperativeHandle:d_,useInsertionEffect:u_,useLayoutEffect:c_,useMemo:p_,useReducer:_p,useRef:a_,useState:function(){return _p(Ll)},useDebugValue:wp,useDeferredValue:function(i){var s=pr();return Qt===null?s.memoizedState=i:m_(s,Qt.memoizedState,i)},useTransition:function(){var i=_p(Ll)[0],s=pr().memoizedState;return[i,s]},useMutableSource:Zv,useSyncExternalStore:e_,useId:g_,unstable_isNewReconciler:!1};function Nr(i,s){if(i&&i.defaultProps){s=re({},s),i=i.defaultProps;for(var l in i)s[l]===void 0&&(s[l]=i[l]);return s}return s}function Tp(i,s,l,d){s=i.memoizedState,l=l(d,s),l=l==null?s:re({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Wc={isMounted:function(i){return(i=i._reactInternals)?Tr(i)===i:!1},enqueueSetState:function(i,s,l){i=i._reactInternals;var d=Nn(),m=ho(i),y=Ri(d,m);y.payload=s,l!=null&&(y.callback=l),s=ao(i,y,m),s!==null&&(Dr(s,i,m,d),Fc(s,i,m))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var d=Nn(),m=ho(i),y=Ri(d,m);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=ao(i,y,m),s!==null&&(Dr(s,i,m,d),Fc(s,i,m))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=Nn(),d=ho(i),m=Ri(l,d);m.tag=2,s!=null&&(m.callback=s),s=ao(i,m,d),s!==null&&(Dr(s,i,d,l),Fc(s,i,d))}};function E_(i,s,l,d,m,y,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,y,w):s.prototype&&s.prototype.isPureReactComponent?!Tl(l,d)||!Tl(m,y):!0}function w_(i,s,l){var d=!1,m=io,y=s.contextType;return typeof y=="object"&&y!==null?y=fr(y):(m=Vn(s)?ns:yn.current,d=s.contextTypes,y=(d=d!=null)?ta(i,m):io),s=new s(l,y),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Wc,i.stateNode=s,s._reactInternals=i,d&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=y),s}function T_(i,s,l,d){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==i&&Wc.enqueueReplaceState(s,s.state,null)}function Sp(i,s,l,d){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},up(i);var y=s.contextType;typeof y=="object"&&y!==null?m.context=fr(y):(y=Vn(s)?ns:yn.current,m.context=ta(i,y)),m.state=i.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Tp(i,s,y,l),m.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(s=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),s!==m.state&&Wc.enqueueReplaceState(m,m.state,null),Uc(i,l,m,d),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function ua(i,s){try{var l="",d=s;do l+=fe(d),d=d.return;while(d);var m=l}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:s,stack:m,digest:null}}function Rp(i,s,l){return{value:i,source:null,stack:l??null,digest:s??null}}function Ip(i,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var XA=typeof WeakMap=="function"?WeakMap:Map;function S_(i,s,l){l=Ri(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){Zc||(Zc=!0,$p=d),Ip(i,s)},l}function R_(i,s,l){l=Ri(-1,l),l.tag=3;var d=i.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;l.payload=function(){return d(m)},l.callback=function(){Ip(i,s)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Ip(i,s),typeof d!="function"&&(uo===null?uo=new Set([this]):uo.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),l}function I_(i,s,l){var d=i.pingCache;if(d===null){d=i.pingCache=new XA;var m=new Set;d.set(s,m)}else m=d.get(s),m===void 0&&(m=new Set,d.set(s,m));m.has(l)||(m.add(l),i=h1.bind(null,i,s,l),s.then(i,i))}function A_(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function C_(i,s,l,d,m){return i.mode&1?(i.flags|=65536,i.lanes=m,i):(i===s?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Ri(-1,1),s.tag=2,ao(l,s,1))),l.lanes|=1),i)}var JA=ie.ReactCurrentOwner,Mn=!1;function kn(i,s,l,d){s.child=i===null?Kv(s,null,l,d):oa(s,i.child,l,d)}function P_(i,s,l,d,m){l=l.render;var y=s.ref;return aa(s,m),d=gp(i,s,l,d,y,m),l=yp(),i!==null&&!Mn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~m,Ii(i,s,m)):(It&&l&&Zf(s),s.flags|=1,kn(i,s,d,m),s.child)}function b_(i,s,l,d,m){if(i===null){var y=l.type;return typeof y=="function"&&!Kp(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,k_(i,s,y,d,m)):(i=oh(l.type,null,d,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!(i.lanes&m)){var w=y.memoizedProps;if(l=l.compare,l=l!==null?l:Tl,l(w,d)&&i.ref===s.ref)return Ii(i,s,m)}return s.flags|=1,i=po(y,d),i.ref=s.ref,i.return=s,s.child=i}function k_(i,s,l,d,m){if(i!==null){var y=i.memoizedProps;if(Tl(y,d)&&i.ref===s.ref)if(Mn=!1,s.pendingProps=d=y,(i.lanes&m)!==0)i.flags&131072&&(Mn=!0);else return s.lanes=i.lanes,Ii(i,s,m)}return Ap(i,s,l,d,m)}function N_(i,s,l){var d=s.pendingProps,m=d.children,y=i!==null?i.memoizedState:null;if(d.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt(ha,nr),nr|=l;else{if(!(l&1073741824))return i=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,vt(ha,nr),nr|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,vt(ha,nr),nr|=d}else y!==null?(d=y.baseLanes|l,s.memoizedState=null):d=l,vt(ha,nr),nr|=d;return kn(i,s,m,l),s.child}function O_(i,s){var l=s.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Ap(i,s,l,d,m){var y=Vn(l)?ns:yn.current;return y=ta(s,y),aa(s,m),l=gp(i,s,l,d,y,m),d=yp(),i!==null&&!Mn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~m,Ii(i,s,m)):(It&&d&&Zf(s),s.flags|=1,kn(i,s,l,m),s.child)}function x_(i,s,l,d,m){if(Vn(l)){var y=!0;kc(s)}else y=!1;if(aa(s,m),s.stateNode===null)Gc(i,s),w_(s,l,d),Sp(s,l,d,m),d=!0;else if(i===null){var w=s.stateNode,O=s.memoizedProps;w.props=O;var L=w.context,Y=l.contextType;typeof Y=="object"&&Y!==null?Y=fr(Y):(Y=Vn(l)?ns:yn.current,Y=ta(s,Y));var se=l.getDerivedStateFromProps,le=typeof se=="function"||typeof w.getSnapshotBeforeUpdate=="function";le||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O!==d||L!==Y)&&T_(s,w,d,Y),so=!1;var oe=s.memoizedState;w.state=oe,Uc(s,d,w,m),L=s.memoizedState,O!==d||oe!==L||Ln.current||so?(typeof se=="function"&&(Tp(s,l,se,d),L=s.memoizedState),(O=so||E_(s,l,O,d,oe,L,Y))?(le||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=L),w.props=d,w.state=L,w.context=Y,d=O):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{w=s.stateNode,Qv(i,s),O=s.memoizedProps,Y=s.type===s.elementType?O:Nr(s.type,O),w.props=Y,le=s.pendingProps,oe=w.context,L=l.contextType,typeof L=="object"&&L!==null?L=fr(L):(L=Vn(l)?ns:yn.current,L=ta(s,L));var Ee=l.getDerivedStateFromProps;(se=typeof Ee=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O!==le||oe!==L)&&T_(s,w,d,L),so=!1,oe=s.memoizedState,w.state=oe,Uc(s,d,w,m);var Ae=s.memoizedState;O!==le||oe!==Ae||Ln.current||so?(typeof Ee=="function"&&(Tp(s,l,Ee,d),Ae=s.memoizedState),(Y=so||E_(s,l,Y,d,oe,Ae,L)||!1)?(se||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,Ae,L),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,Ae,L)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||O===i.memoizedProps&&oe===i.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&oe===i.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=Ae),w.props=d,w.state=Ae,w.context=L,d=Y):(typeof w.componentDidUpdate!="function"||O===i.memoizedProps&&oe===i.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&oe===i.memoizedState||(s.flags|=1024),d=!1)}return Cp(i,s,l,d,y,m)}function Cp(i,s,l,d,m,y){O_(i,s);var w=(s.flags&128)!==0;if(!d&&!w)return m&&Fv(s,l,!1),Ii(i,s,y);d=s.stateNode,JA.current=s;var O=w&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,i!==null&&w?(s.child=oa(s,i.child,null,y),s.child=oa(s,null,O,y)):kn(i,s,O,y),s.memoizedState=d.state,m&&Fv(s,l,!0),s.child}function D_(i){var s=i.stateNode;s.pendingContext?Vv(i,s.pendingContext,s.pendingContext!==s.context):s.context&&Vv(i,s.context,!1),cp(i,s.containerInfo)}function L_(i,s,l,d,m){return ia(),rp(m),s.flags|=256,kn(i,s,l,d),s.child}var Pp={dehydrated:null,treeContext:null,retryLane:0};function bp(i){return{baseLanes:i,cachePool:null,transitions:null}}function V_(i,s,l){var d=s.pendingProps,m=Pt.current,y=!1,w=(s.flags&128)!==0,O;if((O=w)||(O=i!==null&&i.memoizedState===null?!1:(m&2)!==0),O?(y=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),vt(Pt,m&1),i===null)return np(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=d.children,i=d.fallback,y?(d=s.mode,y=s.child,w={mode:"hidden",children:w},!(d&1)&&y!==null?(y.childLanes=0,y.pendingProps=w):y=sh(w,d,0,null),i=ds(i,d,l,null),y.return=s,i.return=s,y.sibling=i,s.child=y,s.child.memoizedState=bp(l),s.memoizedState=Pp,i):kp(s,w));if(m=i.memoizedState,m!==null&&(O=m.dehydrated,O!==null))return ZA(i,s,w,d,O,m,l);if(y){y=d.fallback,w=s.mode,m=i.child,O=m.sibling;var L={mode:"hidden",children:d.children};return!(w&1)&&s.child!==m?(d=s.child,d.childLanes=0,d.pendingProps=L,s.deletions=null):(d=po(m,L),d.subtreeFlags=m.subtreeFlags&14680064),O!==null?y=po(O,y):(y=ds(y,w,l,null),y.flags|=2),y.return=s,d.return=s,d.sibling=y,s.child=d,d=y,y=s.child,w=i.child.memoizedState,w=w===null?bp(l):{baseLanes:w.baseLanes|l,cachePool:null,transitions:w.transitions},y.memoizedState=w,y.childLanes=i.childLanes&~l,s.memoizedState=Pp,d}return y=i.child,i=y.sibling,d=po(y,{mode:"visible",children:d.children}),!(s.mode&1)&&(d.lanes=l),d.return=s,d.sibling=null,i!==null&&(l=s.deletions,l===null?(s.deletions=[i],s.flags|=16):l.push(i)),s.child=d,s.memoizedState=null,d}function kp(i,s){return s=sh({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function Kc(i,s,l,d){return d!==null&&rp(d),oa(s,i.child,null,l),i=kp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function ZA(i,s,l,d,m,y,w){if(l)return s.flags&256?(s.flags&=-257,d=Rp(Error(t(422))),Kc(i,s,w,d)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(y=d.fallback,m=s.mode,d=sh({mode:"visible",children:d.children},m,0,null),y=ds(y,m,w,null),y.flags|=2,d.return=s,y.return=s,d.sibling=y,s.child=d,s.mode&1&&oa(s,i.child,null,w),s.child.memoizedState=bp(w),s.memoizedState=Pp,y);if(!(s.mode&1))return Kc(i,s,w,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var O=d.dgst;return d=O,y=Error(t(419)),d=Rp(y,d,void 0),Kc(i,s,w,d)}if(O=(w&i.childLanes)!==0,Mn||O){if(d=rn,d!==null){switch(w&-w){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(d.suspendedLanes|w)?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,Si(i,m),Dr(d,i,m,-1))}return Wp(),d=Rp(Error(t(421))),Kc(i,s,w,d)}return m.data==="$?"?(s.flags|=128,s.child=i.child,s=d1.bind(null,i),m._reactRetry=s,null):(i=y.treeContext,tr=no(m.nextSibling),er=s,It=!0,kr=null,i!==null&&(hr[dr++]=wi,hr[dr++]=Ti,hr[dr++]=rs,wi=i.id,Ti=i.overflow,rs=s),s=kp(s,d.children),s.flags|=4096,s)}function M_(i,s,l){i.lanes|=s;var d=i.alternate;d!==null&&(d.lanes|=s),ap(i.return,s,l)}function Np(i,s,l,d,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=m)}function F_(i,s,l){var d=s.pendingProps,m=d.revealOrder,y=d.tail;if(kn(i,s,d.children,l),d=Pt.current,d&2)d=d&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&M_(i,l,s);else if(i.tag===19)M_(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}if(vt(Pt,d),!(s.mode&1))s.memoizedState=null;else switch(m){case"forwards":for(l=s.child,m=null;l!==null;)i=l.alternate,i!==null&&$c(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),Np(s,!1,m,l,y);break;case"backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&$c(i)===null){s.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}Np(s,!0,l,null,y);break;case"together":Np(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Gc(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Ii(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),ls|=s.lanes,!(l&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,l=po(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=po(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function e1(i,s,l){switch(s.tag){case 3:D_(s),ia();break;case 5:Jv(s);break;case 1:Vn(s.type)&&kc(s);break;case 4:cp(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,m=s.memoizedProps.value;vt(Vc,d._currentValue),d._currentValue=m;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(vt(Pt,Pt.current&1),s.flags|=128,null):l&s.child.childLanes?V_(i,s,l):(vt(Pt,Pt.current&1),i=Ii(i,s,l),i!==null?i.sibling:null);vt(Pt,Pt.current&1);break;case 19:if(d=(l&s.childLanes)!==0,i.flags&128){if(d)return F_(i,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),vt(Pt,Pt.current),d)break;return null;case 22:case 23:return s.lanes=0,N_(i,s,l)}return Ii(i,s,l)}var U_,Op,$_,B_;U_=function(i,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Op=function(){},$_=function(i,s,l,d){var m=i.memoizedProps;if(m!==d){i=s.stateNode,ss(Xr.current);var y=null;switch(l){case"input":m=Wt(i,m),d=Wt(i,d),y=[];break;case"select":m=re({},m,{value:void 0}),d=re({},d,{value:void 0}),y=[];break;case"textarea":m=qi(i,m),d=qi(i,d),y=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(i.onclick=Cc)}z(l,d);var w;l=null;for(Y in m)if(!d.hasOwnProperty(Y)&&m.hasOwnProperty(Y)&&m[Y]!=null)if(Y==="style"){var O=m[Y];for(w in O)O.hasOwnProperty(w)&&(l||(l={}),l[w]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(o.hasOwnProperty(Y)?y||(y=[]):(y=y||[]).push(Y,null));for(Y in d){var L=d[Y];if(O=m!=null?m[Y]:void 0,d.hasOwnProperty(Y)&&L!==O&&(L!=null||O!=null))if(Y==="style")if(O){for(w in O)!O.hasOwnProperty(w)||L&&L.hasOwnProperty(w)||(l||(l={}),l[w]="");for(w in L)L.hasOwnProperty(w)&&O[w]!==L[w]&&(l||(l={}),l[w]=L[w])}else l||(y||(y=[]),y.push(Y,l)),l=L;else Y==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,O=O?O.__html:void 0,L!=null&&O!==L&&(y=y||[]).push(Y,L)):Y==="children"?typeof L!="string"&&typeof L!="number"||(y=y||[]).push(Y,""+L):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(o.hasOwnProperty(Y)?(L!=null&&Y==="onScroll"&&Et("scroll",i),y||O===L||(y=[])):(y=y||[]).push(Y,L))}l&&(y=y||[]).push("style",l);var Y=y;(s.updateQueue=Y)&&(s.flags|=4)}},B_=function(i,s,l,d){l!==d&&(s.flags|=4)};function Ml(i,s){if(!It)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function _n(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,d=0;if(s)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=d,i.childLanes=l,s}function t1(i,s,l){var d=s.pendingProps;switch(ep(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(s),null;case 1:return Vn(s.type)&&bc(),_n(s),null;case 3:return d=s.stateNode,la(),wt(Ln),wt(yn),fp(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Dc(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,kr!==null&&(jp(kr),kr=null))),Op(i,s),_n(s),null;case 5:hp(s);var m=ss(Ol.current);if(l=s.type,i!==null&&s.stateNode!=null)$_(i,s,l,d,m),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return _n(s),null}if(i=ss(Xr.current),Dc(s)){d=s.stateNode,l=s.type;var y=s.memoizedProps;switch(d[Yr]=s,d[Cl]=y,i=(s.mode&1)!==0,l){case"dialog":Et("cancel",d),Et("close",d);break;case"iframe":case"object":case"embed":Et("load",d);break;case"video":case"audio":for(m=0;m<Rl.length;m++)Et(Rl[m],d);break;case"source":Et("error",d);break;case"img":case"image":case"link":Et("error",d),Et("load",d);break;case"details":Et("toggle",d);break;case"input":On(d,y),Et("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},Et("invalid",d);break;case"textarea":Hi(d,y),Et("invalid",d)}z(l,y),m=null;for(var w in y)if(y.hasOwnProperty(w)){var O=y[w];w==="children"?typeof O=="string"?d.textContent!==O&&(y.suppressHydrationWarning!==!0&&Ac(d.textContent,O,i),m=["children",O]):typeof O=="number"&&d.textContent!==""+O&&(y.suppressHydrationWarning!==!0&&Ac(d.textContent,O,i),m=["children",""+O]):o.hasOwnProperty(w)&&O!=null&&w==="onScroll"&&Et("scroll",d)}switch(l){case"input":dt(d),Bo(d,y,!0);break;case"textarea":dt(d),di(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=Cc)}d=m,s.updateQueue=d,d!==null&&(s.flags|=4)}else{w=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Lt(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=w.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof d.is=="string"?i=w.createElement(l,{is:d.is}):(i=w.createElement(l),l==="select"&&(w=i,d.multiple?w.multiple=!0:d.size&&(w.size=d.size))):i=w.createElementNS(i,l),i[Yr]=s,i[Cl]=d,U_(i,s,!1,!1),s.stateNode=i;e:{switch(w=ae(l,d),l){case"dialog":Et("cancel",i),Et("close",i),m=d;break;case"iframe":case"object":case"embed":Et("load",i),m=d;break;case"video":case"audio":for(m=0;m<Rl.length;m++)Et(Rl[m],i);m=d;break;case"source":Et("error",i),m=d;break;case"img":case"image":case"link":Et("error",i),Et("load",i),m=d;break;case"details":Et("toggle",i),m=d;break;case"input":On(i,d),m=Wt(i,d),Et("invalid",i);break;case"option":m=d;break;case"select":i._wrapperState={wasMultiple:!!d.multiple},m=re({},d,{value:void 0}),Et("invalid",i);break;case"textarea":Hi(i,d),m=qi(i,d),Et("invalid",i);break;default:m=d}z(l,m),O=m;for(y in O)if(O.hasOwnProperty(y)){var L=O[y];y==="style"?qo(i,L):y==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&zo(i,L)):y==="children"?typeof L=="string"?(l!=="textarea"||L!=="")&&jr(i,L):typeof L=="number"&&jr(i,""+L):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?L!=null&&y==="onScroll"&&Et("scroll",i):L!=null&&j(i,y,L,w))}switch(l){case"input":dt(i),Bo(i,d,!1);break;case"textarea":dt(i),di(i);break;case"option":d.value!=null&&i.setAttribute("value",""+we(d.value));break;case"select":i.multiple=!!d.multiple,y=d.value,y!=null?ar(i,!!d.multiple,y,!1):d.defaultValue!=null&&ar(i,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=Cc)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return _n(s),null;case 6:if(i&&s.stateNode!=null)B_(i,s,i.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=ss(Ol.current),ss(Xr.current),Dc(s)){if(d=s.stateNode,l=s.memoizedProps,d[Yr]=s,(y=d.nodeValue!==l)&&(i=er,i!==null))switch(i.tag){case 3:Ac(d.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Ac(d.nodeValue,l,(i.mode&1)!==0)}y&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Yr]=s,s.stateNode=d}return _n(s),null;case 13:if(wt(Pt),d=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(It&&tr!==null&&s.mode&1&&!(s.flags&128))qv(),ia(),s.flags|=98560,y=!1;else if(y=Dc(s),d!==null&&d.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[Yr]=s}else ia(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;_n(s),y=!1}else kr!==null&&(jp(kr),kr=null),y=!0;if(!y)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(d=d!==null,d!==(i!==null&&i.memoizedState!==null)&&d&&(s.child.flags|=8192,s.mode&1&&(i===null||Pt.current&1?Yt===0&&(Yt=3):Wp())),s.updateQueue!==null&&(s.flags|=4),_n(s),null);case 4:return la(),Op(i,s),i===null&&Il(s.stateNode.containerInfo),_n(s),null;case 10:return sp(s.type._context),_n(s),null;case 17:return Vn(s.type)&&bc(),_n(s),null;case 19:if(wt(Pt),y=s.memoizedState,y===null)return _n(s),null;if(d=(s.flags&128)!==0,w=y.rendering,w===null)if(d)Ml(y,!1);else{if(Yt!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(w=$c(i),w!==null){for(s.flags|=128,Ml(y,!1),d=w.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)y=l,i=d,y.flags&=14680066,w=y.alternate,w===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=w.childLanes,y.lanes=w.lanes,y.child=w.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=w.memoizedProps,y.memoizedState=w.memoizedState,y.updateQueue=w.updateQueue,y.type=w.type,i=w.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return vt(Pt,Pt.current&1|2),s.child}i=i.sibling}y.tail!==null&&yt()>da&&(s.flags|=128,d=!0,Ml(y,!1),s.lanes=4194304)}else{if(!d)if(i=$c(w),i!==null){if(s.flags|=128,d=!0,l=i.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Ml(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!It)return _n(s),null}else 2*yt()-y.renderingStartTime>da&&l!==1073741824&&(s.flags|=128,d=!0,Ml(y,!1),s.lanes=4194304);y.isBackwards?(w.sibling=s.child,s.child=w):(l=y.last,l!==null?l.sibling=w:s.child=w,y.last=w)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=yt(),s.sibling=null,l=Pt.current,vt(Pt,d?l&1|2:l&1),s):(_n(s),null);case 22:case 23:return Hp(),d=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==d&&(s.flags|=8192),d&&s.mode&1?nr&1073741824&&(_n(s),s.subtreeFlags&6&&(s.flags|=8192)):_n(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function n1(i,s){switch(ep(s),s.tag){case 1:return Vn(s.type)&&bc(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return la(),wt(Ln),wt(yn),fp(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return hp(s),null;case 13:if(wt(Pt),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));ia()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return wt(Pt),null;case 4:return la(),null;case 10:return sp(s.type._context),null;case 22:case 23:return Hp(),null;case 24:return null;default:return null}}var Qc=!1,En=!1,r1=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function ca(i,s){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){xt(i,s,d)}else l.current=null}function xp(i,s,l){try{l()}catch(d){xt(i,s,d)}}var z_=!1;function i1(i,s){if(Hf=Zi,i=Ev(),Mf(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var w=0,O=-1,L=-1,Y=0,se=0,le=i,oe=null;t:for(;;){for(var Ee;le!==l||m!==0&&le.nodeType!==3||(O=w+m),le!==y||d!==0&&le.nodeType!==3||(L=w+d),le.nodeType===3&&(w+=le.nodeValue.length),(Ee=le.firstChild)!==null;)oe=le,le=Ee;for(;;){if(le===i)break t;if(oe===l&&++Y===m&&(O=w),oe===y&&++se===d&&(L=w),(Ee=le.nextSibling)!==null)break;le=oe,oe=le.parentNode}le=Ee}l=O===-1||L===-1?null:{start:O,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(Wf={focusedElem:i,selectionRange:l},Zi=!1,Ie=s;Ie!==null;)if(s=Ie,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Ie=i;else for(;Ie!==null;){s=Ie;try{var Ae=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Ae!==null){var Ce=Ae.memoizedProps,Mt=Ae.memoizedState,H=s.stateNode,U=H.getSnapshotBeforeUpdate(s.elementType===s.type?Ce:Nr(s.type,Ce),Mt);H.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var G=s.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(he){xt(s,s.return,he)}if(i=s.sibling,i!==null){i.return=s.return,Ie=i;break}Ie=s.return}return Ae=z_,z_=!1,Ae}function Fl(i,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&i)===i){var y=m.destroy;m.destroy=void 0,y!==void 0&&xp(s,l,y)}m=m.next}while(m!==d)}}function Yc(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&i)===i){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function Dp(i){var s=i.ref;if(s!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof s=="function"?s(i):s.current=i}}function j_(i){var s=i.alternate;s!==null&&(i.alternate=null,j_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[Yr],delete s[Cl],delete s[Yf],delete s[$A],delete s[BA])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function q_(i){return i.tag===5||i.tag===3||i.tag===4}function H_(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||q_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Lp(i,s,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(i,s):l.insertBefore(i,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(i,l)):(s=l,s.appendChild(i)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Cc));else if(d!==4&&(i=i.child,i!==null))for(Lp(i,s,l),i=i.sibling;i!==null;)Lp(i,s,l),i=i.sibling}function Vp(i,s,l){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(d!==4&&(i=i.child,i!==null))for(Vp(i,s,l),i=i.sibling;i!==null;)Vp(i,s,l),i=i.sibling}var hn=null,Or=!1;function lo(i,s,l){for(l=l.child;l!==null;)W_(i,s,l),l=l.sibling}function W_(i,s,l){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(Go,l)}catch{}switch(l.tag){case 5:En||ca(l,s);case 6:var d=hn,m=Or;hn=null,lo(i,s,l),hn=d,Or=m,hn!==null&&(Or?(i=hn,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):hn.removeChild(l.stateNode));break;case 18:hn!==null&&(Or?(i=hn,l=l.stateNode,i.nodeType===8?Qf(i.parentNode,l):i.nodeType===1&&Qf(i,l),Cr(i)):Qf(hn,l.stateNode));break;case 4:d=hn,m=Or,hn=l.stateNode.containerInfo,Or=!0,lo(i,s,l),hn=d,Or=m;break;case 0:case 11:case 14:case 15:if(!En&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var y=m,w=y.destroy;y=y.tag,w!==void 0&&(y&2||y&4)&&xp(l,s,w),m=m.next}while(m!==d)}lo(i,s,l);break;case 1:if(!En&&(ca(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(O){xt(l,s,O)}lo(i,s,l);break;case 21:lo(i,s,l);break;case 22:l.mode&1?(En=(d=En)||l.memoizedState!==null,lo(i,s,l),En=d):lo(i,s,l);break;default:lo(i,s,l)}}function K_(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new r1),s.forEach(function(d){var m=f1.bind(null,i,d);l.has(d)||(l.add(d),d.then(m,m))})}}function xr(i,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var y=i,w=s,O=w;e:for(;O!==null;){switch(O.tag){case 5:hn=O.stateNode,Or=!1;break e;case 3:hn=O.stateNode.containerInfo,Or=!0;break e;case 4:hn=O.stateNode.containerInfo,Or=!0;break e}O=O.return}if(hn===null)throw Error(t(160));W_(y,w,m),hn=null,Or=!1;var L=m.alternate;L!==null&&(L.return=null),m.return=null}catch(Y){xt(m,s,Y)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)G_(s,i),s=s.sibling}function G_(i,s){var l=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(xr(s,i),Zr(i),d&4){try{Fl(3,i,i.return),Yc(3,i)}catch(Ce){xt(i,i.return,Ce)}try{Fl(5,i,i.return)}catch(Ce){xt(i,i.return,Ce)}}break;case 1:xr(s,i),Zr(i),d&512&&l!==null&&ca(l,l.return);break;case 5:if(xr(s,i),Zr(i),d&512&&l!==null&&ca(l,l.return),i.flags&32){var m=i.stateNode;try{jr(m,"")}catch(Ce){xt(i,i.return,Ce)}}if(d&4&&(m=i.stateNode,m!=null)){var y=i.memoizedProps,w=l!==null?l.memoizedProps:y,O=i.type,L=i.updateQueue;if(i.updateQueue=null,L!==null)try{O==="input"&&y.type==="radio"&&y.name!=null&&en(m,y),ae(O,w);var Y=ae(O,y);for(w=0;w<L.length;w+=2){var se=L[w],le=L[w+1];se==="style"?qo(m,le):se==="dangerouslySetInnerHTML"?zo(m,le):se==="children"?jr(m,le):j(m,se,le,Y)}switch(O){case"input":Kt(m,y);break;case"textarea":zr(m,y);break;case"select":var oe=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var Ee=y.value;Ee!=null?ar(m,!!y.multiple,Ee,!1):oe!==!!y.multiple&&(y.defaultValue!=null?ar(m,!!y.multiple,y.defaultValue,!0):ar(m,!!y.multiple,y.multiple?[]:"",!1))}m[Cl]=y}catch(Ce){xt(i,i.return,Ce)}}break;case 6:if(xr(s,i),Zr(i),d&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,y=i.memoizedProps;try{m.nodeValue=y}catch(Ce){xt(i,i.return,Ce)}}break;case 3:if(xr(s,i),Zr(i),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Cr(s.containerInfo)}catch(Ce){xt(i,i.return,Ce)}break;case 4:xr(s,i),Zr(i);break;case 13:xr(s,i),Zr(i),m=i.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(Up=yt())),d&4&&K_(i);break;case 22:if(se=l!==null&&l.memoizedState!==null,i.mode&1?(En=(Y=En)||se,xr(s,i),En=Y):xr(s,i),Zr(i),d&8192){if(Y=i.memoizedState!==null,(i.stateNode.isHidden=Y)&&!se&&i.mode&1)for(Ie=i,se=i.child;se!==null;){for(le=Ie=se;Ie!==null;){switch(oe=Ie,Ee=oe.child,oe.tag){case 0:case 11:case 14:case 15:Fl(4,oe,oe.return);break;case 1:ca(oe,oe.return);var Ae=oe.stateNode;if(typeof Ae.componentWillUnmount=="function"){d=oe,l=oe.return;try{s=d,Ae.props=s.memoizedProps,Ae.state=s.memoizedState,Ae.componentWillUnmount()}catch(Ce){xt(d,l,Ce)}}break;case 5:ca(oe,oe.return);break;case 22:if(oe.memoizedState!==null){X_(le);continue}}Ee!==null?(Ee.return=oe,Ie=Ee):X_(le)}se=se.sibling}e:for(se=null,le=i;;){if(le.tag===5){if(se===null){se=le;try{m=le.stateNode,Y?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(O=le.stateNode,L=le.memoizedProps.style,w=L!=null&&L.hasOwnProperty("display")?L.display:null,O.style.display=jo("display",w))}catch(Ce){xt(i,i.return,Ce)}}}else if(le.tag===6){if(se===null)try{le.stateNode.nodeValue=Y?"":le.memoizedProps}catch(Ce){xt(i,i.return,Ce)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===i)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===i)break e;for(;le.sibling===null;){if(le.return===null||le.return===i)break e;se===le&&(se=null),le=le.return}se===le&&(se=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:xr(s,i),Zr(i),d&4&&K_(i);break;case 21:break;default:xr(s,i),Zr(i)}}function Zr(i){var s=i.flags;if(s&2){try{e:{for(var l=i.return;l!==null;){if(q_(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(jr(m,""),d.flags&=-33);var y=H_(i);Vp(i,y,m);break;case 3:case 4:var w=d.stateNode.containerInfo,O=H_(i);Lp(i,O,w);break;default:throw Error(t(161))}}catch(L){xt(i,i.return,L)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function o1(i,s,l){Ie=i,Q_(i)}function Q_(i,s,l){for(var d=(i.mode&1)!==0;Ie!==null;){var m=Ie,y=m.child;if(m.tag===22&&d){var w=m.memoizedState!==null||Qc;if(!w){var O=m.alternate,L=O!==null&&O.memoizedState!==null||En;O=Qc;var Y=En;if(Qc=w,(En=L)&&!Y)for(Ie=m;Ie!==null;)w=Ie,L=w.child,w.tag===22&&w.memoizedState!==null?J_(m):L!==null?(L.return=w,Ie=L):J_(m);for(;y!==null;)Ie=y,Q_(y),y=y.sibling;Ie=m,Qc=O,En=Y}Y_(i)}else m.subtreeFlags&8772&&y!==null?(y.return=m,Ie=y):Y_(i)}}function Y_(i){for(;Ie!==null;){var s=Ie;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:En||Yc(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!En)if(l===null)d.componentDidMount();else{var m=s.elementType===s.type?l.memoizedProps:Nr(s.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&Xv(s,y,d);break;case 3:var w=s.updateQueue;if(w!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Xv(s,w,l)}break;case 5:var O=s.stateNode;if(l===null&&s.flags&4){l=O;var L=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&l.focus();break;case"img":L.src&&(l.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Y=s.alternate;if(Y!==null){var se=Y.memoizedState;if(se!==null){var le=se.dehydrated;le!==null&&Cr(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}En||s.flags&512&&Dp(s)}catch(oe){xt(s,s.return,oe)}}if(s===i){Ie=null;break}if(l=s.sibling,l!==null){l.return=s.return,Ie=l;break}Ie=s.return}}function X_(i){for(;Ie!==null;){var s=Ie;if(s===i){Ie=null;break}var l=s.sibling;if(l!==null){l.return=s.return,Ie=l;break}Ie=s.return}}function J_(i){for(;Ie!==null;){var s=Ie;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Yc(4,s)}catch(L){xt(s,l,L)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var m=s.return;try{d.componentDidMount()}catch(L){xt(s,m,L)}}var y=s.return;try{Dp(s)}catch(L){xt(s,y,L)}break;case 5:var w=s.return;try{Dp(s)}catch(L){xt(s,w,L)}}}catch(L){xt(s,s.return,L)}if(s===i){Ie=null;break}var O=s.sibling;if(O!==null){O.return=s.return,Ie=O;break}Ie=s.return}}var s1=Math.ceil,Xc=ie.ReactCurrentDispatcher,Mp=ie.ReactCurrentOwner,mr=ie.ReactCurrentBatchConfig,rt=0,rn=null,Bt=null,dn=0,nr=0,ha=ro(0),Yt=0,Ul=null,ls=0,Jc=0,Fp=0,$l=null,Fn=null,Up=0,da=1/0,Ai=null,Zc=!1,$p=null,uo=null,eh=!1,co=null,th=0,Bl=0,Bp=null,nh=-1,rh=0;function Nn(){return rt&6?yt():nh!==-1?nh:nh=yt()}function ho(i){return i.mode&1?rt&2&&dn!==0?dn&-dn:jA.transition!==null?(rh===0&&(rh=Yo()),rh):(i=Ze,i!==0||(i=window.event,i=i===void 0?16:ml(i.type)),i):1}function Dr(i,s,l,d){if(50<Bl)throw Bl=0,Bp=null,Error(t(185));Qi(i,l,d),(!(rt&2)||i!==rn)&&(i===rn&&(!(rt&2)&&(Jc|=l),Yt===4&&fo(i,dn)),Un(i,d),l===1&&rt===0&&!(s.mode&1)&&(da=yt()+500,Nc&&oo()))}function Un(i,s){var l=i.callbackNode;pi(i,s);var d=Qo(i,i===rn?dn:0);if(d===0)l!==null&&cl(l),i.callbackNode=null,i.callbackPriority=0;else if(s=d&-d,i.callbackPriority!==s){if(l!=null&&cl(l),s===1)i.tag===0?zA(e0.bind(null,i)):Uv(e0.bind(null,i)),FA(function(){!(rt&6)&&oo()}),l=null;else{switch(Xi(d)){case 1:l=Ko;break;case 4:l=Wi;break;case 16:l=lr;break;case 536870912:l=rc;break;default:l=lr}l=l0(l,Z_.bind(null,i))}i.callbackPriority=s,i.callbackNode=l}}function Z_(i,s){if(nh=-1,rh=0,rt&6)throw Error(t(327));var l=i.callbackNode;if(fa()&&i.callbackNode!==l)return null;var d=Qo(i,i===rn?dn:0);if(d===0)return null;if(d&30||d&i.expiredLanes||s)s=ih(i,d);else{s=d;var m=rt;rt|=2;var y=n0();(rn!==i||dn!==s)&&(Ai=null,da=yt()+500,cs(i,s));do try{u1();break}catch(O){t0(i,O)}while(!0);op(),Xc.current=y,rt=m,Bt!==null?s=0:(rn=null,dn=0,s=Yt)}if(s!==0){if(s===2&&(m=Xn(i),m!==0&&(d=m,s=zp(i,m))),s===1)throw l=Ul,cs(i,0),fo(i,d),Un(i,yt()),l;if(s===6)fo(i,d);else{if(m=i.current.alternate,!(d&30)&&!a1(m)&&(s=ih(i,d),s===2&&(y=Xn(i),y!==0&&(d=y,s=zp(i,y))),s===1))throw l=Ul,cs(i,0),fo(i,d),Un(i,yt()),l;switch(i.finishedWork=m,i.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:hs(i,Fn,Ai);break;case 3:if(fo(i,d),(d&130023424)===d&&(s=Up+500-yt(),10<s)){if(Qo(i,0)!==0)break;if(m=i.suspendedLanes,(m&d)!==d){Nn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Gf(hs.bind(null,i,Fn,Ai),s);break}hs(i,Fn,Ai);break;case 4:if(fo(i,d),(d&4194240)===d)break;for(s=i.eventTimes,m=-1;0<d;){var w=31-Pn(d);y=1<<w,w=s[w],w>m&&(m=w),d&=~y}if(d=m,d=yt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*s1(d/1960))-d,10<d){i.timeoutHandle=Gf(hs.bind(null,i,Fn,Ai),d);break}hs(i,Fn,Ai);break;case 5:hs(i,Fn,Ai);break;default:throw Error(t(329))}}}return Un(i,yt()),i.callbackNode===l?Z_.bind(null,i):null}function zp(i,s){var l=$l;return i.current.memoizedState.isDehydrated&&(cs(i,s).flags|=256),i=ih(i,s),i!==2&&(s=Fn,Fn=l,s!==null&&jp(s)),i}function jp(i){Fn===null?Fn=i:Fn.push.apply(Fn,i)}function a1(i){for(var s=i;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],y=m.getSnapshot;m=m.value;try{if(!br(y(),m))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function fo(i,s){for(s&=~Fp,s&=~Jc,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var l=31-Pn(s),d=1<<l;i[l]=-1,s&=~d}}function e0(i){if(rt&6)throw Error(t(327));fa();var s=Qo(i,0);if(!(s&1))return Un(i,yt()),null;var l=ih(i,s);if(i.tag!==0&&l===2){var d=Xn(i);d!==0&&(s=d,l=zp(i,d))}if(l===1)throw l=Ul,cs(i,0),fo(i,s),Un(i,yt()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,hs(i,Fn,Ai),Un(i,yt()),null}function qp(i,s){var l=rt;rt|=1;try{return i(s)}finally{rt=l,rt===0&&(da=yt()+500,Nc&&oo())}}function us(i){co!==null&&co.tag===0&&!(rt&6)&&fa();var s=rt;rt|=1;var l=mr.transition,d=Ze;try{if(mr.transition=null,Ze=1,i)return i()}finally{Ze=d,mr.transition=l,rt=s,!(rt&6)&&oo()}}function Hp(){nr=ha.current,wt(ha)}function cs(i,s){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,MA(l)),Bt!==null)for(l=Bt.return;l!==null;){var d=l;switch(ep(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&bc();break;case 3:la(),wt(Ln),wt(yn),fp();break;case 5:hp(d);break;case 4:la();break;case 13:wt(Pt);break;case 19:wt(Pt);break;case 10:sp(d.type._context);break;case 22:case 23:Hp()}l=l.return}if(rn=i,Bt=i=po(i.current,null),dn=nr=s,Yt=0,Ul=null,Fp=Jc=ls=0,Fn=$l=null,os!==null){for(s=0;s<os.length;s++)if(l=os[s],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,y=l.pending;if(y!==null){var w=y.next;y.next=m,d.next=w}l.pending=d}os=null}return i}function t0(i,s){do{var l=Bt;try{if(op(),Bc.current=Hc,zc){for(var d=bt.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}zc=!1}if(as=0,nn=Qt=bt=null,xl=!1,Dl=0,Mp.current=null,l===null||l.return===null){Yt=1,Ul=s,Bt=null;break}e:{var y=i,w=l.return,O=l,L=s;if(s=dn,O.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var Y=L,se=O,le=se.tag;if(!(se.mode&1)&&(le===0||le===11||le===15)){var oe=se.alternate;oe?(se.updateQueue=oe.updateQueue,se.memoizedState=oe.memoizedState,se.lanes=oe.lanes):(se.updateQueue=null,se.memoizedState=null)}var Ee=A_(w);if(Ee!==null){Ee.flags&=-257,C_(Ee,w,O,y,s),Ee.mode&1&&I_(y,Y,s),s=Ee,L=Y;var Ae=s.updateQueue;if(Ae===null){var Ce=new Set;Ce.add(L),s.updateQueue=Ce}else Ae.add(L);break e}else{if(!(s&1)){I_(y,Y,s),Wp();break e}L=Error(t(426))}}else if(It&&O.mode&1){var Mt=A_(w);if(Mt!==null){!(Mt.flags&65536)&&(Mt.flags|=256),C_(Mt,w,O,y,s),rp(ua(L,O));break e}}y=L=ua(L,O),Yt!==4&&(Yt=2),$l===null?$l=[y]:$l.push(y),y=w;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var H=S_(y,L,s);Yv(y,H);break e;case 1:O=L;var U=y.type,G=y.stateNode;if(!(y.flags&128)&&(typeof U.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(uo===null||!uo.has(G)))){y.flags|=65536,s&=-s,y.lanes|=s;var he=R_(y,O,s);Yv(y,he);break e}}y=y.return}while(y!==null)}i0(l)}catch(be){s=be,Bt===l&&l!==null&&(Bt=l=l.return);continue}break}while(!0)}function n0(){var i=Xc.current;return Xc.current=Hc,i===null?Hc:i}function Wp(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),rn===null||!(ls&268435455)&&!(Jc&268435455)||fo(rn,dn)}function ih(i,s){var l=rt;rt|=2;var d=n0();(rn!==i||dn!==s)&&(Ai=null,cs(i,s));do try{l1();break}catch(m){t0(i,m)}while(!0);if(op(),rt=l,Xc.current=d,Bt!==null)throw Error(t(261));return rn=null,dn=0,Yt}function l1(){for(;Bt!==null;)r0(Bt)}function u1(){for(;Bt!==null&&!tc();)r0(Bt)}function r0(i){var s=a0(i.alternate,i,nr);i.memoizedProps=i.pendingProps,s===null?i0(i):Bt=s,Mp.current=null}function i0(i){var s=i;do{var l=s.alternate;if(i=s.return,s.flags&32768){if(l=n1(l,s),l!==null){l.flags&=32767,Bt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Yt=6,Bt=null;return}}else if(l=t1(l,s,nr),l!==null){Bt=l;return}if(s=s.sibling,s!==null){Bt=s;return}Bt=s=i}while(s!==null);Yt===0&&(Yt=5)}function hs(i,s,l){var d=Ze,m=mr.transition;try{mr.transition=null,Ze=1,c1(i,s,l,d)}finally{mr.transition=m,Ze=d}return null}function c1(i,s,l,d){do fa();while(co!==null);if(rt&6)throw Error(t(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(mt(i,y),i===rn&&(Bt=rn=null,dn=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||eh||(eh=!0,l0(lr,function(){return fa(),null})),y=(l.flags&15990)!==0,l.subtreeFlags&15990||y){y=mr.transition,mr.transition=null;var w=Ze;Ze=1;var O=rt;rt|=4,Mp.current=null,i1(i,l),G_(l,i),kA(Wf),Zi=!!Hf,Wf=Hf=null,i.current=l,o1(l),bf(),rt=O,Ze=w,mr.transition=y}else i.current=l;if(eh&&(eh=!1,co=i,th=m),y=i.pendingLanes,y===0&&(uo=null),ic(l.stateNode),Un(i,yt()),s!==null)for(d=i.onRecoverableError,l=0;l<s.length;l++)m=s[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(Zc)throw Zc=!1,i=$p,$p=null,i;return th&1&&i.tag!==0&&fa(),y=i.pendingLanes,y&1?i===Bp?Bl++:(Bl=0,Bp=i):Bl=0,oo(),null}function fa(){if(co!==null){var i=Xi(th),s=mr.transition,l=Ze;try{if(mr.transition=null,Ze=16>i?16:i,co===null)var d=!1;else{if(i=co,co=null,th=0,rt&6)throw Error(t(331));var m=rt;for(rt|=4,Ie=i.current;Ie!==null;){var y=Ie,w=y.child;if(Ie.flags&16){var O=y.deletions;if(O!==null){for(var L=0;L<O.length;L++){var Y=O[L];for(Ie=Y;Ie!==null;){var se=Ie;switch(se.tag){case 0:case 11:case 15:Fl(8,se,y)}var le=se.child;if(le!==null)le.return=se,Ie=le;else for(;Ie!==null;){se=Ie;var oe=se.sibling,Ee=se.return;if(j_(se),se===Y){Ie=null;break}if(oe!==null){oe.return=Ee,Ie=oe;break}Ie=Ee}}}var Ae=y.alternate;if(Ae!==null){var Ce=Ae.child;if(Ce!==null){Ae.child=null;do{var Mt=Ce.sibling;Ce.sibling=null,Ce=Mt}while(Ce!==null)}}Ie=y}}if(y.subtreeFlags&2064&&w!==null)w.return=y,Ie=w;else e:for(;Ie!==null;){if(y=Ie,y.flags&2048)switch(y.tag){case 0:case 11:case 15:Fl(9,y,y.return)}var H=y.sibling;if(H!==null){H.return=y.return,Ie=H;break e}Ie=y.return}}var U=i.current;for(Ie=U;Ie!==null;){w=Ie;var G=w.child;if(w.subtreeFlags&2064&&G!==null)G.return=w,Ie=G;else e:for(w=U;Ie!==null;){if(O=Ie,O.flags&2048)try{switch(O.tag){case 0:case 11:case 15:Yc(9,O)}}catch(be){xt(O,O.return,be)}if(O===w){Ie=null;break e}var he=O.sibling;if(he!==null){he.return=O.return,Ie=he;break e}Ie=O.return}}if(rt=m,oo(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(Go,i)}catch{}d=!0}return d}finally{Ze=l,mr.transition=s}}return!1}function o0(i,s,l){s=ua(l,s),s=S_(i,s,1),i=ao(i,s,1),s=Nn(),i!==null&&(Qi(i,1,s),Un(i,s))}function xt(i,s,l){if(i.tag===3)o0(i,i,l);else for(;s!==null;){if(s.tag===3){o0(s,i,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(uo===null||!uo.has(d))){i=ua(l,i),i=R_(s,i,1),s=ao(s,i,1),i=Nn(),s!==null&&(Qi(s,1,i),Un(s,i));break}}s=s.return}}function h1(i,s,l){var d=i.pingCache;d!==null&&d.delete(s),s=Nn(),i.pingedLanes|=i.suspendedLanes&l,rn===i&&(dn&l)===l&&(Yt===4||Yt===3&&(dn&130023424)===dn&&500>yt()-Up?cs(i,0):Fp|=l),Un(i,s)}function s0(i,s){s===0&&(i.mode&1?(s=Vs,Vs<<=1,!(Vs&130023424)&&(Vs=4194304)):s=1);var l=Nn();i=Si(i,s),i!==null&&(Qi(i,s,l),Un(i,l))}function d1(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),s0(i,l)}function f1(i,s){var l=0;switch(i.tag){case 13:var d=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=i.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),s0(i,l)}var a0;a0=function(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps||Ln.current)Mn=!0;else{if(!(i.lanes&l)&&!(s.flags&128))return Mn=!1,e1(i,s,l);Mn=!!(i.flags&131072)}else Mn=!1,It&&s.flags&1048576&&$v(s,xc,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Gc(i,s),i=s.pendingProps;var m=ta(s,yn.current);aa(s,l),m=gp(null,s,d,i,m,l);var y=yp();return s.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Vn(d)?(y=!0,kc(s)):y=!1,s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,up(s),m.updater=Wc,s.stateNode=m,m._reactInternals=s,Sp(s,d,i,l),s=Cp(null,s,d,!0,y,l)):(s.tag=0,It&&y&&Zf(s),kn(null,s,m,l),s=s.child),s;case 16:d=s.elementType;e:{switch(Gc(i,s),i=s.pendingProps,m=d._init,d=m(d._payload),s.type=d,m=s.tag=m1(d),i=Nr(d,i),m){case 0:s=Ap(null,s,d,i,l);break e;case 1:s=x_(null,s,d,i,l);break e;case 11:s=P_(null,s,d,i,l);break e;case 14:s=b_(null,s,d,Nr(d.type,i),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:Nr(d,m),Ap(i,s,d,m,l);case 1:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:Nr(d,m),x_(i,s,d,m,l);case 3:e:{if(D_(s),i===null)throw Error(t(387));d=s.pendingProps,y=s.memoizedState,m=y.element,Qv(i,s),Uc(s,d,null,l);var w=s.memoizedState;if(d=w.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){m=ua(Error(t(423)),s),s=L_(i,s,d,l,m);break e}else if(d!==m){m=ua(Error(t(424)),s),s=L_(i,s,d,l,m);break e}else for(tr=no(s.stateNode.containerInfo.firstChild),er=s,It=!0,kr=null,l=Kv(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ia(),d===m){s=Ii(i,s,l);break e}kn(i,s,d,l)}s=s.child}return s;case 5:return Jv(s),i===null&&np(s),d=s.type,m=s.pendingProps,y=i!==null?i.memoizedProps:null,w=m.children,Kf(d,m)?w=null:y!==null&&Kf(d,y)&&(s.flags|=32),O_(i,s),kn(i,s,w,l),s.child;case 6:return i===null&&np(s),null;case 13:return V_(i,s,l);case 4:return cp(s,s.stateNode.containerInfo),d=s.pendingProps,i===null?s.child=oa(s,null,d,l):kn(i,s,d,l),s.child;case 11:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:Nr(d,m),P_(i,s,d,m,l);case 7:return kn(i,s,s.pendingProps,l),s.child;case 8:return kn(i,s,s.pendingProps.children,l),s.child;case 12:return kn(i,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,m=s.pendingProps,y=s.memoizedProps,w=m.value,vt(Vc,d._currentValue),d._currentValue=w,y!==null)if(br(y.value,w)){if(y.children===m.children&&!Ln.current){s=Ii(i,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var O=y.dependencies;if(O!==null){w=y.child;for(var L=O.firstContext;L!==null;){if(L.context===d){if(y.tag===1){L=Ri(-1,l&-l),L.tag=2;var Y=y.updateQueue;if(Y!==null){Y=Y.shared;var se=Y.pending;se===null?L.next=L:(L.next=se.next,se.next=L),Y.pending=L}}y.lanes|=l,L=y.alternate,L!==null&&(L.lanes|=l),ap(y.return,l,s),O.lanes|=l;break}L=L.next}}else if(y.tag===10)w=y.type===s.type?null:y.child;else if(y.tag===18){if(w=y.return,w===null)throw Error(t(341));w.lanes|=l,O=w.alternate,O!==null&&(O.lanes|=l),ap(w,l,s),w=y.sibling}else w=y.child;if(w!==null)w.return=y;else for(w=y;w!==null;){if(w===s){w=null;break}if(y=w.sibling,y!==null){y.return=w.return,w=y;break}w=w.return}y=w}kn(i,s,m.children,l),s=s.child}return s;case 9:return m=s.type,d=s.pendingProps.children,aa(s,l),m=fr(m),d=d(m),s.flags|=1,kn(i,s,d,l),s.child;case 14:return d=s.type,m=Nr(d,s.pendingProps),m=Nr(d.type,m),b_(i,s,d,m,l);case 15:return k_(i,s,s.type,s.pendingProps,l);case 17:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:Nr(d,m),Gc(i,s),s.tag=1,Vn(d)?(i=!0,kc(s)):i=!1,aa(s,l),w_(s,d,m),Sp(s,d,m,l),Cp(null,s,d,!0,i,l);case 19:return F_(i,s,l);case 22:return N_(i,s,l)}throw Error(t(156,s.tag))};function l0(i,s){return Ds(i,s)}function p1(i,s,l,d){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(i,s,l,d){return new p1(i,s,l,d)}function Kp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function m1(i){if(typeof i=="function")return Kp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===B)return 11;if(i===st)return 14}return 2}function po(i,s){var l=i.alternate;return l===null?(l=gr(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function oh(i,s,l,d,m,y){var w=2;if(d=i,typeof i=="function")Kp(i)&&(w=1);else if(typeof i=="string")w=5;else e:switch(i){case b:return ds(l.children,m,y,s);case A:w=8,m|=8;break;case k:return i=gr(12,l,s,m|2),i.elementType=k,i.lanes=y,i;case P:return i=gr(13,l,s,m),i.elementType=P,i.lanes=y,i;case Be:return i=gr(19,l,s,m),i.elementType=Be,i.lanes=y,i;case ze:return sh(l,m,y,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case x:w=10;break e;case M:w=9;break e;case B:w=11;break e;case st:w=14;break e;case We:w=16,d=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=gr(w,l,s,m),s.elementType=i,s.type=d,s.lanes=y,s}function ds(i,s,l,d){return i=gr(7,i,d,s),i.lanes=l,i}function sh(i,s,l,d){return i=gr(22,i,d,s),i.elementType=ze,i.lanes=l,i.stateNode={isHidden:!1},i}function Gp(i,s,l){return i=gr(6,i,null,s),i.lanes=l,i}function Qp(i,s,l){return s=gr(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function g1(i,s,l,d,m){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gi(0),this.expirationTimes=Gi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Yp(i,s,l,d,m,y,w,O,L){return i=new g1(i,s,l,O,L),s===1?(s=1,y===!0&&(s|=8)):s=0,y=gr(3,null,null,s),i.current=y,y.stateNode=i,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},up(y),i}function y1(i,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ee,key:d==null?null:""+d,children:i,containerInfo:s,implementation:l}}function u0(i){if(!i)return io;i=i._reactInternals;e:{if(Tr(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Vn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(Vn(l))return Mv(i,l,s)}return s}function c0(i,s,l,d,m,y,w,O,L){return i=Yp(l,d,!0,i,m,y,w,O,L),i.context=u0(null),l=i.current,d=Nn(),m=ho(l),y=Ri(d,m),y.callback=s??null,ao(l,y,m),i.current.lanes=m,Qi(i,m,d),Un(i,d),i}function ah(i,s,l,d){var m=s.current,y=Nn(),w=ho(m);return l=u0(l),s.context===null?s.context=l:s.pendingContext=l,s=Ri(y,w),s.payload={element:i},d=d===void 0?null:d,d!==null&&(s.callback=d),i=ao(m,s,w),i!==null&&(Dr(i,m,w,y),Fc(i,m,w)),w}function lh(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function h0(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Xp(i,s){h0(i,s),(i=i.alternate)&&h0(i,s)}function v1(){return null}var d0=typeof reportError=="function"?reportError:function(i){console.error(i)};function Jp(i){this._internalRoot=i}uh.prototype.render=Jp.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));ah(i,s,null,null)},uh.prototype.unmount=Jp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;us(function(){ah(null,i,null,null)}),s[_i]=null}};function uh(i){this._internalRoot=i}uh.prototype.unstable_scheduleHydration=function(i){if(i){var s=uc();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Wr.length&&s!==0&&s<Wr[l].priority;l++);Wr.splice(l,0,i),l===0&&dc(i)}};function Zp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ch(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function f0(){}function _1(i,s,l,d,m){if(m){if(typeof d=="function"){var y=d;d=function(){var Y=lh(w);y.call(Y)}}var w=c0(s,d,i,0,null,!1,!1,"",f0);return i._reactRootContainer=w,i[_i]=w.current,Il(i.nodeType===8?i.parentNode:i),us(),w}for(;m=i.lastChild;)i.removeChild(m);if(typeof d=="function"){var O=d;d=function(){var Y=lh(L);O.call(Y)}}var L=Yp(i,0,!1,null,null,!1,!1,"",f0);return i._reactRootContainer=L,i[_i]=L.current,Il(i.nodeType===8?i.parentNode:i),us(function(){ah(s,L,l,d)}),L}function hh(i,s,l,d,m){var y=l._reactRootContainer;if(y){var w=y;if(typeof m=="function"){var O=m;m=function(){var L=lh(w);O.call(L)}}ah(s,w,i,m)}else w=_1(l,s,i,m,d);return lh(w)}ac=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var l=Ki(s.pendingLanes);l!==0&&(Yi(s,l|1),Un(s,yt()),!(rt&6)&&(da=yt()+500,oo()))}break;case 13:us(function(){var d=Si(i,1);if(d!==null){var m=Nn();Dr(d,i,1,m)}}),Xp(i,1)}},Ms=function(i){if(i.tag===13){var s=Si(i,134217728);if(s!==null){var l=Nn();Dr(s,i,134217728,l)}Xp(i,134217728)}},lc=function(i){if(i.tag===13){var s=ho(i),l=Si(i,s);if(l!==null){var d=Nn();Dr(l,i,s,d)}Xp(i,s)}},uc=function(){return Ze},cc=function(i,s){var l=Ze;try{return Ze=i,s()}finally{Ze=l}},_e=function(i,s,l){switch(s){case"input":if(Kt(i,l),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==i&&d.form===i.form){var m=Pc(d);if(!m)throw Error(t(90));Je(d),Kt(d,m)}}}break;case"textarea":zr(i,l);break;case"select":s=l.value,s!=null&&ar(i,!!l.multiple,s,!1)}},Nt=qp,St=us;var E1={usingClientEntryPoint:!1,Events:[Pl,Zs,Pc,Le,ut,qp]},zl={findFiberByHostInstance:ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w1={bundleType:zl.bundleType,version:zl.version,rendererPackageName:zl.rendererPackageName,rendererConfig:zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ul(i),i===null?null:i.stateNode},findFiberByHostInstance:zl.findFiberByHostInstance||v1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dh.isDisabled&&dh.supportsFiber)try{Go=dh.inject(w1),Yn=dh}catch{}}return $n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E1,$n.createPortal=function(i,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zp(s))throw Error(t(200));return y1(i,s,null,l)},$n.createRoot=function(i,s){if(!Zp(i))throw Error(t(299));var l=!1,d="",m=d0;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),s=Yp(i,1,!1,null,null,l,!1,d,m),i[_i]=s.current,Il(i.nodeType===8?i.parentNode:i),new Jp(s)},$n.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=ul(s),i=i===null?null:i.stateNode,i},$n.flushSync=function(i){return us(i)},$n.hydrate=function(i,s,l){if(!ch(s))throw Error(t(200));return hh(null,i,s,!0,l)},$n.hydrateRoot=function(i,s,l){if(!Zp(i))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,m=!1,y="",w=d0;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),s=c0(s,null,i,1,l??null,m,!1,y,w),i[_i]=s.current,Il(i),d)for(i=0;i<d.length;i++)l=d[i],m=l._getVersion,m=m(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,m]:s.mutableSourceEagerHydrationData.push(l,m);return new uh(s)},$n.render=function(i,s,l){if(!ch(s))throw Error(t(200));return hh(null,i,s,!1,l)},$n.unmountComponentAtNode=function(i){if(!ch(i))throw Error(t(40));return i._reactRootContainer?(us(function(){hh(null,null,i,!1,function(){i._reactRootContainer=null,i[_i]=null})}),!0):!1},$n.unstable_batchedUpdates=qp,$n.unstable_renderSubtreeIntoContainer=function(i,s,l,d){if(!ch(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return hh(i,s,l,!1,d)},$n.version="18.3.1-next-f1338f8080-20240426",$n}var O0;function iT(){if(O0)return om.exports;O0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),om.exports=SC(),om.exports}var x0;function RC(){if(x0)return ph;x0=1;var n=iT();return ph.createRoot=n.createRoot,ph.hydrateRoot=n.hydrateRoot,ph}var IC=RC();const AC="modulepreload",CC=function(n){return"/booking2/"+n},D0={},vr=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=Promise.allSettled(t.map(f=>{if(f=CC(f),f in D0)return;D0[f]=!0;const p=f.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${v}`))return;const E=document.createElement("link");if(E.rel=p?"stylesheet":AC,p||(E.as="script"),E.crossOrigin="",E.href=f,h&&E.setAttribute("nonce",h),document.head.appendChild(E),p)return new Promise((T,I)=>{E.addEventListener("load",T),E.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return o.then(u=>{for(const h of u||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})};var Hl={},L0;function PC(){if(L0)return Hl;L0=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.parse=u,Hl.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function u(T,I){const S=new a,C=T.length;if(C<2)return S;const D=(I==null?void 0:I.decode)||v;let $=0;do{const F=T.indexOf("=",$);if(F===-1)break;const j=T.indexOf(";",$),ie=j===-1?C:j;if(F>ie){$=T.lastIndexOf(";",F-1)+1;continue}const Q=h(T,$,F),ee=f(T,F,Q),b=T.slice(Q,ee);if(S[b]===void 0){let A=h(T,F+1,ie),k=f(T,ie,A);const x=D(T.slice(A,k));S[b]=x}$=ie+1}while($<C);return S}function h(T,I,S){do{const C=T.charCodeAt(I);if(C!==32&&C!==9)return I}while(++I<S);return S}function f(T,I,S){for(;I>S;){const C=T.charCodeAt(--I);if(C!==32&&C!==9)return I+1}return S}function p(T,I,S){const C=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const D=C(I);if(!e.test(D))throw new TypeError(`argument val is invalid: ${I}`);let $=T+"="+D;if(!S)return $;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);$+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);$+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);$+="; Path="+S.path}if(S.expires){if(!E(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);$+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&($+="; HttpOnly"),S.secure&&($+="; Secure"),S.partitioned&&($+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return $}function v(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function E(T){return o.call(T)==="[object Date]"}return Hl}PC();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var V0="popstate";function bC(n={}){function e(r,o){let{pathname:a,search:u,hash:h}=r.location;return $m("",{pathname:a,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:yu(o)}return NC(e,t,null,n)}function Ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Fr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kC(){return Math.random().toString(36).substring(2,10)}function M0(n,e){return{usr:n.state,key:n.key,idx:e}}function $m(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Qa(e):e,state:t,key:e&&e.key||r||kC()}}function yu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Qa(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function NC(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,u=o.history,h="POP",f=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function E(){h="POP";let D=v(),$=D==null?null:D-p;p=D,f&&f({action:h,location:C.location,delta:$})}function T(D,$){h="PUSH";let F=$m(C.location,D,$);p=v()+1;let j=M0(F,p),ie=C.createHref(F);try{u.pushState(j,"",ie)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;o.location.assign(ie)}a&&f&&f({action:h,location:C.location,delta:1})}function I(D,$){h="REPLACE";let F=$m(C.location,D,$);p=v();let j=M0(F,p),ie=C.createHref(F);u.replaceState(j,"",ie),a&&f&&f({action:h,location:C.location,delta:0})}function S(D){let $=o.location.origin!=="null"?o.location.origin:o.location.href,F=typeof D=="string"?D:yu(D);return F=F.replace(/ $/,"%20"),Ct($,`No window.location.(origin|href) available to create URL for href: ${F}`),new URL(F,$)}let C={get action(){return h},get location(){return n(o,u)},listen(D){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(V0,E),f=D,()=>{o.removeEventListener(V0,E),f=null}},createHref(D){return e(o,D)},createURL:S,encodeLocation(D){let $=S(D);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:T,replace:I,go(D){return u.go(D)}};return C}function oT(n,e,t="/"){return OC(n,e,t,!1)}function OC(n,e,t,r){let o=typeof e=="string"?Qa(e):e,a=bo(o.pathname||"/",t);if(a==null)return null;let u=sT(n);xC(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=qC(a);h=zC(u[f],p,r)}return h}function sT(n,e=[],t=[],r=""){let o=(a,u,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(Ct(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=Oi([r,f.relativePath]),v=t.concat(f);a.children&&a.children.length>0&&(Ct(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),sT(a.children,e,v,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:$C(p,a.index),routesMeta:v})};return n.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,u);else for(let f of aT(a.path))o(a,u,f)}),e}function aT(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let u=aT(r.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&h.push(...u),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function xC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:BC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var DC=/^:[\w-]+$/,LC=3,VC=2,MC=1,FC=10,UC=-2,F0=n=>n==="*";function $C(n,e){let t=n.split("/"),r=t.length;return t.some(F0)&&(r+=UC),e&&(r+=VC),t.filter(o=>!F0(o)).reduce((o,a)=>o+(DC.test(a)?LC:a===""?MC:FC),r)}function BC(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function zC(n,e,t=!1){let{routesMeta:r}=n,o={},a="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],p=h===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",E=Qh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},v),T=f.route;if(!E&&p&&t&&!r[r.length-1].route.index&&(E=Qh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!E)return null;Object.assign(o,E.params),u.push({params:o,pathname:Oi([a,E.pathname]),pathnameBase:GC(Oi([a,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(a=Oi([a,E.pathnameBase]))}return u}function Qh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=jC(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:E},T)=>{if(v==="*"){let S=h[T]||"";u=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const I=h[T];return E&&!I?p[v]=void 0:p[v]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function jC(n,e=!1,t=!0){Fr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function qC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Fr(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function bo(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function HC(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?Qa(n):n;return{pathname:t?t.startsWith("/")?t:WC(t,e):e,search:QC(r),hash:YC(o)}}function WC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function lm(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Mg(n){let e=KC(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Fg(n,e,t,r=!1){let o;typeof n=="string"?o=Qa(n):(o={...n},Ct(!o.pathname||!o.pathname.includes("?"),lm("?","pathname","search",o)),Ct(!o.pathname||!o.pathname.includes("#"),lm("#","pathname","hash",o)),Ct(!o.search||!o.search.includes("#"),lm("#","search","hash",o)));let a=n===""||o.pathname==="",u=a?"/":o.pathname,h;if(u==null)h=t;else{let E=e.length-1;if(!r&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),E-=1;o.pathname=T.join("/")}h=E>=0?e[E]:"/"}let f=HC(o,h),p=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||v)&&(f.pathname+="/"),f}var Oi=n=>n.join("/").replace(/\/\/+/g,"/"),GC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),QC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,YC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function XC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var lT=["POST","PUT","PATCH","DELETE"];new Set(lT);var JC=["GET",...lT];new Set(JC);var Ya=K.createContext(null);Ya.displayName="DataRouter";var xd=K.createContext(null);xd.displayName="DataRouterState";var uT=K.createContext({isTransitioning:!1});uT.displayName="ViewTransition";var ZC=K.createContext(new Map);ZC.displayName="Fetchers";var eP=K.createContext(null);eP.displayName="Await";var $r=K.createContext(null);$r.displayName="Navigation";var bu=K.createContext(null);bu.displayName="Location";var Br=K.createContext({outlet:null,matches:[],isDataRoute:!1});Br.displayName="Route";var Ug=K.createContext(null);Ug.displayName="RouteError";function tP(n,{relative:e}={}){Ct(Xa(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=K.useContext($r),{hash:o,pathname:a,search:u}=ku(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:Oi([t,a])),r.createHref({pathname:h,search:u,hash:o})}function Xa(){return K.useContext(bu)!=null}function $i(){return Ct(Xa(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(bu).location}var cT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hT(n){K.useContext($r).static||K.useLayoutEffect(n)}function dT(){let{isDataRoute:n}=K.useContext(Br);return n?mP():nP()}function nP(){Ct(Xa(),"useNavigate() may be used only in the context of a <Router> component.");let n=K.useContext(Ya),{basename:e,navigator:t}=K.useContext($r),{matches:r}=K.useContext(Br),{pathname:o}=$i(),a=JSON.stringify(Mg(r)),u=K.useRef(!1);return hT(()=>{u.current=!0}),K.useCallback((f,p={})=>{if(Fr(u.current,cT),!u.current)return;if(typeof f=="number"){t.go(f);return}let v=Fg(f,JSON.parse(a),o,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Oi([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,a,o,n])}K.createContext(null);function rP(){let{matches:n}=K.useContext(Br),e=n[n.length-1];return e?e.params:{}}function ku(n,{relative:e}={}){let{matches:t}=K.useContext(Br),{pathname:r}=$i(),o=JSON.stringify(Mg(t));return K.useMemo(()=>Fg(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function iP(n,e){return fT(n,e)}function fT(n,e,t,r){var $;Ct(Xa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=K.useContext($r),{matches:a}=K.useContext(Br),u=a[a.length-1],h=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",v=u&&u.route;{let F=v&&v.path||"";pT(f,!v||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let E=$i(),T;if(e){let F=typeof e=="string"?Qa(e):e;Ct(p==="/"||(($=F.pathname)==null?void 0:$.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${F.pathname}" was given in the \`location\` prop.`),T=F}else T=E;let I=T.pathname||"/",S=I;if(p!=="/"){let F=p.replace(/^\//,"").split("/");S="/"+I.replace(/^\//,"").split("/").slice(F.length).join("/")}let C=oT(n,{pathname:S});Fr(v||C!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Fr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=uP(C&&C.map(F=>Object.assign({},F,{params:Object.assign({},h,F.params),pathname:Oi([p,o.encodeLocation?o.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?p:Oi([p,o.encodeLocation?o.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),a,t,r);return e&&D?K.createElement(bu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},D):D}function oP(){let n=pP(),e=XC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:a},"ErrorBoundary")," or"," ",K.createElement("code",{style:a},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:o},t):null,u)}var sP=K.createElement(oP,null),aP=class extends K.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?K.createElement(Br.Provider,{value:this.props.routeContext},K.createElement(Ug.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function lP({routeContext:n,match:e,children:t}){let r=K.useContext(Ya);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Br.Provider,{value:n},t)}function uP(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let f=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);Ct(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,h=-1;if(t)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:v,errors:E}=t,T=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!E||E[p.route.id]===void 0);if(p.route.lazy||T){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((f,p,v)=>{let E,T=!1,I=null,S=null;t&&(E=a&&p.route.id?a[p.route.id]:void 0,I=p.route.errorElement||sP,u&&(h<0&&v===0?(pT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,S=null):h===v&&(T=!0,S=p.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,v+1)),D=()=>{let $;return E?$=I:T?$=S:p.route.Component?$=K.createElement(p.route.Component,null):p.route.element?$=p.route.element:$=f,K.createElement(lP,{match:p,routeContext:{outlet:f,matches:C,isDataRoute:t!=null},children:$})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?K.createElement(aP,{location:t.location,revalidation:t.revalidation,component:I,error:E,children:D(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):D()},null)}function $g(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cP(n){let e=K.useContext(Ya);return Ct(e,$g(n)),e}function hP(n){let e=K.useContext(xd);return Ct(e,$g(n)),e}function dP(n){let e=K.useContext(Br);return Ct(e,$g(n)),e}function Bg(n){let e=dP(n),t=e.matches[e.matches.length-1];return Ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function fP(){return Bg("useRouteId")}function pP(){var r;let n=K.useContext(Ug),e=hP("useRouteError"),t=Bg("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function mP(){let{router:n}=cP("useNavigate"),e=Bg("useNavigate"),t=K.useRef(!1);return hT(()=>{t.current=!0}),K.useCallback(async(o,a={})=>{Fr(t.current,cT),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var U0={};function pT(n,e,t){!e&&!U0[n]&&(U0[n]=!0,Fr(!1,t))}K.memo(gP);function gP({routes:n,future:e,state:t}){return fT(n,void 0,t,e)}function qB({to:n,replace:e,state:t,relative:r}){Ct(Xa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=K.useContext($r);Fr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=K.useContext(Br),{pathname:u}=$i(),h=dT(),f=Fg(n,Mg(a),u,r==="path"),p=JSON.stringify(f);return K.useEffect(()=>{h(JSON.parse(p),{replace:e,state:t,relative:r})},[h,p,r,e,t]),null}function rr(n){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yP({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:a=!1}){Ct(!Xa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=K.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof t=="string"&&(t=Qa(t));let{pathname:f="/",search:p="",hash:v="",state:E=null,key:T="default"}=t,I=K.useMemo(()=>{let S=bo(f,u);return S==null?null:{location:{pathname:S,search:p,hash:v,state:E,key:T},navigationType:r}},[u,f,p,v,E,T,r]);return Fr(I!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:K.createElement($r.Provider,{value:h},K.createElement(bu.Provider,{children:e,value:I}))}function vP({children:n,location:e}){return iP(Bm(n),e)}function Bm(n,e=[]){let t=[];return K.Children.forEach(n,(r,o)=>{if(!K.isValidElement(r))return;let a=[...e,o];if(r.type===K.Fragment){t.push.apply(t,Bm(r.props.children,a));return}Ct(r.type===rr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Bm(r.props.children,a)),t.push(u)}),t}var Nh="get",Oh="application/x-www-form-urlencoded";function Dd(n){return n!=null&&typeof n.tagName=="string"}function _P(n){return Dd(n)&&n.tagName.toLowerCase()==="button"}function EP(n){return Dd(n)&&n.tagName.toLowerCase()==="form"}function wP(n){return Dd(n)&&n.tagName.toLowerCase()==="input"}function TP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function SP(n,e){return n.button===0&&(!e||e==="_self")&&!TP(n)}var mh=null;function RP(){if(mh===null)try{new FormData(document.createElement("form"),0),mh=!1}catch{mh=!0}return mh}var IP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function um(n){return n!=null&&!IP.has(n)?(Fr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Oh}"`),null):n}function AP(n,e){let t,r,o,a,u;if(EP(n)){let h=n.getAttribute("action");r=h?bo(h,e):null,t=n.getAttribute("method")||Nh,o=um(n.getAttribute("enctype"))||Oh,a=new FormData(n)}else if(_P(n)||wP(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(r=f?bo(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Nh,o=um(n.getAttribute("formenctype"))||um(h.getAttribute("enctype"))||Oh,a=new FormData(h,n),!RP()){let{name:p,type:v,value:E}=n;if(v==="image"){let T=p?`${p}.`:"";a.append(`${T}x`,"0"),a.append(`${T}y`,"0")}else p&&a.append(p,E)}}else{if(Dd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Nh,r=null,o=Oh,u=n}return a&&o==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:a,body:u}}function zg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function CP(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PP(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function bP(n,e,t){let r=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await CP(a,t);return u.links?u.links():[]}return[]}));return xP(r.flat(1).filter(PP).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function $0(n,e,t,r,o,a){let u=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,h=(f,p)=>{var v;return t[p].pathname!==f.pathname||((v=t[p].route.path)==null?void 0:v.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>u(f,p)||h(f,p)):a==="data"?e.filter((f,p)=>{var E;let v=r.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let T=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function kP(n,e){return NP(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let o=[r.module];return r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function NP(n){return[...new Set(n)]}function OP(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function xP(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let a=JSON.stringify(OP(o));return t.has(a)||(t.add(a),r.push({key:a,link:o})),r},[])}function DP(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function LP(){let n=K.useContext(Ya);return zg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function VP(){let n=K.useContext(xd);return zg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var jg=K.createContext(void 0);jg.displayName="FrameworkContext";function mT(){let n=K.useContext(jg);return zg(n,"You must render this element inside a <HydratedRouter> element"),n}function MP(n,e){let t=K.useContext(jg),[r,o]=K.useState(!1),[a,u]=K.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:v,onTouchStart:E}=e,T=K.useRef(null);K.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let C=$=>{$.forEach(F=>{u(F.isIntersecting)})},D=new IntersectionObserver(C,{threshold:.5});return T.current&&D.observe(T.current),()=>{D.disconnect()}}},[n]),K.useEffect(()=>{if(r){let C=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(C)}}},[r]);let I=()=>{o(!0)},S=()=>{o(!1),u(!1)};return t?n!=="intent"?[a,T,{}]:[a,T,{onFocus:Wl(h,I),onBlur:Wl(f,S),onMouseEnter:Wl(p,I),onMouseLeave:Wl(v,S),onTouchStart:Wl(E,I)}]:[!1,T,{}]}function Wl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function FP({page:n,...e}){let{router:t}=LP(),r=K.useMemo(()=>oT(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?K.createElement($P,{page:n,matches:r,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function UP(n){let{manifest:e,routeModules:t}=mT(),[r,o]=K.useState([]);return K.useEffect(()=>{let a=!1;return bP(n,e,t).then(u=>{a||o(u)}),()=>{a=!0}},[n,e,t]),r}function $P({page:n,matches:e,...t}){let r=$i(),{manifest:o,routeModules:a}=mT(),{loaderData:u,matches:h}=VP(),f=K.useMemo(()=>$0(n,e,h,o,r,"data"),[n,e,h,o,r]),p=K.useMemo(()=>$0(n,e,h,o,r,"assets"),[n,e,h,o,r]),v=K.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let I=new Set,S=!1;if(e.forEach(D=>{var F;let $=o.routes[D.route.id];!$||!$.hasLoader||(!f.some(j=>j.route.id===D.route.id)&&D.route.id in u&&((F=a[D.route.id])!=null&&F.shouldRevalidate)||$.hasClientLoader?S=!0:I.add(D.route.id))}),I.size===0)return[];let C=DP(n);return S&&I.size>0&&C.searchParams.set("_routes",e.filter(D=>I.has(D.route.id)).map(D=>D.route.id).join(",")),[C.pathname+C.search]},[u,r,o,f,e,n,a]),E=K.useMemo(()=>kP(p,o),[p,o]),T=UP(p);return K.createElement(K.Fragment,null,v.map(I=>K.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),E.map(I=>K.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),T.map(({key:I,link:S})=>K.createElement("link",{key:I,...S})))}function BP(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var gT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gT&&(window.__reactRouterVersion="7.0.2")}catch{}function zP({basename:n,children:e,window:t}){let r=K.useRef();r.current==null&&(r.current=bC({window:t,v5Compat:!0}));let o=r.current,[a,u]=K.useState({action:o.action,location:o.location}),h=K.useCallback(f=>{K.startTransition(()=>u(f))},[u]);return K.useLayoutEffect(()=>o.listen(h),[o,h]),K.createElement(yP,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var yT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ea=K.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:a,replace:u,state:h,target:f,to:p,preventScrollReset:v,viewTransition:E,...T},I){let{basename:S}=K.useContext($r),C=typeof p=="string"&&yT.test(p),D,$=!1;if(typeof p=="string"&&C&&(D=p,gT))try{let k=new URL(window.location.href),x=p.startsWith("//")?new URL(k.protocol+p):new URL(p),M=bo(x.pathname,S);x.origin===k.origin&&M!=null?p=M+x.search+x.hash:$=!0}catch{Fr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=tP(p,{relative:o}),[j,ie,Q]=MP(r,T),ee=WP(p,{replace:u,state:h,target:f,preventScrollReset:v,relative:o,viewTransition:E});function b(k){e&&e(k),k.defaultPrevented||ee(k)}let A=K.createElement("a",{...T,...Q,href:D||F,onClick:$||a?e:b,ref:BP(I,ie),target:f,"data-discover":!C&&t==="render"?"true":void 0});return j&&!C?K.createElement(K.Fragment,null,A,K.createElement(FP,{page:F})):A});Ea.displayName="Link";var jP=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:a,to:u,viewTransition:h,children:f,...p},v){let E=ku(u,{relative:p.relative}),T=$i(),I=K.useContext(xd),{navigator:S,basename:C}=K.useContext($r),D=I!=null&&XP(E)&&h===!0,$=S.encodeLocation?S.encodeLocation(E).pathname:E.pathname,F=T.pathname,j=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(F=F.toLowerCase(),j=j?j.toLowerCase():null,$=$.toLowerCase()),j&&C&&(j=bo(j,C)||j);const ie=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let Q=F===$||!o&&F.startsWith($)&&F.charAt(ie)==="/",ee=j!=null&&(j===$||!o&&j.startsWith($)&&j.charAt($.length)==="/"),b={isActive:Q,isPending:ee,isTransitioning:D},A=Q?e:void 0,k;typeof r=="function"?k=r(b):k=[r,Q?"active":null,ee?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let x=typeof a=="function"?a(b):a;return K.createElement(Ea,{...p,"aria-current":A,className:k,ref:v,style:x,to:u,viewTransition:h},typeof f=="function"?f(b):f)});jP.displayName="NavLink";var qP=K.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:a,method:u=Nh,action:h,onSubmit:f,relative:p,preventScrollReset:v,viewTransition:E,...T},I)=>{let S=QP(),C=YP(h,{relative:p}),D=u.toLowerCase()==="get"?"get":"post",$=typeof h=="string"&&yT.test(h),F=j=>{if(f&&f(j),j.defaultPrevented)return;j.preventDefault();let ie=j.nativeEvent.submitter,Q=(ie==null?void 0:ie.getAttribute("formmethod"))||u;S(ie||j.currentTarget,{fetcherKey:e,method:Q,navigate:t,replace:o,state:a,relative:p,preventScrollReset:v,viewTransition:E})};return K.createElement("form",{ref:I,method:D,action:C,onSubmit:r?f:F,...T,"data-discover":!$&&n==="render"?"true":void 0})});qP.displayName="Form";function HP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vT(n){let e=K.useContext(Ya);return Ct(e,HP(n)),e}function WP(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:a,viewTransition:u}={}){let h=dT(),f=$i(),p=ku(n,{relative:a});return K.useCallback(v=>{if(SP(v,e)){v.preventDefault();let E=t!==void 0?t:yu(f)===yu(p);h(n,{replace:E,state:r,preventScrollReset:o,relative:a,viewTransition:u})}},[f,h,p,t,r,e,n,o,a,u])}var KP=0,GP=()=>`__${String(++KP)}__`;function QP(){let{router:n}=vT("useSubmit"),{basename:e}=K.useContext($r),t=fP();return K.useCallback(async(r,o={})=>{let{action:a,method:u,encType:h,formData:f,body:p}=AP(r,e);if(o.navigate===!1){let v=o.fetcherKey||GP();await n.fetch(v,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function YP(n,{relative:e}={}){let{basename:t}=K.useContext($r),r=K.useContext(Br);Ct(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...ku(n||".",{relative:e})},u=$i();if(n==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(E=>E).forEach(E=>h.append("index",E));let v=h.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Oi([t,a.pathname])),yu(a)}function XP(n,e={}){let t=K.useContext(uT);Ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=vT("useViewTransitionState"),o=ku(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=bo(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=bo(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Qh(o.pathname,u)!=null||Qh(o.pathname,a)!=null}new TextEncoder;var _T=iT();const ET=Ka(_T),JP=()=>{K.useEffect(()=>{const n=document.createElement("script");n.src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.4/kakao.min.js",n.async=!0,document.head.appendChild(n),n.onload=()=>{window.Kakao.isInitialized()||window.Kakao.init("c4e0fa0aeca889cc0a2c195c19afc774")}},[])};var B0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},ZP=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],u=n[t++],h=n[t++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},TT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],u=o+1<n.length,h=u?n[o+1]:0,f=o+2<n.length,p=f?n[o+2]:0,v=a>>2,E=(a&3)<<4|h>>4;let T=(h&15)<<2|p>>6,I=p&63;f||(I=64,u||(T=64)),r.push(t[v],t[E],t[T],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(wT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ZP(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const p=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||h==null||p==null||E==null)throw new eb;const T=a<<2|h>>4;if(r.push(T),p!==64){const I=h<<4&240|p>>2;if(r.push(I),E!==64){const S=p<<6&192|E;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class eb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tb=function(n){const e=wT(n);return TT.encodeByteArray(e,!0)},Yh=function(n){return tb(n).replace(/\./g,"")},ST=function(n){try{return TT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=()=>nb().__FIREBASE_DEFAULTS__,ib=()=>{if(typeof process>"u"||typeof B0>"u")return;const n=B0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ob=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ST(n[1]);return e&&JSON.parse(e)},Ld=()=>{try{return rb()||ib()||ob()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},RT=n=>{var e,t;return(t=(e=Ld())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},sb=n=>{const e=RT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},IT=()=>{var n;return(n=Ld())===null||n===void 0?void 0:n.config},AT=n=>{var e;return(e=Ld())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Yh(JSON.stringify(t)),Yh(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ub(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function cb(){var n;const e=(n=Ld())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function db(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function fb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pb(){const n=Cn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function mb(){return!cb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gb(){try{return typeof indexedDB=="object"}catch{return!1}}function yb(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="FirebaseError";class Bi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=vb,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nu.prototype.create)}}class Nu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?_b(a,r):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new Bi(o,h,r)}}function _b(n,e){return n.replace(Eb,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const Eb=/\{\$([^}]+)}/g;function wb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Xh(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],u=e[o];if(z0(a)&&z0(u)){if(!Xh(a,u))return!1}else if(a!==u)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function z0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Tb(n,e){const t=new Sb(n,e);return t.subscribe.bind(t)}class Sb{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Rb(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=cm),o.error===void 0&&(o.error=cm),o.complete===void 0&&(o.complete=cm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rb(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function cm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(n){return n&&n._delegate?n._delegate:n}class ws{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new ab;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Cb(e))try{this.getOrInitializeService({instanceIdentifier:fs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fs){return this.instances.has(e)}getOptions(e=fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&u.resolve(o)}return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ab(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fs){return this.component?this.component.multipleInstances?e:fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ab(n){return n===fs?void 0:n}function Cb(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ib(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Qe||(Qe={}));const bb={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},kb=Qe.INFO,Nb={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},Ob=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=Nb[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qg{constructor(e){this.name=e,this._logLevel=kb,this._logHandler=Ob,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const xb=(n,e)=>e.some(t=>n instanceof t);let j0,q0;function Db(){return j0||(j0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Lb(){return q0||(q0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const CT=new WeakMap,zm=new WeakMap,PT=new WeakMap,hm=new WeakMap,Hg=new WeakMap;function Vb(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Io(n.result)),o()},u=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&CT.set(t,n)}).catch(()=>{}),Hg.set(e,n),e}function Mb(n){if(zm.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),o()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});zm.set(n,e)}let jm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return zm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||PT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Io(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Fb(n){jm=n(jm)}function Ub(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(dm(this),e,...t);return PT.set(r,e.sort?e.sort():[e]),Io(r)}:Lb().includes(n)?function(...e){return n.apply(dm(this),e),Io(CT.get(this))}:function(...e){return Io(n.apply(dm(this),e))}}function $b(n){return typeof n=="function"?Ub(n):(n instanceof IDBTransaction&&Mb(n),xb(n,Db())?new Proxy(n,jm):n)}function Io(n){if(n instanceof IDBRequest)return Vb(n);if(hm.has(n))return hm.get(n);const e=$b(n);return e!==n&&(hm.set(n,e),Hg.set(e,n)),e}const dm=n=>Hg.get(n);function Bb(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const u=indexedDB.open(n,e),h=Io(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Io(u.result),f.oldVersion,f.newVersion,Io(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const zb=["get","getKey","getAll","getAllKeys","count"],jb=["put","add","delete","clear"],fm=new Map;function H0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(fm.get(e))return fm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=jb.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||zb.includes(t)))return;const a=async function(u,...h){const f=this.transaction(u,o?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),o&&f.done]))[0]};return fm.set(e,a),a}Fb(n=>({...n,get:(e,t,r)=>H0(e,t)||n.get(e,t,r),has:(e,t)=>!!H0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Hb(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Hb(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qm="@firebase/app",W0="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new qg("@firebase/app"),Wb="@firebase/app-compat",Kb="@firebase/analytics-compat",Gb="@firebase/analytics",Qb="@firebase/app-check-compat",Yb="@firebase/app-check",Xb="@firebase/auth",Jb="@firebase/auth-compat",Zb="@firebase/database",ek="@firebase/data-connect",tk="@firebase/database-compat",nk="@firebase/functions",rk="@firebase/functions-compat",ik="@firebase/installations",ok="@firebase/installations-compat",sk="@firebase/messaging",ak="@firebase/messaging-compat",lk="@firebase/performance",uk="@firebase/performance-compat",ck="@firebase/remote-config",hk="@firebase/remote-config-compat",dk="@firebase/storage",fk="@firebase/storage-compat",pk="@firebase/firestore",mk="@firebase/vertexai",gk="@firebase/firestore-compat",yk="firebase",vk="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="[DEFAULT]",_k={[qm]:"fire-core",[Wb]:"fire-core-compat",[Gb]:"fire-analytics",[Kb]:"fire-analytics-compat",[Yb]:"fire-app-check",[Qb]:"fire-app-check-compat",[Xb]:"fire-auth",[Jb]:"fire-auth-compat",[Zb]:"fire-rtdb",[ek]:"fire-data-connect",[tk]:"fire-rtdb-compat",[nk]:"fire-fn",[rk]:"fire-fn-compat",[ik]:"fire-iid",[ok]:"fire-iid-compat",[sk]:"fire-fcm",[ak]:"fire-fcm-compat",[lk]:"fire-perf",[uk]:"fire-perf-compat",[ck]:"fire-rc",[hk]:"fire-rc-compat",[dk]:"fire-gcs",[fk]:"fire-gcs-compat",[pk]:"fire-fst",[gk]:"fire-fst-compat",[mk]:"fire-vertex","fire-js":"fire-js",[yk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=new Map,Ek=new Map,Wm=new Map;function K0(n,e){try{n.container.addComponent(e)}catch(t){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Oa(n){const e=n.name;if(Wm.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;Wm.set(e,n);for(const t of Jh.values())K0(t,n);for(const t of Ek.values())K0(t,n);return!0}function Wg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Pi(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ao=new Nu("app","Firebase",wk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ao.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=vk;function bT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Hm,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Ao.create("bad-app-name",{appName:String(o)});if(t||(t=IT()),!t)throw Ao.create("no-options");const a=Jh.get(o);if(a){if(Xh(t,a.options)&&Xh(r,a.config))return a;throw Ao.create("duplicate-app",{appName:o})}const u=new Pb(o);for(const f of Wm.values())u.addComponent(f);const h=new Tk(t,r,u);return Jh.set(o,h),h}function kT(n=Hm){const e=Jh.get(n);if(!e&&n===Hm&&IT())return bT();if(!e)throw Ao.create("no-app",{appName:n});return e}function Co(n,e,t){var r;let o=(r=_k[n])!==null&&r!==void 0?r:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Li.warn(h.join(" "));return}Oa(new ws(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk="firebase-heartbeat-database",Rk=1,vu="firebase-heartbeat-store";let pm=null;function NT(){return pm||(pm=Bb(Sk,Rk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(vu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ao.create("idb-open",{originalErrorMessage:n.message})})),pm}async function Ik(n){try{const t=(await NT()).transaction(vu),r=await t.objectStore(vu).get(OT(n));return await t.done,r}catch(e){if(e instanceof Bi)Li.warn(e.message);else{const t=Ao.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Li.warn(t.message)}}}async function G0(n,e){try{const r=(await NT()).transaction(vu,"readwrite");await r.objectStore(vu).put(e,OT(n)),await r.done}catch(t){if(t instanceof Bi)Li.warn(t.message);else{const r=Ao.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Li.warn(r.message)}}}function OT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=1024,Ck=30*24*60*60*1e3;class Pk{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new kk(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Q0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const h=new Date(u.date).valueOf();return Date.now()-h<=Ck}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Li.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Q0(),{heartbeatsToSend:r,unsentEntries:o}=bk(this._heartbeatsCache.heartbeats),a=Yh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Li.warn(t),""}}}function Q0(){return new Date().toISOString().substring(0,10)}function bk(n,e=Ak){const t=[];let r=n.slice();for(const o of n){const a=t.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),Y0(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Y0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class kk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gb()?yb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Ik(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return G0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return G0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Y0(n){return Yh(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(n){Oa(new ws("platform-logger",e=>new qb(e),"PRIVATE")),Oa(new ws("heartbeat",e=>new Pk(e),"PRIVATE")),Co(qm,W0,n),Co(qm,W0,"esm2017"),Co("fire-js","")}Nk("");function Kg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function xT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ok=xT,DT=new Nu("auth","Firebase",xT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=new qg("@firebase/auth");function xk(n,...e){Zh.logLevel<=Qe.WARN&&Zh.warn(`Auth (${Ja}): ${n}`,...e)}function xh(n,...e){Zh.logLevel<=Qe.ERROR&&Zh.error(`Auth (${Ja}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(n,...e){throw Qg(n,...e)}function Mr(n,...e){return Qg(n,...e)}function Gg(n,e,t){const r=Object.assign(Object.assign({},Ok()),{[e]:t});return new Nu("auth","Firebase",r).create(e,{appName:n.name})}function _s(n){return Gg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dk(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&li(n,"argument-error"),Gg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return DT.create(n,...e)}function Ue(n,e,...t){if(!n)throw Qg(e,...t)}function bi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw xh(e),new Error(e)}function Vi(n,e){n||bi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Lk(){return X0()==="http:"||X0()==="https:"}function X0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Lk()||db()||"connection"in navigator)?navigator.onLine:!0}function Mk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Vi(t>e,"Short delay should be less than long delay!"),this.isMobile=ub()||fb()}get(){return Vk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(n,e){Vi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=new xu(3e4,6e4);function Xg(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Za(n,e,t,r,o={}){return VT(n,o,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const h=Ou(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:f},a);return hb()||(p.referrerPolicy="no-referrer"),LT.fetch()(MT(n,n.config.apiHost,t,h),p)})}async function VT(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Fk),e);try{const o=new Bk(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw gh(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const h=a.ok?u.errorMessage:u.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw gh(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw gh(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw gh(n,"user-disabled",u);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Gg(n,v,p);li(n,v)}}catch(o){if(o instanceof Bi)throw o;li(n,"network-request-failed",{message:String(o)})}}async function $k(n,e,t,r,o={}){const a=await Za(n,e,t,r,o);return"mfaPendingCredential"in a&&li(n,"multi-factor-auth-required",{_serverResponse:a}),a}function MT(n,e,t,r){const o=`${e}${t}?${r}`;return n.config.emulator?Yg(n.config,o):`${n.config.apiScheme}://${o}`}class Bk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Mr(this.auth,"network-request-failed")),Uk.get())})}}function gh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Mr(n,e,r);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(n,e){return Za(n,"POST","/v1/accounts:delete",e)}async function FT(n,e){return Za(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jk(n,e=!1){const t=Ut(n),r=await t.getIdToken(e),o=Jg(r);Ue(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:r,authTime:ou(mm(o.auth_time)),issuedAtTime:ou(mm(o.iat)),expirationTime:ou(mm(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function mm(n){return Number(n)*1e3}function Jg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return xh("JWT malformed, contained fewer than 3 sections"),null;try{const o=ST(t);return o?JSON.parse(o):(xh("Failed to decode base64 JWT payload"),null)}catch(o){return xh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function J0(n){const e=Jg(n);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Bi&&qk(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function qk({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ou(this.lastLoginAt),this.creationTime=ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ed(n){var e;const t=n.auth,r=await n.getIdToken(),o=await _u(n,FT(t,{idToken:r}));Ue(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?UT(a.providerUserInfo):[],h=Kk(n.providerData,u),f=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),v=f?p:!1,E={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Gm(a.createdAt,a.lastLoginAt),isAnonymous:v};Object.assign(n,E)}async function Wk(n){const e=Ut(n);await ed(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Kk(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function UT(n){return n.map(e=>{var{providerId:t}=e,r=Kg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gk(n,e){const t=await VT(n,{},async()=>{const r=Ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,u=MT(n,o,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",LT.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Qk(n,e){return Za(n,"POST","/v2/accounts:revokeToken",Xg(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const t=J0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await Gk(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,u=new Ta;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),o&&(Ue(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(Ue(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ta,this.toJSON())}_performRefresh(){return bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(n,e){Ue(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ki{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,a=Kg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Gm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await _u(this,this.stsTokenManager.getToken(this.auth,e));return Ue(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return jk(this,e)}reload(){return Wk(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ki(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ed(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pi(this.auth.app))return Promise.reject(_s(this.auth));const e=await this.getIdToken();return await _u(this,zk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,a,u,h,f,p,v;const E=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,I=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,S=(u=t.photoURL)!==null&&u!==void 0?u:void 0,C=(h=t.tenantId)!==null&&h!==void 0?h:void 0,D=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,$=(p=t.createdAt)!==null&&p!==void 0?p:void 0,F=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:j,emailVerified:ie,isAnonymous:Q,providerData:ee,stsTokenManager:b}=t;Ue(j&&b,e,"internal-error");const A=Ta.fromJSON(this.name,b);Ue(typeof j=="string",e,"internal-error"),go(E,e.name),go(T,e.name),Ue(typeof ie=="boolean",e,"internal-error"),Ue(typeof Q=="boolean",e,"internal-error"),go(I,e.name),go(S,e.name),go(C,e.name),go(D,e.name),go($,e.name),go(F,e.name);const k=new ki({uid:j,auth:e,email:T,emailVerified:ie,displayName:E,isAnonymous:Q,photoURL:S,phoneNumber:I,tenantId:C,stsTokenManager:A,createdAt:$,lastLoginAt:F});return ee&&Array.isArray(ee)&&(k.providerData=ee.map(x=>Object.assign({},x))),D&&(k._redirectEventId=D),k}static async _fromIdTokenResponse(e,t,r=!1){const o=new Ta;o.updateFromServerResponse(t);const a=new ki({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await ed(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Ue(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?UT(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),h=new Ta;h.updateFromIdToken(r);const f=new ki({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Gm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=new Map;function Ni(n){Vi(n instanceof Function,"Expected a class definition");let e=Z0.get(n);return e?(Vi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Z0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}$T.type="NONE";const eE=$T;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(n,e,t){return`firebase:${n}:${e}:${t}`}class Sa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=Dh(this.userKey,o.apiKey,a),this.fullPersistenceKey=Dh("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ki._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Sa(Ni(eE),e,r);const o=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=o[0]||Ni(eE);const u=Dh(r,e.config.apiKey,e.name);let h=null;for(const p of t)try{const v=await p._get(u);if(v){const E=ki._fromJSON(e,v);p!==a&&(h=E),a=p;break}}catch{}const f=o.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Sa(a,e,r):(a=f[0],h&&await a._set(u,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new Sa(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WT(e))return"Blackberry";if(KT(e))return"Webos";if(zT(e))return"Safari";if((e.includes("chrome/")||jT(e))&&!e.includes("edge/"))return"Chrome";if(HT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function BT(n=Cn()){return/firefox\//i.test(n)}function zT(n=Cn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jT(n=Cn()){return/crios\//i.test(n)}function qT(n=Cn()){return/iemobile/i.test(n)}function HT(n=Cn()){return/android/i.test(n)}function WT(n=Cn()){return/blackberry/i.test(n)}function KT(n=Cn()){return/webos/i.test(n)}function Zg(n=Cn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Yk(n=Cn()){var e;return Zg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Xk(){return pb()&&document.documentMode===10}function GT(n=Cn()){return Zg(n)||HT(n)||KT(n)||WT(n)||/windows phone/i.test(n)||qT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(n,e=[]){let t;switch(n){case"Browser":t=tE(Cn());break;case"Worker":t=`${tE(Cn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ja}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,h)=>{try{const f=e(a);u(f)}catch(f){h(f)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zk(n,e={}){return Za(n,"GET","/v2/passwordPolicy",Xg(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=6;class tN{constructor(e){var t,r,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:eN,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,o,a,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nE(this),this.idTokenSubscription=new nE(this),this.beforeStateQueue=new Jk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ni(t)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await Sa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await FT(this,{idToken:e}),r=await ki._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Pi(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ed(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Mk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pi(this.app))return Promise.reject(_s(this));const t=e?Ut(e):null;return t&&Ue(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pi(this.app)?Promise.reject(_s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pi(this.app)?Promise.reject(_s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Zk(this),t=new tN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Qk(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ni(e)||this._popupRedirectResolver;Ue(t,this,"argument-error"),this.redirectPersistenceManager=await Sa.create(this,[Ni(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(h,this,"internal-error"),h.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,o);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&xk(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Vd(n){return Ut(n)}class nE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Tb(t=>this.observer=t)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ey={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rN(n){ey=n}function iN(n){return ey.loadJS(n)}function oN(){return ey.gapiScript}function sN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(n,e){const t=Wg(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Xh(a,e??{}))return o;li(o,"already-initialized")}return t.initialize({options:e})}function lN(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ni);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function uN(n,e,t){const r=Vd(n);Ue(r._canInitEmulator,r,"emulator-config-failed"),Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=YT(e),{host:u,port:h}=cN(e),f=h===null?"":`:${h}`;r.config.emulator={url:`${a}//${u}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),hN()}function YT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function cN(n){const e=YT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:rE(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:rE(u)}}}function rE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function hN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return bi("not implemented")}_getIdTokenResponse(e){return bi("not implemented")}_linkToIdToken(e,t){return bi("not implemented")}_getReauthenticationResolver(e){return bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ra(n,e){return $k(n,"POST","/v1/accounts:signInWithIdp",Xg(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN="http://localhost";class Ts extends XT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ts(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):li("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=t,a=Kg(t,["providerId","signInMethod"]);if(!r||!o)return null;const u=new Ts(r,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ra(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ra(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ra(e,t)}buildRequest(){const e={requestUri:dN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ou(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends ty{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends Du{constructor(){super("facebook.com")}static credential(e){return Ts._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Eo.credential(e.oauthAccessToken)}catch{return null}}}Eo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Eo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends Du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ts._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return wo.credential(t,r)}catch{return null}}}wo.GOOGLE_SIGN_IN_METHOD="google.com";wo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends Du{constructor(){super("github.com")}static credential(e){return Ts._fromParams({providerId:To.PROVIDER_ID,signInMethod:To.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return To.credentialFromTaggedObject(e)}static credentialFromError(e){return To.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return To.credential(e.oauthAccessToken)}catch{return null}}}To.GITHUB_SIGN_IN_METHOD="github.com";To.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends Du{constructor(){super("twitter.com")}static credential(e,t){return Ts._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return So.credentialFromTaggedObject(e)}static credentialFromError(e){return So.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return So.credential(t,r)}catch{return null}}}So.TWITTER_SIGN_IN_METHOD="twitter.com";So.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await ki._fromIdTokenResponse(e,r,o),u=iE(r);return new xa({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=iE(r);return new xa({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function iE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td extends Bi{constructor(e,t,r,o){var a;super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,td.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new td(e,t,r,o)}}function JT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?td._fromErrorAndOperation(n,a,e,r):a})}async function fN(n,e,t=!1){const r=await _u(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return xa._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(n,e,t=!1){const{auth:r}=n;if(Pi(r.app))return Promise.reject(_s(r));const o="reauthenticate";try{const a=await _u(n,JT(r,o,e,n),t);Ue(a.idToken,r,"internal-error");const u=Jg(a.idToken);Ue(u,r,"internal-error");const{sub:h}=u;return Ue(n.uid===h,r,"user-mismatch"),xa._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&li(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(n,e,t=!1){if(Pi(n.app))return Promise.reject(_s(n));const r="signIn",o=await JT(n,r,e),a=await xa._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}function gN(n,e,t,r){return Ut(n).onIdTokenChanged(e,t,r)}function yN(n,e,t){return Ut(n).beforeAuthStateChanged(e,t)}function vN(n,e,t,r){return Ut(n).onAuthStateChanged(e,t,r)}function HB(n){return Ut(n).signOut()}const nd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(nd,"1"),this.storage.removeItem(nd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=1e3,EN=10;class eS extends ZT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);Xk()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,EN):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},_N)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}eS.type="LOCAL";const wN=eS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS extends ZT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}tS.type="SESSION";const nS=tS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Md(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(u).map(async p=>p(t.origin,a)),f=await TN(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Md.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((h,f)=>{const p=ny("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:o,onMessage(E){const T=E;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(T.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function RN(n){ri().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function IN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AN(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function CN(){return rS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="firebaseLocalStorageDb",PN=1,rd="firebaseLocalStorage",oS="fbase_key";class Lu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Fd(n,e){return n.transaction([rd],e?"readwrite":"readonly").objectStore(rd)}function bN(){const n=indexedDB.deleteDatabase(iS);return new Lu(n).toPromise()}function Qm(){const n=indexedDB.open(iS,PN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(rd,{keyPath:oS})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(rd)?e(r):(r.close(),await bN(),e(await Qm()))})})}async function oE(n,e,t){const r=Fd(n,!0).put({[oS]:e,value:t});return new Lu(r).toPromise()}async function kN(n,e){const t=Fd(n,!1).get(e),r=await new Lu(t).toPromise();return r===void 0?null:r.value}function sE(n,e){const t=Fd(n,!0).delete(e);return new Lu(t).toPromise()}const NN=800,ON=3;class sS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>ON)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Md._getInstance(CN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await IN(),!this.activeServiceWorker)return;this.sender=new SN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qm();return await oE(e,nd,"1"),await sE(e,nd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>oE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>kN(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>sE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Fd(o,!1).getAll();return new Lu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sS.type="LOCAL";const xN=sS;new xu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(n,e){return e?Ni(e):(Ue(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry extends XT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ra(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ra(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ra(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function DN(n){return mN(n.auth,new ry(n),n.bypassAuthState)}function LN(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),pN(t,new ry(n),n.bypassAuthState)}async function VN(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),fN(t,new ry(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DN;case"linkViaPopup":case"linkViaRedirect":return VN;case"reauthViaPopup":case"reauthViaRedirect":return LN;default:li(this.auth,"internal-error")}}resolve(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=new xu(2e3,1e4);async function WB(n,e,t){if(Pi(n.app))return Promise.reject(Mr(n,"operation-not-supported-in-this-environment"));const r=Vd(n);Dk(n,e,ty);const o=aS(r,t);return new ms(r,"signInViaPopup",e,o).executeNotNull()}class ms extends lS{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,ms.currentPopupAction&&ms.currentPopupAction.cancel(),ms.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){Vi(this.filter.length===1,"Popup operations only handle one event");const e=ny();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ms.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MN.get())};e()}}ms.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="pendingRedirect",Lh=new Map;class UN extends lS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Lh.get(this.auth._key());if(!e){try{const r=await $N(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Lh.set(this.auth._key(),e)}return this.bypassAuthState||Lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $N(n,e){const t=jN(e),r=zN(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function BN(n,e){Lh.set(n._key(),e)}function zN(n){return Ni(n._redirectPersistence)}function jN(n){return Dh(FN,n.config.apiKey,n.name)}async function qN(n,e,t=!1){if(Pi(n.app))return Promise.reject(_s(n));const r=Vd(n),o=aS(r,e),u=await new UN(r,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=10*60*1e3;class WN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!uS(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Mr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HN&&this.cachedEventUids.clear(),this.cachedEventUids.has(aE(e))}saveEventToCache(e){this.cachedEventUids.add(aE(e)),this.lastProcessedEventTime=Date.now()}}function aE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function uS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function KN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(n,e={}){return Za(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YN=/^https?/;async function XN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await GN(n);for(const t of e)try{if(JN(t))return}catch{}li(n,"unauthorized-domain")}function JN(n){const e=Km(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!YN.test(t))return!1;if(QN.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=new xu(3e4,6e4);function lE(){const n=ri().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function eO(n){return new Promise((e,t)=>{var r,o,a;function u(){lE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lE(),t(Mr(n,"network-request-failed"))},timeout:ZN.get()})}if(!((o=(r=ri().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=ri().gapi)===null||a===void 0)&&a.load)u();else{const h=sN("iframefcb");return ri()[h]=()=>{gapi.load?u():t(Mr(n,"network-request-failed"))},iN(`${oN()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw Vh=null,e})}let Vh=null;function tO(n){return Vh=Vh||eO(n),Vh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO=new xu(5e3,15e3),rO="__/auth/iframe",iO="emulator/auth/iframe",oO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aO(n){const e=n.config;Ue(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Yg(e,iO):`https://${n.config.authDomain}/${rO}`,r={apiKey:e.apiKey,appName:n.name,v:Ja},o=sO.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Ou(r).slice(1)}`}async function lO(n){const e=await tO(n),t=ri().gapi;return Ue(t,n,"internal-error"),e.open({where:document.body,url:aO(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oO,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const u=Mr(n,"network-request-failed"),h=ri().setTimeout(()=>{a(u)},nO.get());function f(){ri().clearTimeout(h),o(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cO=500,hO=600,dO="_blank",fO="http://localhost";class uE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pO(n,e,t,r=cO,o=hO){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},uO),{width:r.toString(),height:o.toString(),top:a,left:u}),p=Cn().toLowerCase();t&&(h=jT(p)?dO:t),BT(p)&&(e=e||fO,f.scrollbars="yes");const v=Object.entries(f).reduce((T,[I,S])=>`${T}${I}=${S},`,"");if(Yk(p)&&h!=="_self")return mO(e||"",h),new uE(null);const E=window.open(e||"",h,v);Ue(E,n,"popup-blocked");try{E.focus()}catch{}return new uE(E)}function mO(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="__/auth/handler",yO="emulator/auth/handler",vO=encodeURIComponent("fac");async function cE(n,e,t,r,o,a){Ue(n.config.authDomain,n,"auth-domain-config-required"),Ue(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ja,eventId:o};if(e instanceof ty){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",wb(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))u[v]=E}if(e instanceof Du){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const f=await n._getAppCheckToken(),p=f?`#${vO}=${encodeURIComponent(f)}`:"";return`${_O(n)}?${Ou(h).slice(1)}${p}`}function _O({config:n}){return n.emulator?Yg(n,yO):`https://${n.authDomain}/${gO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="webStorageSupport";class EO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nS,this._completeRedirectFn=qN,this._overrideRedirectResult=BN}async _openPopup(e,t,r,o){var a;Vi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await cE(e,t,r,Km(),o);return pO(e,u,ny())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await cE(e,t,r,Km(),o);return RN(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(Vi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await lO(e),r=new WN(e);return t.register("authEvent",o=>(Ue(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(gm,{type:gm},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[gm];u!==void 0&&t(!!u),li(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=XN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return GT()||zT()||Zg()}}const wO=EO;var hE="@firebase/auth",dE="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RO(n){Oa(new ws("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ue(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QT(n)},p=new nN(r,o,a,f);return lN(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Oa(new ws("auth-internal",e=>{const t=Vd(e.getProvider("auth").getImmediate());return(r=>new TO(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Co(hE,dE,SO(n)),Co(hE,dE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=5*60,AO=AT("authIdTokenMaxAge")||IO;let fE=null;const CO=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>AO)return;const o=t==null?void 0:t.token;fE!==o&&(fE=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function PO(n=kT()){const e=Wg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=aN(n,{popupRedirectResolver:wO,persistence:[xN,wN,nS]}),r=AT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=CO(a.toString());yN(t,u,()=>u(t.currentUser)),gN(t,h=>u(h))}}const o=RT("auth");return o&&uN(t,`http://${o}`),t}function bO(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}rN({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=Mr("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",bO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RO("Browser");var cS={};function kO(n){const e=new Error(n);if(e.stack===void 0)try{throw e}catch{}return e}var NO=kO,Ke=NO;function OO(n){return!!n&&typeof n.then=="function"}var Tt=OO;function xO(n,e){if(n!=null)return n;throw Ke(e??"Got unexpected null or undefined")}var At=xO;function He(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}class Ud{getValue(){throw Ke("BaseLoadable")}toPromise(){throw Ke("BaseLoadable")}valueMaybe(){throw Ke("BaseLoadable")}valueOrThrow(){throw Ke(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw Ke("BaseLoadable")}promiseOrThrow(){throw Ke(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw Ke("BaseLoadable")}errorOrThrow(){throw Ke(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw Ke("BaseLoadable")}}class DO extends Ud{constructor(e){super(),He(this,"state","hasValue"),He(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const t=e(this.contents);return Tt(t)?Ss(t):Da(t)?t:Vu(t)}catch(t){return Tt(t)?Ss(t.next(()=>this.map(e))):$d(t)}}}class LO extends Ud{constructor(e){super(),He(this,"state","hasError"),He(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class hS extends Ud{constructor(e){super(),He(this,"state","loading"),He(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return Ss(this.contents.then(t=>{const r=e(t);if(Da(r)){const o=r;switch(o.state){case"hasValue":return o.contents;case"hasError":throw o.contents;case"loading":return o.contents}}return r}).catch(t=>{if(Tt(t))return t.then(()=>this.map(e).contents);throw t}))}}function Vu(n){return Object.freeze(new DO(n))}function $d(n){return Object.freeze(new LO(n))}function Ss(n){return Object.freeze(new hS(n))}function dS(){return Object.freeze(new hS(new Promise(()=>{})))}function VO(n){return n.every(e=>e.state==="hasValue")?Vu(n.map(e=>e.contents)):n.some(e=>e.state==="hasError")?$d(At(n.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):Ss(Promise.all(n.map(e=>e.contents)))}function fS(n){const t=(Array.isArray(n)?n:Object.getOwnPropertyNames(n).map(o=>n[o])).map(o=>Da(o)?o:Tt(o)?Ss(o):Vu(o)),r=VO(t);return Array.isArray(n)?r:r.map(o=>Object.getOwnPropertyNames(n).reduce((a,u,h)=>({...a,[u]:o[h]}),{}))}function Da(n){return n instanceof Ud}const MO={of:n=>Tt(n)?Ss(n):Da(n)?n:Vu(n),error:n=>$d(n),loading:()=>dS(),all:fS,isLoadable:Da};var As={loadableWithValue:Vu,loadableWithError:$d,loadableWithPromise:Ss,loadableLoading:dS,loadableAll:fS,isLoadable:Da,RecoilLoadable:MO},FO=As.loadableWithValue,UO=As.loadableWithError,$O=As.loadableWithPromise,BO=As.loadableLoading,zO=As.loadableAll,jO=As.isLoadable,qO=As.RecoilLoadable,Mu=Object.freeze({__proto__:null,loadableWithValue:FO,loadableWithError:UO,loadableWithPromise:$O,loadableLoading:BO,loadableAll:zO,isLoadable:jO,RecoilLoadable:qO});const Ym={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function HO(n,e){var t,r;const o=(t=cS[n])===null||t===void 0||(r=t.toLowerCase())===null||r===void 0?void 0:r.trim();if(o==null||o==="")return;if(!["true","false"].includes(o))throw Ke(`process.env.${n} value must be 'true', 'false', or empty: ${o}`);e(o==="true")}function WO(n,e){var t;const r=(t=cS[n])===null||t===void 0?void 0:t.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function KO(){var n;typeof process>"u"||((n=process)===null||n===void 0?void 0:n.env)!=null&&(HO("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{Ym.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),WO("RECOIL_GKS_ENABLED",e=>{e.forEach(t=>{Ym.RECOIL_GKS_ENABLED.add(t)})}))}KO();var el=Ym;function Bd(n){return el.RECOIL_GKS_ENABLED.has(n)}Bd.setPass=n=>{el.RECOIL_GKS_ENABLED.add(n)};Bd.setFail=n=>{el.RECOIL_GKS_ENABLED.delete(n)};Bd.clear=()=>{el.RECOIL_GKS_ENABLED.clear()};var gt=Bd;function GO(n,e,{error:t}={}){return null}var QO=GO,iy=QO,ym,vm,_m;const YO=(ym=Me.createMutableSource)!==null&&ym!==void 0?ym:Me.unstable_createMutableSource,pS=(vm=Me.useMutableSource)!==null&&vm!==void 0?vm:Me.unstable_useMutableSource,mS=(_m=Me.useSyncExternalStore)!==null&&_m!==void 0?_m:Me.unstable_useSyncExternalStore;function XO(){var n;const{ReactCurrentDispatcher:e,ReactCurrentOwner:t}=Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((n=e==null?void 0:e.current)!==null&&n!==void 0?n:t.currentDispatcher).useSyncExternalStore!=null}function JO(){return gt("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:gt("recoil_sync_external_store")&&mS!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:gt("recoil_mutable_source")&&pS!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?gt("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:gt("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function ZO(){return!1}var Fu={createMutableSource:YO,useMutableSource:pS,useSyncExternalStore:mS,currentRendererSupportsUseSyncExternalStore:XO,reactMode:JO,isFastRefreshEnabled:ZO};class oy{constructor(e){He(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class gS extends oy{}class yS extends oy{}function ex(n){return n instanceof gS||n instanceof yS}var zd={AbstractRecoilValue:oy,RecoilState:gS,RecoilValueReadOnly:yS,isRecoilValue:ex},tx=zd.AbstractRecoilValue,nx=zd.RecoilState,rx=zd.RecoilValueReadOnly,ix=zd.isRecoilValue,La=Object.freeze({__proto__:null,AbstractRecoilValue:tx,RecoilState:nx,RecoilValueReadOnly:rx,isRecoilValue:ix});function ox(n,e){return function*(){let t=0;for(const r of n)yield e(r,t++)}()}var jd=ox;class vS{}const sx=new vS,Rs=new Map,sy=new Map;function ax(n){return jd(n,e=>At(sy.get(e)))}function lx(n){if(Rs.has(n)){const e=`Duplicate atom key "${n}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function ux(n){el.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&lx(n.key),Rs.set(n.key,n);const e=n.set==null?new La.RecoilValueReadOnly(n.key):new La.RecoilState(n.key);return sy.set(n.key,e),e}class _S extends Error{}function cx(n){const e=Rs.get(n);if(e==null)throw new _S(`Missing definition for RecoilValue: "${n}""`);return e}function hx(n){return Rs.get(n)}const id=new Map;function dx(n){var e;if(!gt("recoil_memory_managament_2020"))return;const t=Rs.get(n);if(t!=null&&(e=t.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(t)){var r;Rs.delete(n),(r=ES(n))===null||r===void 0||r(),id.delete(n)}}function fx(n,e){gt("recoil_memory_managament_2020")&&(e===void 0?id.delete(n):id.set(n,e))}function ES(n){return id.get(n)}var Kn={nodes:Rs,recoilValues:sy,registerNode:ux,getNode:cx,getNodeMaybe:hx,deleteNodeConfigIfPossible:dx,setConfigDeletionHandler:fx,getConfigDeletionHandler:ES,recoilValuesForKeys:ax,NodeMissingError:_S,DefaultValue:vS,DEFAULT_VALUE:sx};function px(n,e){e()}var mx={enqueueExecution:px};function gx(n,e){return e={exports:{}},n(e,e.exports),e.exports}var yx=gx(function(n){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},t={},r=5,o=Math.pow(2,r),a=o-1,u=o/2,h=o/4,f={},p=function(z){return function(){return z}},v=t.hash=function(W){var z=typeof W>"u"?"undefined":e(W);if(z==="number")return W;z!=="string"&&(W+="");for(var ae=0,pe=0,me=W.length;pe<me;++pe){var _e=W.charCodeAt(pe);ae=(ae<<5)-ae+_e|0}return ae},E=function(z){return z-=z>>1&1431655765,z=(z&858993459)+(z>>2&858993459),z=z+(z>>4)&252645135,z+=z>>8,z+=z>>16,z&127},T=function(z,ae){return ae>>>z&a},I=function(z){return 1<<z},S=function(z,ae){return E(z&ae-1)},C=function(z,ae,pe,me){var _e=me;if(!z){var Pe=me.length;_e=new Array(Pe);for(var ke=0;ke<Pe;++ke)_e[ke]=me[ke]}return _e[ae]=pe,_e},D=function(z,ae,pe){var me=pe.length-1,_e=0,Pe=0,ke=pe;if(z)_e=Pe=ae;else for(ke=new Array(me);_e<ae;)ke[Pe++]=pe[_e++];for(++_e;_e<=me;)ke[Pe++]=pe[_e++];return z&&(ke.length=me),ke},$=function(z,ae,pe,me){var _e=me.length;if(z){for(var Pe=_e;Pe>=ae;)me[Pe--]=me[Pe];return me[ae]=pe,me}for(var ke=0,Oe=0,Le=new Array(_e+1);ke<ae;)Le[Oe++]=me[ke++];for(Le[ae]=pe;ke<_e;)Le[++Oe]=me[ke++];return Le},F=1,j=2,ie=3,Q=4,ee={__hamt_isEmpty:!0},b=function(z){return z===ee||z&&z.__hamt_isEmpty},A=function(z,ae,pe,me){return{type:F,edit:z,hash:ae,key:pe,value:me,_modify:ue}},k=function(z,ae,pe){return{type:j,edit:z,hash:ae,children:pe,_modify:Te}},x=function(z,ae,pe){return{type:ie,edit:z,mask:ae,children:pe,_modify:re}},M=function(z,ae,pe){return{type:Q,edit:z,size:ae,children:pe,_modify:V}},B=function(z){return z===ee||z.type===F||z.type===j},P=function(z,ae,pe,me,_e){for(var Pe=[],ke=me,Oe=0,Le=0;ke;++Le)ke&1&&(Pe[Le]=_e[Oe++]),ke>>>=1;return Pe[ae]=pe,M(z,Oe+1,Pe)},Be=function(z,ae,pe,me){for(var _e=new Array(ae-1),Pe=0,ke=0,Oe=0,Le=me.length;Oe<Le;++Oe)if(Oe!==pe){var ut=me[Oe];ut&&!b(ut)&&(_e[Pe++]=ut,ke|=1<<Oe)}return x(z,ke,_e)},st=function W(z,ae,pe,me,_e,Pe){if(pe===_e)return k(z,pe,[Pe,me]);var ke=T(ae,pe),Oe=T(ae,_e);return x(z,I(ke)|I(Oe),ke===Oe?[W(z,ae+r,pe,me,_e,Pe)]:ke<Oe?[me,Pe]:[Pe,me])},We=function(z,ae,pe,me,_e,Pe,ke,Oe){for(var Le=_e.length,ut=0;ut<Le;++ut){var Nt=_e[ut];if(pe(ke,Nt.key)){var St=Nt.value,Ot=Pe(St);return Ot===St?_e:Ot===f?(--Oe.value,D(z,ut,_e)):C(z,ut,A(ae,me,ke,Ot),_e)}}var an=Pe();return an===f?_e:(++Oe.value,C(z,Le,A(ae,me,ke,an),_e))},ze=function(z,ae){return z===ae.edit},ue=function(z,ae,pe,me,_e,Pe,ke){if(ae(Pe,this.key)){var Oe=me(this.value);return Oe===this.value?this:Oe===f?(--ke.value,ee):ze(z,this)?(this.value=Oe,this):A(z,_e,Pe,Oe)}var Le=me();return Le===f?this:(++ke.value,st(z,pe,this.hash,this,_e,A(z,_e,Pe,Le)))},Te=function(z,ae,pe,me,_e,Pe,ke){if(_e===this.hash){var Oe=ze(z,this),Le=We(Oe,z,ae,this.hash,this.children,me,Pe,ke);return Le===this.children?this:Le.length>1?k(z,this.hash,Le):Le[0]}var ut=me();return ut===f?this:(++ke.value,st(z,pe,this.hash,this,_e,A(z,_e,Pe,ut)))},re=function(z,ae,pe,me,_e,Pe,ke){var Oe=this.mask,Le=this.children,ut=T(pe,_e),Nt=I(ut),St=S(Oe,Nt),Ot=Oe&Nt,an=Ot?Le[St]:ee,pt=an._modify(z,ae,pe+r,me,_e,Pe,ke);if(an===pt)return this;var Er=ze(z,this),ln=Oe,Qn=void 0;if(Ot&&b(pt)){if(ln&=~Nt,!ln)return ee;if(Le.length<=2&&B(Le[St^1]))return Le[St^1];Qn=D(Er,St,Le)}else if(!Ot&&!b(pt)){if(Le.length>=u)return P(z,ut,pt,Oe,Le);ln|=Nt,Qn=$(Er,St,pt,Le)}else Qn=C(Er,St,pt,Le);return Er?(this.mask=ln,this.children=Qn,this):x(z,ln,Qn)},V=function(z,ae,pe,me,_e,Pe,ke){var Oe=this.size,Le=this.children,ut=T(pe,_e),Nt=Le[ut],St=(Nt||ee)._modify(z,ae,pe+r,me,_e,Pe,ke);if(Nt===St)return this;var Ot=ze(z,this),an=void 0;if(b(Nt)&&!b(St))++Oe,an=C(Ot,ut,St,Le);else if(!b(Nt)&&b(St)){if(--Oe,Oe<=h)return Be(z,Oe,ut,Le);an=C(Ot,ut,ee,Le)}else an=C(Ot,ut,St,Le);return Ot?(this.size=Oe,this.children=an,this):M(z,Oe,an)};ee._modify=function(W,z,ae,pe,me,_e,Pe){var ke=pe();return ke===f?ee:(++Pe.value,A(W,me,_e,ke))};function N(W,z,ae,pe,me){this._editable=W,this._edit=z,this._config=ae,this._root=pe,this._size=me}N.prototype.setTree=function(W,z){return this._editable?(this._root=W,this._size=z,this):W===this._root?this:new N(this._editable,this._edit,this._config,W,z)};var J=t.tryGetHash=function(W,z,ae,pe){for(var me=pe._root,_e=0,Pe=pe._config.keyEq;;)switch(me.type){case F:return Pe(ae,me.key)?me.value:W;case j:{if(z===me.hash)for(var ke=me.children,Oe=0,Le=ke.length;Oe<Le;++Oe){var ut=ke[Oe];if(Pe(ae,ut.key))return ut.value}return W}case ie:{var Nt=T(_e,z),St=I(Nt);if(me.mask&St){me=me.children[S(me.mask,St)],_e+=r;break}return W}case Q:{if(me=me.children[T(_e,z)],me){_e+=r;break}return W}default:return W}};N.prototype.tryGetHash=function(W,z,ae){return J(W,z,ae,this)};var te=t.tryGet=function(W,z,ae){return J(W,ae._config.hash(z),z,ae)};N.prototype.tryGet=function(W,z){return te(W,z,this)};var fe=t.getHash=function(W,z,ae){return J(void 0,W,z,ae)};N.prototype.getHash=function(W,z){return fe(W,z,this)},t.get=function(W,z){return J(void 0,z._config.hash(W),W,z)},N.prototype.get=function(W,z){return te(z,W,this)};var ce=t.has=function(W,z,ae){return J(f,W,z,ae)!==f};N.prototype.hasHash=function(W,z){return ce(W,z,this)};var Se=t.has=function(W,z){return ce(z._config.hash(W),W,z)};N.prototype.has=function(W){return Se(W,this)};var we=function(z,ae){return z===ae};t.make=function(W){return new N(0,0,{keyEq:W&&W.keyEq||we,hash:W&&W.hash||v},ee,0)},t.empty=t.make();var ge=t.isEmpty=function(W){return W&&!!b(W._root)};N.prototype.isEmpty=function(){return ge(this)};var qe=t.modifyHash=function(W,z,ae,pe){var me={value:pe._size},_e=pe._root._modify(pe._editable?pe._edit:NaN,pe._config.keyEq,0,W,z,ae,me);return pe.setTree(_e,me.value)};N.prototype.modifyHash=function(W,z,ae){return qe(ae,W,z,this)};var dt=t.modify=function(W,z,ae){return qe(W,ae._config.hash(z),z,ae)};N.prototype.modify=function(W,z){return dt(z,W,this)};var Je=t.setHash=function(W,z,ae,pe){return qe(p(ae),W,z,pe)};N.prototype.setHash=function(W,z,ae){return Je(W,z,ae,this)};var it=t.set=function(W,z,ae){return Je(ae._config.hash(W),W,z,ae)};N.prototype.set=function(W,z){return it(W,z,this)};var Wt=p(f),On=t.removeHash=function(W,z,ae){return qe(Wt,W,z,ae)};N.prototype.removeHash=N.prototype.deleteHash=function(W,z){return On(W,z,this)};var en=t.remove=function(W,z){return On(z._config.hash(W),W,z)};N.prototype.remove=N.prototype.delete=function(W){return en(W,this)};var Kt=t.beginMutation=function(W){return new N(W._editable+1,W._edit+1,W._config,W._root,W._size)};N.prototype.beginMutation=function(){return Kt(this)};var Bo=t.endMutation=function(W){return W._editable=W._editable&&W._editable-1,W};N.prototype.endMutation=function(){return Bo(this)};var ji=t.mutate=function(W,z){var ae=Kt(z);return W(ae),Bo(ae)};N.prototype.mutate=function(W){return ji(W,this)};var Gn=function(z){return z&&ar(z[0],z[1],z[2],z[3],z[4])},ar=function(z,ae,pe,me,_e){for(;pe<z;){var Pe=ae[pe++];if(Pe&&!b(Pe))return qi(Pe,me,[z,ae,pe,me,_e])}return Gn(_e)},qi=function(z,ae,pe){switch(z.type){case F:return{value:ae(z),rest:pe};case j:case Q:case ie:var me=z.children;return ar(me.length,me,0,ae,pe);default:return Gn(pe)}},Hi={done:!0};function zr(W){this.v=W}zr.prototype.next=function(){if(!this.v)return Hi;var W=this.v;return this.v=Gn(W.rest),W},zr.prototype[Symbol.iterator]=function(){return this};var di=function(z,ae){return new zr(qi(z._root,ae))},Lt=function(z){return[z.key,z.value]},Vt=t.entries=function(W){return di(W,Lt)};N.prototype.entries=N.prototype[Symbol.iterator]=function(){return Vt(this)};var _r=function(z){return z.key},zo=t.keys=function(W){return di(W,_r)};N.prototype.keys=function(){return zo(this)};var jr=function(z){return z.value},fi=t.values=N.prototype.values=function(W){return di(W,jr)};N.prototype.values=function(){return fi(this)};var qr=t.fold=function(W,z,ae){var pe=ae._root;if(pe.type===F)return W(z,pe.value,pe.key);for(var me=[pe.children],_e=void 0;_e=me.pop();)for(var Pe=0,ke=_e.length;Pe<ke;){var Oe=_e[Pe++];Oe&&Oe.type&&(Oe.type===F?z=W(z,Oe.value,Oe.key):me.push(Oe.children))}return z};N.prototype.fold=function(W,z){return qr(W,z,this)};var jo=t.forEach=function(W,z){return qr(function(ae,pe,me){return W(pe,me,z)},null,z)};N.prototype.forEach=function(W){return jo(W,this)};var qo=t.count=function(W){return W._size};N.prototype.count=function(){return qo(this)},Object.defineProperty(N.prototype,"size",{get:N.prototype.count}),n.exports?n.exports=t:(void 0).hamt=t});class vx{constructor(e){He(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,t){return this._map.set(e,t),this}delete(e){return this._map.delete(e),this}clone(){return ly(this)}toMap(){return new Map(this._map)}}class ay{constructor(e){if(He(this,"_hamt",yx.empty.beginMutation()),e instanceof ay){const t=e._hamt.endMutation();e._hamt=t.beginMutation(),this._hamt=t.beginMutation()}else if(e)for(const[t,r]of e.entries())this._hamt.set(t,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,t){return this._hamt.set(e,t),this}delete(e){return this._hamt.delete(e),this}clone(){return ly(this)}toMap(){return new Map(this._hamt)}}function ly(n){return gt("recoil_hamt_2020")?new ay(n):new vx(n)}var _x={persistentMap:ly},Ex=_x.persistentMap,wx=Object.freeze({__proto__:null,persistentMap:Ex});function Tx(n,...e){const t=new Set;e:for(const r of n){for(const o of e)if(o.has(r))continue e;t.add(r)}return t}var su=Tx;function Sx(n,e){const t=new Map;return n.forEach((r,o)=>{t.set(o,e(r,o))}),t}var od=Sx;function Rx(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function Ix(n){return{nodeDeps:od(n.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:od(n.nodeToNodeSubscriptions,e=>new Set(e))}}function Em(n,e,t,r){const{nodeDeps:o,nodeToNodeSubscriptions:a}=t,u=o.get(n);if(u&&r&&u!==r.nodeDeps.get(n))return;o.set(n,e);const h=u==null?e:su(e,u);for(const f of h)a.has(f)||a.set(f,new Set),At(a.get(f)).add(n);if(u){const f=su(u,e);for(const p of f){if(!a.has(p))return;const v=At(a.get(p));v.delete(n),v.size===0&&a.delete(p)}}}function Ax(n,e,t,r){var o,a,u,h;const f=t.getState();r===f.currentTree.version||r===((o=f.nextTree)===null||o===void 0?void 0:o.version)||((a=f.previousTree)===null||a===void 0||a.version);const p=t.getGraph(r);if(Em(n,e,p),r===((u=f.previousTree)===null||u===void 0?void 0:u.version)){const E=t.getGraph(f.currentTree.version);Em(n,e,E,p)}if(r===((h=f.previousTree)===null||h===void 0?void 0:h.version)||r===f.currentTree.version){var v;const E=(v=f.nextTree)===null||v===void 0?void 0:v.version;if(E!==void 0){const T=t.getGraph(E);Em(n,e,T,p)}}}var Uu={cloneGraph:Ix,graph:Rx,saveDepsToStore:Ax};let Cx=0;const Px=()=>Cx++;let bx=0;const kx=()=>bx++;let Nx=0;const Ox=()=>Nx++;var qd={getNextTreeStateVersion:Px,getNextStoreID:kx,getNextComponentID:Ox};const{persistentMap:pE}=wx,{graph:xx}=Uu,{getNextTreeStateVersion:wS}=qd;function TS(){const n=wS();return{version:n,stateID:n,transactionMetadata:{},dirtyAtoms:new Set,atomValues:pE(),nonvalidatedAtoms:pE()}}function Dx(){const n=TS();return{currentTree:n,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(n.version,xx()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var SS={makeEmptyTreeState:TS,makeEmptyStoreState:Dx,getNextTreeStateVersion:wS};class RS{}function Lx(){return new RS}var Hd={RetentionZone:RS,retentionZone:Lx};function Vx(n,e){const t=new Set(n);return t.add(e),t}function Mx(n,e){const t=new Set(n);return t.delete(e),t}function Fx(n,e,t){const r=new Map(n);return r.set(e,t),r}function Ux(n,e,t){const r=new Map(n);return r.set(e,t(r.get(e))),r}function $x(n,e){const t=new Map(n);return t.delete(e),t}function Bx(n,e){const t=new Map(n);return e.forEach(r=>t.delete(r)),t}var IS={setByAddingToSet:Vx,setByDeletingFromSet:Mx,mapBySettingInMap:Fx,mapByUpdatingInMap:Ux,mapByDeletingFromMap:$x,mapByDeletingMultipleFromMap:Bx};function*zx(n,e){let t=0;for(const r of n)e(r,t++)&&(yield r)}var uy=zx;function jx(n,e){return new Proxy(n,{get:(r,o)=>(!(o in r)&&o in e&&(r[o]=e[o]()),r[o]),ownKeys:r=>Object.keys(r)})}var AS=jx;const{getNode:$u,getNodeMaybe:qx,recoilValuesForKeys:mE}=Kn,{RetentionZone:gE}=Hd,{setByAddingToSet:Hx}=IS,Wx=Object.freeze(new Set);class Kx extends Error{}function Gx(n,e,t){if(!gt("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=n.getState().retention;function o(a){let u=r.get(a);u||r.set(a,u=new Set),u.add(e)}if(t instanceof gE)o(t);else if(Array.isArray(t))for(const a of t)o(a);return()=>{if(!gt("recoil_memory_managament_2020"))return;const{retention:a}=n.getState();function u(h){const f=a.nodesRetainedByZone.get(h);f==null||f.delete(e),f&&f.size===0&&a.nodesRetainedByZone.delete(h)}if(t instanceof gE)u(t);else if(Array.isArray(t))for(const h of t)u(h)}}function cy(n,e,t,r){const o=n.getState();if(o.nodeCleanupFunctions.has(t))return;const a=$u(t),u=Gx(n,t,a.retainedBy),h=a.init(n,e,r);o.nodeCleanupFunctions.set(t,()=>{h(),u()})}function Qx(n,e,t){cy(n,n.getState().currentTree,e,t)}function Yx(n,e){var t;const r=n.getState();(t=r.nodeCleanupFunctions.get(e))===null||t===void 0||t(),r.nodeCleanupFunctions.delete(e)}function Xx(n,e,t){return cy(n,e,t,"get"),$u(t).get(n,e)}function CS(n,e,t){return $u(t).peek(n,e)}function Jx(n,e,t){var r;const o=qx(e);return o==null||(r=o.invalidate)===null||r===void 0||r.call(o,n),{...n,atomValues:n.atomValues.clone().delete(e),nonvalidatedAtoms:n.nonvalidatedAtoms.clone().set(e,t),dirtyAtoms:Hx(n.dirtyAtoms,e)}}function Zx(n,e,t,r){const o=$u(t);if(o.set==null)throw new Kx(`Attempt to set read-only RecoilValue: ${t}`);const a=o.set;return cy(n,e,t,"set"),a(n,e,r)}function eD(n,e,t){const r=n.getState(),o=n.getGraph(e.version),a=$u(t).nodeType;return AS({type:a},{loadable:()=>CS(n,e,t),isActive:()=>r.knownAtoms.has(t)||r.knownSelectors.has(t),isSet:()=>a==="selector"?!1:e.atomValues.has(t),isModified:()=>e.dirtyAtoms.has(t),deps:()=>{var u;return mE((u=o.nodeDeps.get(t))!==null&&u!==void 0?u:[])},subscribers:()=>{var u,h;return{nodes:mE(uy(PS(n,e,new Set([t])),f=>f!==t)),components:jd((u=(h=r.nodeToComponentSubscriptions.get(t))===null||h===void 0?void 0:h.values())!==null&&u!==void 0?u:[],([f])=>({name:f}))}}})}function PS(n,e,t){const r=new Set,o=Array.from(t),a=n.getGraph(e.version);for(let h=o.pop();h;h=o.pop()){var u;r.add(h);const f=(u=a.nodeToNodeSubscriptions.get(h))!==null&&u!==void 0?u:Wx;for(const p of f)r.has(p)||o.push(p)}return r}var Vo={getNodeLoadable:Xx,peekNodeLoadable:CS,setNodeValue:Zx,initializeNode:Qx,cleanUpNode:Yx,setUnvalidatedAtomValue_DEPRECATED:Jx,peekNodeInfo:eD,getDownstreamNodes:PS};let bS=null;function tD(n){bS=n}function nD(){var n;(n=bS)===null||n===void 0||n()}var kS={setInvalidateMemoizedSnapshot:tD,invalidateMemoizedSnapshot:nD};const{getDownstreamNodes:rD,getNodeLoadable:NS,setNodeValue:iD}=Vo,{getNextComponentID:oD}=qd,{getNode:sD,getNodeMaybe:OS}=Kn,{DefaultValue:hy}=Kn,{reactMode:aD}=Fu,{AbstractRecoilValue:lD,RecoilState:uD,RecoilValueReadOnly:cD,isRecoilValue:hD}=La,{invalidateMemoizedSnapshot:dD}=kS;function fD(n,{key:e},t=n.getState().currentTree){var r,o;const a=n.getState();t.version===a.currentTree.version||t.version===((r=a.nextTree)===null||r===void 0?void 0:r.version)||(t.version,(o=a.previousTree)===null||o===void 0||o.version);const u=NS(n,t,e);return u.state==="loading"&&u.contents.catch(()=>{}),u}function pD(n,e){const t=n.clone();return e.forEach((r,o)=>{r.state==="hasValue"&&r.contents instanceof hy?t.delete(o):t.set(o,r)}),t}function mD(n,e,{key:t},r){if(typeof r=="function"){const o=NS(n,e,t);if(o.state==="loading"){const a=`Tried to set atom or selector "${t}" using an updater function while the current state is pending, this is not currently supported.`;throw Ke(a)}else if(o.state==="hasError")throw o.contents;return r(o.contents)}else return r}function gD(n,e,t){if(t.type==="set"){const{recoilValue:o,valueOrUpdater:a}=t,u=mD(n,e,o,a),h=iD(n,e,o.key,u);for(const[f,p]of h.entries())Xm(e,f,p)}else if(t.type==="setLoadable"){const{recoilValue:{key:o},loadable:a}=t;Xm(e,o,a)}else if(t.type==="markModified"){const{recoilValue:{key:o}}=t;e.dirtyAtoms.add(o)}else if(t.type==="setUnvalidated"){var r;const{recoilValue:{key:o},unvalidatedValue:a}=t,u=OS(o);u==null||(r=u.invalidate)===null||r===void 0||r.call(u,e),e.atomValues.delete(o),e.nonvalidatedAtoms.set(o,a),e.dirtyAtoms.add(o)}else iy(`Unknown action ${t.type}`)}function Xm(n,e,t){t.state==="hasValue"&&t.contents instanceof hy?n.atomValues.delete(e):n.atomValues.set(e,t),n.dirtyAtoms.add(e),n.nonvalidatedAtoms.delete(e)}function xS(n,e){n.replaceState(t=>{const r=DS(t);for(const o of e)gD(n,r,o);return LS(n,r),dD(),r})}function Wd(n,e){if(au.length){const t=au[au.length-1];let r=t.get(n);r||t.set(n,r=[]),r.push(e)}else xS(n,[e])}const au=[];function yD(){const n=new Map;return au.push(n),()=>{for(const[e,t]of n)xS(e,t);au.pop()}}function DS(n){return{...n,atomValues:n.atomValues.clone(),nonvalidatedAtoms:n.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(n.dirtyAtoms)}}function LS(n,e){const t=rD(n,e,e.dirtyAtoms);for(const a of t){var r,o;(r=OS(a))===null||r===void 0||(o=r.invalidate)===null||o===void 0||o.call(r,e)}}function VS(n,e,t){Wd(n,{type:"set",recoilValue:e,valueOrUpdater:t})}function vD(n,e,t){if(t instanceof hy)return VS(n,e,t);Wd(n,{type:"setLoadable",recoilValue:e,loadable:t})}function _D(n,e){Wd(n,{type:"markModified",recoilValue:e})}function ED(n,e,t){Wd(n,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:t})}function wD(n,{key:e},t,r=null){const o=oD(),a=n.getState();a.nodeToComponentSubscriptions.has(e)||a.nodeToComponentSubscriptions.set(e,new Map),At(a.nodeToComponentSubscriptions.get(e)).set(o,[r??"<not captured>",t]);const u=aD();if(u.early&&(u.mode==="LEGACY"||u.mode==="MUTABLE_SOURCE")){const h=n.getState().nextTree;h&&h.dirtyAtoms.has(e)&&t(h)}return{release:()=>{const h=n.getState(),f=h.nodeToComponentSubscriptions.get(e);f===void 0||!f.has(o)||(f.delete(o),f.size===0&&h.nodeToComponentSubscriptions.delete(e))}}}function TD(n,e){var t;const{currentTree:r}=n.getState(),o=sD(e.key);(t=o.clearCache)===null||t===void 0||t.call(o,n,r)}var ci={RecoilValueReadOnly:cD,AbstractRecoilValue:lD,RecoilState:uD,getRecoilValueAsLoadable:fD,setRecoilValue:VS,setRecoilValueLoadable:vD,markRecoilValueModified:_D,setUnvalidatedRecoilValue:ED,subscribeToRecoilValue:wD,isRecoilValue:hD,applyAtomValueWrites:pD,batchStart:yD,writeLoadableToTreeState:Xm,invalidateDownstreams:LS,copyTreeState:DS,refreshRecoilValue:TD};function SD(n,e,t){const r=n.entries();let o=r.next();for(;!o.done;){const a=o.value;if(e.call(t,a[1],a[0],n))return!0;o=r.next()}return!1}var RD=SD;const{cleanUpNode:ID}=Vo,{deleteNodeConfigIfPossible:AD,getNode:MS}=Kn,{RetentionZone:FS}=Hd,CD=12e4,US=new Set;function $S(n,e){const t=n.getState(),r=t.currentTree;if(t.nextTree)return;const o=new Set;for(const u of e)if(u instanceof FS)for(const h of ND(t,u))o.add(h);else o.add(u);const a=PD(n,o);for(const u of a)kD(n,r,u)}function PD(n,e){const t=n.getState(),r=t.currentTree,o=n.getGraph(r.version),a=new Set,u=new Set;return h(e),a;function h(f){const p=new Set,v=bD(n,r,f,a,u);for(const S of v){var E;if(MS(S).retainedBy==="recoilRoot"){u.add(S);continue}if(((E=t.retention.referenceCounts.get(S))!==null&&E!==void 0?E:0)>0){u.add(S);continue}if(BS(S).some(D=>t.retention.referenceCounts.get(D))){u.add(S);continue}const C=o.nodeToNodeSubscriptions.get(S);if(C&&RD(C,D=>u.has(D))){u.add(S);continue}a.add(S),p.add(S)}const T=new Set;for(const S of p)for(const C of(I=o.nodeDeps.get(S))!==null&&I!==void 0?I:US){var I;a.has(C)||T.add(C)}T.size&&h(T)}}function bD(n,e,t,r,o){const a=n.getGraph(e.version),u=[],h=new Set;for(;t.size>0;)f(At(t.values().next().value));return u;function f(p){if(r.has(p)||o.has(p)){t.delete(p);return}if(h.has(p))return;const v=a.nodeToNodeSubscriptions.get(p);if(v)for(const E of v)f(E);h.add(p),t.delete(p),u.push(p)}}function kD(n,e,t){if(!gt("recoil_memory_managament_2020"))return;ID(n,t);const r=n.getState();r.knownAtoms.delete(t),r.knownSelectors.delete(t),r.nodeTransactionSubscriptions.delete(t),r.retention.referenceCounts.delete(t);const o=BS(t);for(const f of o){var a;(a=r.retention.nodesRetainedByZone.get(f))===null||a===void 0||a.delete(t)}e.atomValues.delete(t),e.dirtyAtoms.delete(t),e.nonvalidatedAtoms.delete(t);const u=r.graphsByVersion.get(e.version);if(u){const f=u.nodeDeps.get(t);if(f!==void 0){u.nodeDeps.delete(t);for(const p of f){var h;(h=u.nodeToNodeSubscriptions.get(p))===null||h===void 0||h.delete(t)}}u.nodeToNodeSubscriptions.delete(t)}AD(t)}function ND(n,e){var t;return(t=n.retention.nodesRetainedByZone.get(e))!==null&&t!==void 0?t:US}function BS(n){const e=MS(n).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof FS?[e]:e}function OD(n,e){const t=n.getState();t.nextTree?t.retention.retainablesToCheckForRelease.add(e):$S(n,new Set([e]))}function xD(n,e,t){var r;if(!gt("recoil_memory_managament_2020"))return;const o=n.getState().retention.referenceCounts,a=((r=o.get(e))!==null&&r!==void 0?r:0)+t;a===0?zS(n,e):o.set(e,a)}function zS(n,e){if(!gt("recoil_memory_managament_2020"))return;n.getState().retention.referenceCounts.delete(e),OD(n,e)}function DD(n){if(!gt("recoil_memory_managament_2020"))return;const e=n.getState();$S(n,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function LD(n){return n===void 0?"recoilRoot":n}var Cs={SUSPENSE_TIMEOUT_MS:CD,updateRetainCount:xD,updateRetainCountToZero:zS,releaseScheduledRetainablesNow:DD,retainedByOptionWithDefault:LD};const{unstable_batchedUpdates:VD}=ET;var MD={unstable_batchedUpdates:VD};const{unstable_batchedUpdates:FD}=MD;var UD={unstable_batchedUpdates:FD};const{batchStart:$D}=ci,{unstable_batchedUpdates:BD}=UD;let dy=BD||(n=>n());const zD=n=>{dy=n},jD=()=>dy,qD=n=>{dy(()=>{let e=()=>{};try{e=$D(),n()}finally{e()}})};var Kd={getBatcher:jD,setBatcher:zD,batchUpdates:qD};function*HD(n){for(const e of n)for(const t of e)yield t}var jS=HD;const qS=typeof Window>"u"||typeof window>"u",WD=n=>!qS&&(n===window||n instanceof Window),KD=typeof navigator<"u"&&navigator.product==="ReactNative";var Gd={isSSR:qS,isReactNative:KD,isWindow:WD};function GD(n,e){let t;return(...r)=>{t||(t={});const o=e(...r);return Object.hasOwnProperty.call(t,o)||(t[o]=n(...r)),t[o]}}function QD(n,e){let t,r;return(...o)=>{const a=e(...o);return t===a||(t=a,r=n(...o)),r}}function YD(n,e){let t,r;return[(...u)=>{const h=e(...u);return t===h||(t=h,r=n(...u)),r},()=>{t=null}]}var XD={memoizeWithArgsHash:GD,memoizeOneWithArgsHash:QD,memoizeOneWithArgsHashAndInvalidation:YD};const{batchUpdates:Jm}=Kd,{initializeNode:JD,peekNodeInfo:ZD}=Vo,{graph:eL}=Uu,{getNextStoreID:tL}=qd,{DEFAULT_VALUE:nL,recoilValues:yE,recoilValuesForKeys:vE}=Kn,{AbstractRecoilValue:rL,getRecoilValueAsLoadable:iL,setRecoilValue:_E,setUnvalidatedRecoilValue:oL}=ci,{updateRetainCount:Mh}=Cs,{setInvalidateMemoizedSnapshot:sL}=kS,{getNextTreeStateVersion:aL,makeEmptyStoreState:lL}=SS,{isSSR:uL}=Gd,{memoizeOneWithArgsHashAndInvalidation:cL}=XD;class Qd{constructor(e,t){He(this,"_store",void 0),He(this,"_refCount",1),He(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),iL(this._store,r))),He(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),He(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const u=this._store.getState().currentTree;return vE(u.dirtyAtoms)}const o=this._store.getState().knownAtoms,a=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?yE.values():r.isInitialized===!0?vE(jS([o,a])):uy(yE.values(),({key:u})=>!o.has(u)&&!a.has(u))}),He(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),ZD(this._store,this._store.getState().currentTree,r))),He(this,"map",r=>{this.checkRefCount_INTERNAL();const o=new Zm(this,Jm);return r(o),o}),He(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const o=new Zm(this,Jm);return o.retain(),await r(o),o.autoRelease_INTERNAL(),o}),this._store={storeID:tL(),parentStoreID:t,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const o=e.graphsByVersion;if(o.has(r))return At(o.get(r));const a=eL();return o.set(r,a),a},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw Ke("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)JD(this._store,r,"get"),Mh(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){uL||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!gt("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){gt("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function HS(n,e,t=!1){const r=n.getState(),o=t?aL():e.version;return{currentTree:{version:t?o:e.version,stateID:t?o:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(o,n.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(jd(r.nodeCleanupFunctions.entries(),([a])=>[a,()=>{}]))}}function hL(n){const e=new Qd(lL());return n!=null?e.map(n):e}const[EE,WS]=cL((n,e)=>{var t;const r=n.getState(),o=e==="latest"?(t=r.nextTree)!==null&&t!==void 0?t:r.currentTree:At(r.previousTree);return new Qd(HS(n,o),n.storeID)},(n,e)=>{var t,r;return String(e)+String(n.storeID)+String((t=n.getState().nextTree)===null||t===void 0?void 0:t.version)+String(n.getState().currentTree.version)+String((r=n.getState().previousTree)===null||r===void 0?void 0:r.version)});sL(WS);function dL(n,e="latest"){const t=EE(n,e);return t.isRetained()?t:(WS(),EE(n,e))}class Zm extends Qd{constructor(e,t){super(HS(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),He(this,"_batch",void 0),He(this,"set",(r,o)=>{this.checkRefCount_INTERNAL();const a=this.getStore_INTERNAL();this._batch(()=>{Mh(a,r.key,1),_E(this.getStore_INTERNAL(),r,o)})}),He(this,"reset",r=>{this.checkRefCount_INTERNAL();const o=this.getStore_INTERNAL();this._batch(()=>{Mh(o,r.key,1),_E(this.getStore_INTERNAL(),r,nL)})}),He(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const o=this.getStore_INTERNAL();Jm(()=>{for(const[a,u]of r.entries())Mh(o,a,1),oL(o,new rL(a),u)})}),this._batch=t}}var Yd={Snapshot:Qd,MutableSnapshot:Zm,freshSnapshot:hL,cloneSnapshot:dL},fL=Yd.Snapshot,pL=Yd.MutableSnapshot,mL=Yd.freshSnapshot,gL=Yd.cloneSnapshot,Xd=Object.freeze({__proto__:null,Snapshot:fL,MutableSnapshot:pL,freshSnapshot:mL,cloneSnapshot:gL});function yL(...n){const e=new Set;for(const t of n)for(const r of t)e.add(r);return e}var vL=yL;const{useRef:_L}=Me;function EL(n){const e=_L(n);return e.current===n&&typeof n=="function"&&(e.current=n()),e}var wE=EL;const{getNextTreeStateVersion:wL,makeEmptyStoreState:KS}=SS,{cleanUpNode:TL,getDownstreamNodes:SL,initializeNode:RL,setNodeValue:IL,setUnvalidatedAtomValue_DEPRECATED:AL}=Vo,{graph:CL}=Uu,{cloneGraph:PL}=Uu,{getNextStoreID:GS}=qd,{createMutableSource:wm,reactMode:QS}=Fu,{applyAtomValueWrites:bL}=ci,{releaseScheduledRetainablesNow:YS}=Cs,{freshSnapshot:kL}=Xd,{useCallback:NL,useContext:XS,useEffect:eg,useMemo:OL,useRef:xL,useState:DL}=Me;function Kl(){throw Ke("This component must be used inside a <RecoilRoot> component.")}const JS=Object.freeze({storeID:GS(),getState:Kl,replaceState:Kl,getGraph:Kl,subscribeToTransactions:Kl,addTransactionMetadata:Kl});let tg=!1;function TE(n){if(tg)throw Ke("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=n.getState();if(e.nextTree===null){gt("recoil_memory_managament_2020")&&gt("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&YS(n);const t=e.currentTree.version,r=wL();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,PL(At(e.graphsByVersion.get(t))))}}const ZS=Me.createContext({current:JS}),Jd=()=>XS(ZS),eR=Me.createContext(null);function LL(){return XS(eR)}function fy(n,e,t){const r=SL(n,t,t.dirtyAtoms);for(const o of r){const a=e.nodeToComponentSubscriptions.get(o);if(a)for(const[u,[h,f]]of a)f(t)}}function tR(n){const e=n.getState(),t=e.currentTree,r=t.dirtyAtoms;if(r.size){for(const[o,a]of e.nodeTransactionSubscriptions)if(r.has(o))for(const[u,h]of a)h(n);for(const[o,a]of e.transactionSubscriptions)a(n);(!QS().early||e.suspendedComponentResolvers.size>0)&&(fy(n,e,t),e.suspendedComponentResolvers.forEach(o=>o()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(o=>o(t)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function VL(n){const e=n.getState();e.commitDepth++;try{const{nextTree:t}=e;if(t==null)return;e.previousTree=e.currentTree,e.currentTree=t,e.nextTree=null,tR(n),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):iy("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,gt("recoil_memory_managament_2020")&&t==null&&YS(n)}finally{e.commitDepth--}}function ML({setNotifyBatcherOfChange:n}){const e=Jd(),[,t]=DL([]);return n(()=>t({})),eg(()=>(n(()=>t({})),()=>{n(()=>{})}),[n]),eg(()=>{mx.enqueueExecution("Batcher",()=>{VL(e.current)})}),null}function FL(n,e){const t=KS();return e({set:(r,o)=>{const a=t.currentTree,u=IL(n,a,r.key,o),h=new Set(u.keys()),f=a.nonvalidatedAtoms.clone();for(const p of h)f.delete(p);t.currentTree={...a,dirtyAtoms:vL(a.dirtyAtoms,h),atomValues:bL(a.atomValues,u),nonvalidatedAtoms:f}},setUnvalidatedAtomValues:r=>{r.forEach((o,a)=>{t.currentTree=AL(t.currentTree,a,o)})}}),t}function UL(n){const e=kL(n),t=e.getStore_INTERNAL().getState();return e.retain(),t.nodeCleanupFunctions.forEach(r=>r()),t.nodeCleanupFunctions.clear(),t}let SE=0;function $L({initializeState_DEPRECATED:n,initializeState:e,store_INTERNAL:t,children:r}){let o;const a=I=>{const S=o.current.graphsByVersion;if(S.has(I))return At(S.get(I));const C=CL();return S.set(I,C),C},u=(I,S)=>{if(S==null){const{transactionSubscriptions:C}=E.current.getState(),D=SE++;return C.set(D,I),{release:()=>{C.delete(D)}}}else{const{nodeTransactionSubscriptions:C}=E.current.getState();C.has(S)||C.set(S,new Map);const D=SE++;return At(C.get(S)).set(D,I),{release:()=>{const $=C.get(S);$&&($.delete(D),$.size===0&&C.delete(S))}}}},h=I=>{TE(E.current);for(const S of Object.keys(I))At(E.current.getState().nextTree).transactionMetadata[S]=I[S]},f=I=>{TE(E.current);const S=At(o.current.nextTree);let C;try{tg=!0,C=I(S)}finally{tg=!1}C!==S&&(o.current.nextTree=C,QS().early&&fy(E.current,o.current,C),At(p.current)())},p=xL(null),v=NL(I=>{p.current=I},[p]),E=wE(()=>t??{storeID:GS(),getState:()=>o.current,replaceState:f,getGraph:a,subscribeToTransactions:u,addTransactionMetadata:h});t!=null&&(E.current=t),o=wE(()=>n!=null?FL(E.current,n):e!=null?UL(e):KS());const T=OL(()=>wm==null?void 0:wm(o,()=>o.current.currentTree.version),[o]);return eg(()=>{const I=E.current;for(const S of new Set(I.getState().knownAtoms))RL(I,S,"get");return()=>{for(const S of I.getState().knownAtoms)TL(I,S)}},[E]),Me.createElement(ZS.Provider,{value:E},Me.createElement(eR.Provider,{value:T},Me.createElement(ML,{setNotifyBatcherOfChange:v}),r))}function BL(n){const{override:e,...t}=n,r=Jd();return e===!1&&r.current!==JS?n.children:Me.createElement($L,t)}function zL(){return Jd().current.storeID}var zi={RecoilRoot:BL,useStoreRef:Jd,useRecoilMutableSource:LL,useRecoilStoreID:zL,notifyComponents_FOR_TESTING:fy,sendEndOfBatchNotifications_FOR_TESTING:tR};function jL(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}var qL=jL;const{useEffect:HL,useRef:WL}=Me;function KL(n){const e=WL();return HL(()=>{e.current=n}),e.current}var nR=KL;const{useStoreRef:GL}=zi,{SUSPENSE_TIMEOUT_MS:QL}=Cs,{updateRetainCount:Gl}=Cs,{RetentionZone:YL}=Hd,{useEffect:XL,useRef:JL}=Me,{isSSR:RE}=Gd;function ZL(n){if(gt("recoil_memory_managament_2020"))return eV(n)}function eV(n){const t=(Array.isArray(n)?n:[n]).map(u=>u instanceof YL?u:u.key),r=GL();XL(()=>{if(!gt("recoil_memory_managament_2020"))return;const u=r.current;if(o.current&&!RE)window.clearTimeout(o.current),o.current=null;else for(const h of t)Gl(u,h,1);return()=>{for(const h of t)Gl(u,h,-1)}},[r,...t]);const o=JL(),a=nR(t);if(!RE&&(a===void 0||!qL(a,t))){const u=r.current;for(const h of t)Gl(u,h,1);if(a)for(const h of a)Gl(u,h,-1);o.current&&window.clearTimeout(o.current),o.current=window.setTimeout(()=>{o.current=null;for(const h of t)Gl(u,h,-1)},QL)}}var py=ZL;function tV(){return"<component name not available>"}var Bu=tV;const{batchUpdates:nV}=Kd,{DEFAULT_VALUE:rR}=Kn,{currentRendererSupportsUseSyncExternalStore:rV,reactMode:tl,useMutableSource:iV,useSyncExternalStore:oV}=Fu,{useRecoilMutableSource:sV,useStoreRef:hi}=zi,{AbstractRecoilValue:ng,getRecoilValueAsLoadable:zu,setRecoilValue:sd,setUnvalidatedRecoilValue:aV,subscribeToRecoilValue:Va}=ci,{useCallback:jn,useEffect:Ma,useMemo:iR,useRef:lu,useState:my}=Me,{setByAddingToSet:lV}=IS,{isSSR:uV}=Gd;function gy(n,e,t){if(n.state==="hasValue")return n.contents;throw n.state==="loading"?new Promise(o=>{const a=t.current.getState().suspendedComponentResolvers;a.add(o),uV&&Tt(n.contents)&&n.contents.finally(()=>{a.delete(o)})}):n.state==="hasError"?n.contents:Ke(`Invalid value of loadable atom "${e.key}"`)}function cV(){const n=Bu(),e=hi(),[,t]=my([]),r=lu(new Set);r.current=new Set;const o=lu(new Set),a=lu(new Map),u=jn(f=>{const p=a.current.get(f);p&&(p.release(),a.current.delete(f))},[a]),h=jn((f,p)=>{a.current.has(p)&&t([])},[]);return Ma(()=>{const f=e.current;su(r.current,o.current).forEach(p=>{if(a.current.has(p))return;const v=Va(f,new ng(p),T=>h(T,p),n);a.current.set(p,v),f.getState().nextTree?f.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{h(f.getState(),p)}):h(f.getState(),p)}),su(o.current,r.current).forEach(p=>{u(p)}),o.current=r.current}),Ma(()=>{const f=a.current;return su(r.current,new Set(f.keys())).forEach(p=>{const v=Va(e.current,new ng(p),E=>h(E,p),n);f.set(p,v)}),()=>f.forEach((p,v)=>u(v))},[n,e,u,h]),iR(()=>{function f(S){return C=>{sd(e.current,S,C)}}function p(S){return()=>sd(e.current,S,rR)}function v(S){var C;r.current.has(S.key)||(r.current=lV(r.current,S.key));const D=e.current.getState();return zu(e.current,S,tl().early&&(C=D.nextTree)!==null&&C!==void 0?C:D.currentTree)}function E(S){const C=v(S);return gy(C,S,e)}function T(S){return[E(S),f(S)]}function I(S){return[v(S),f(S)]}return{getRecoilValue:E,getRecoilValueLoadable:v,getRecoilState:T,getRecoilStateLoadable:I,getSetRecoilState:f,getResetRecoilState:p}},[r,e])}const hV={current:0};function dV(n){const e=hi(),t=Bu(),r=jn(()=>{var h;const f=e.current,p=f.getState(),v=tl().early&&(h=p.nextTree)!==null&&h!==void 0?h:p.currentTree;return{loadable:zu(f,n,v),key:n.key}},[e,n]),o=jn(h=>{let f;return()=>{var p,v;const E=h();return(p=f)!==null&&p!==void 0&&p.loadable.is(E.loadable)&&((v=f)===null||v===void 0?void 0:v.key)===E.key?f:(f=E,E)}},[]),a=iR(()=>o(r),[r,o]),u=jn(h=>{const f=e.current;return Va(f,n,h,t).release},[e,n,t]);return oV(u,a,a).loadable}function fV(n){const e=hi(),t=jn(()=>{var p;const v=e.current,E=v.getState(),T=tl().early&&(p=E.nextTree)!==null&&p!==void 0?p:E.currentTree;return zu(v,n,T)},[e,n]),r=jn(()=>t(),[t]),o=Bu(),a=jn((p,v)=>{const E=e.current;return Va(E,n,()=>{if(!gt("recoil_suppress_rerender_in_callback"))return v();const I=t();f.current.is(I)||v(),f.current=I},o).release},[e,n,o,t]),u=sV();if(u==null)throw Ke("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const h=iV(u,r,a),f=lu(h);return Ma(()=>{f.current=h}),h}function rg(n){const e=hi(),t=Bu(),r=jn(()=>{var f;const p=e.current,v=p.getState(),E=tl().early&&(f=v.nextTree)!==null&&f!==void 0?f:v.currentTree;return zu(p,n,E)},[e,n]),o=jn(()=>({loadable:r(),key:n.key}),[r,n.key]),a=jn(f=>{const p=o();return f.loadable.is(p.loadable)&&f.key===p.key?f:p},[o]);Ma(()=>{const f=Va(e.current,n,p=>{h(a)},t);return h(a),f.release},[t,n,e,a]);const[u,h]=my(o);return u.key!==n.key?o().loadable:u.loadable}function pV(n){const e=hi(),[,t]=my([]),r=Bu(),o=jn(()=>{var h;const f=e.current,p=f.getState(),v=tl().early&&(h=p.nextTree)!==null&&h!==void 0?h:p.currentTree;return zu(f,n,v)},[e,n]),a=o(),u=lu(a);return Ma(()=>{u.current=a}),Ma(()=>{const h=e.current,f=h.getState(),p=Va(h,n,E=>{var T;if(!gt("recoil_suppress_rerender_in_callback"))return t([]);const I=o();(T=u.current)!==null&&T!==void 0&&T.is(I)||t(I),u.current=I},r);if(f.nextTree)h.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{u.current=null,t([])});else{var v;if(!gt("recoil_suppress_rerender_in_callback"))return t([]);const E=o();(v=u.current)!==null&&v!==void 0&&v.is(E)||t(E),u.current=E}return p.release},[r,o,n,e]),a}function yy(n){return gt("recoil_memory_managament_2020")&&py(n),{TRANSITION_SUPPORT:rg,SYNC_EXTERNAL_STORE:rV()?dV:rg,MUTABLE_SOURCE:fV,LEGACY:pV}[tl().mode](n)}function oR(n){const e=hi(),t=yy(n);return gy(t,n,e)}function Zd(n){const e=hi();return jn(t=>{sd(e.current,n,t)},[e,n])}function mV(n){const e=hi();return jn(()=>{sd(e.current,n,rR)},[e,n])}function gV(n){return[oR(n),Zd(n)]}function yV(n){return[yy(n),Zd(n)]}function vV(){const n=hi();return(e,t={})=>{nV(()=>{n.current.addTransactionMetadata(t),e.forEach((r,o)=>aV(n.current,new ng(o),r))})}}function sR(n){return gt("recoil_memory_managament_2020")&&py(n),rg(n)}function aR(n){const e=hi(),t=sR(n);return gy(t,n,e)}function _V(n){return[aR(n),Zd(n)]}var EV={recoilComponentGetRecoilValueCount_FOR_TESTING:hV,useRecoilInterface:cV,useRecoilState:gV,useRecoilStateLoadable:yV,useRecoilValue:oR,useRecoilValueLoadable:yy,useResetRecoilState:mV,useSetRecoilState:Zd,useSetUnvalidatedAtomValues:vV,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:sR,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:aR,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:_V};function wV(n,e){const t=new Map;for(const[r,o]of n)e(o,r)&&t.set(r,o);return t}var TV=wV;function SV(n,e){const t=new Set;for(const r of n)e(r)&&t.add(r);return t}var RV=SV;function IV(...n){const e=new Map;for(let t=0;t<n.length;t++){const r=n[t].keys();let o;for(;!(o=r.next()).done;)e.set(o.value,n[t].get(o.value))}return e}var AV=IV;const{batchUpdates:CV}=Kd,{DEFAULT_VALUE:PV,getNode:lR,nodes:bV}=Kn,{useStoreRef:vy}=zi,{AbstractRecoilValue:kV,setRecoilValueLoadable:NV}=ci,{SUSPENSE_TIMEOUT_MS:OV}=Cs,{cloneSnapshot:ad}=Xd,{useCallback:ef,useEffect:uR,useRef:IE,useState:xV}=Me,{isSSR:AE}=Gd;function tf(n){const e=vy();uR(()=>e.current.subscribeToTransactions(n).release,[n,e])}function CE(n){const e=n.atomValues.toMap(),t=od(TV(e,(r,o)=>{const u=lR(o).persistence_UNSTABLE;return u!=null&&u.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return AV(n.nonvalidatedAtoms.toMap(),t)}function DV(n){tf(ef(e=>{let t=e.getState().previousTree;const r=e.getState().currentTree;t||(t=e.getState().currentTree);const o=CE(r),a=CE(t),u=od(bV,f=>{var p,v,E,T;return{persistence_UNSTABLE:{type:(p=(v=f.persistence_UNSTABLE)===null||v===void 0?void 0:v.type)!==null&&p!==void 0?p:"none",backButton:(E=(T=f.persistence_UNSTABLE)===null||T===void 0?void 0:T.backButton)!==null&&E!==void 0?E:!1}}}),h=RV(r.dirtyAtoms,f=>o.has(f)||a.has(f));n({atomValues:o,previousAtomValues:a,atomInfo:u,modifiedAtoms:h,transactionMetadata:{...r.transactionMetadata}})},[n]))}function LV(n){tf(ef(e=>{const t=ad(e,"latest"),r=ad(e,"previous");n({snapshot:t,previousSnapshot:r})},[n]))}function VV(){const n=vy(),[e,t]=xV(()=>ad(n.current)),r=nR(e),o=IE(),a=IE();if(tf(ef(h=>t(ad(h)),[])),uR(()=>{const h=e.retain();if(o.current&&!AE){var f;window.clearTimeout(o.current),o.current=null,(f=a.current)===null||f===void 0||f.call(a),a.current=null}return()=>{window.setTimeout(h,10)}},[e]),r!==e&&!AE){if(o.current){var u;window.clearTimeout(o.current),o.current=null,(u=a.current)===null||u===void 0||u.call(a),a.current=null}a.current=e.retain(),o.current=window.setTimeout(()=>{var h;o.current=null,(h=a.current)===null||h===void 0||h.call(a),a.current=null},OV)}return e}function cR(n,e){var t;const r=n.getState(),o=(t=r.nextTree)!==null&&t!==void 0?t:r.currentTree,a=e.getStore_INTERNAL().getState().currentTree;CV(()=>{const u=new Set;for(const p of[o.atomValues.keys(),a.atomValues.keys()])for(const v of p){var h,f;((h=o.atomValues.get(v))===null||h===void 0?void 0:h.contents)!==((f=a.atomValues.get(v))===null||f===void 0?void 0:f.contents)&&lR(v).shouldRestoreFromSnapshots&&u.add(v)}u.forEach(p=>{NV(n,new kV(p),a.atomValues.has(p)?At(a.atomValues.get(p)):PV)}),n.replaceState(p=>({...p,stateID:e.getID()}))})}function MV(){const n=vy();return ef(e=>cR(n.current,e),[n])}var hR={useRecoilSnapshot:VV,gotoSnapshot:cR,useGotoRecoilSnapshot:MV,useRecoilTransactionObserver:LV,useTransactionObservation_DEPRECATED:DV,useTransactionSubscription_DEPRECATED:tf};const{peekNodeInfo:FV}=Vo,{useStoreRef:UV}=zi;function $V(){const n=UV();return({key:e})=>FV(n.current,n.current.getState().currentTree,e)}var BV=$V;const{reactMode:zV}=Fu,{RecoilRoot:jV,useStoreRef:qV}=zi,{useMemo:HV}=Me;function WV(){zV().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const n=qV().current;return HV(()=>{function e({children:t}){return Me.createElement(jV,{store_INTERNAL:n},t)}return e},[n])}var KV=WV;const{loadableWithValue:GV}=Mu,{initializeNode:QV}=Vo,{DEFAULT_VALUE:YV,getNode:XV}=Kn,{copyTreeState:JV,getRecoilValueAsLoadable:ZV,invalidateDownstreams:e2,writeLoadableToTreeState:t2}=ci;function PE(n){return XV(n.key).nodeType==="atom"}class n2{constructor(e,t){He(this,"_store",void 0),He(this,"_treeState",void 0),He(this,"_changes",void 0),He(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!PE(r))throw Ke("Reading selectors within atomicUpdate is not supported");const o=ZV(this._store,r,this._treeState);if(o.state==="hasValue")return o.contents;throw o.state==="hasError"?o.contents:Ke(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),He(this,"set",(r,o)=>{if(!PE(r))throw Ke("Setting selectors within atomicUpdate is not supported");if(typeof o=="function"){const a=this.get(r);this._changes.set(r.key,o(a))}else QV(this._store,r.key,"set"),this._changes.set(r.key,o)}),He(this,"reset",r=>{this.set(r,YV)}),this._store=e,this._treeState=t,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=JV(this._treeState);for(const[t,r]of this._changes)t2(e,t,GV(r));return e2(this._store,e),e}}function r2(n){return e=>{n.replaceState(t=>{const r=new n2(n,t);return e(r),r.newTreeState_INTERNAL()})}}var i2={atomicUpdater:r2},o2=i2.atomicUpdater,dR=Object.freeze({__proto__:null,atomicUpdater:o2});function s2(n,e){if(!n)throw new Error(e)}var a2=s2,eu=a2;const{atomicUpdater:l2}=dR,{batchUpdates:u2}=Kd,{DEFAULT_VALUE:c2}=Kn,{useStoreRef:h2}=zi,{refreshRecoilValue:d2,setRecoilValue:bE}=ci,{cloneSnapshot:f2}=Xd,{gotoSnapshot:p2}=hR,{useCallback:m2}=Me;class fR{}const g2=new fR;function pR(n,e,t,r){let o=g2,a;if(u2(()=>{const h="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw Ke(h);const f=AS({...r??{},set:(v,E)=>bE(n,v,E),reset:v=>bE(n,v,c2),refresh:v=>d2(n,v),gotoSnapshot:v=>p2(n,v),transact_UNSTABLE:v=>l2(n)(v)},{snapshot:()=>{const v=f2(n);return a=v.retain(),v}}),p=e(f);if(typeof p!="function")throw Ke(h);o=p(...t)}),o instanceof fR&&eu(!1),Tt(o))o=o.finally(()=>{var h;(h=a)===null||h===void 0||h()});else{var u;(u=a)===null||u===void 0||u()}return o}function y2(n,e){const t=h2();return m2((...r)=>pR(t.current,n,r),e!=null?[...e,t]:void 0)}var mR={recoilCallback:pR,useRecoilCallback:y2};const{useStoreRef:v2}=zi,{refreshRecoilValue:_2}=ci,{useCallback:E2}=Me;function w2(n){const e=v2();return E2(()=>{const t=e.current;_2(t,n)},[n,e])}var T2=w2;const{atomicUpdater:S2}=dR,{useStoreRef:R2}=zi,{useMemo:I2}=Me;function A2(n,e){const t=R2();return I2(()=>(...r)=>{S2(t.current)(a=>{n(a)(...r)})},e!=null?[...e,t]:void 0)}var C2=A2;class P2{constructor(e){He(this,"value",void 0),this.value=e}}var b2={WrappedValue:P2},k2=b2.WrappedValue,gR=Object.freeze({__proto__:null,WrappedValue:k2});const{isFastRefreshEnabled:N2}=Fu;class kE extends Error{}class O2{constructor(e){var t,r,o;He(this,"_name",void 0),He(this,"_numLeafs",void 0),He(this,"_root",void 0),He(this,"_onHit",void 0),He(this,"_onSet",void 0),He(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(t=e==null?void 0:e.onHit)!==null&&t!==void 0?t:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(o=e==null?void 0:e.mapNodeValue)!==null&&o!==void 0?o:a=>a}size(){return this._numLeafs}root(){return this._root}get(e,t){var r;return(r=this.getLeafNode(e,t))===null||r===void 0?void 0:r.value}getLeafNode(e,t){if(this._root==null)return;let r=this._root;for(;r;){if(t==null||t.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const o=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(o)}}set(e,t,r){const o=()=>{var a,u,h,f;let p,v;for(const[D,$]of e){var E,T,I;const F=this._root;if((F==null?void 0:F.type)==="leaf")throw this.invalidCacheError();const j=p;if(p=j?j.branches.get(v):F,p=(E=p)!==null&&E!==void 0?E:{type:"branch",nodeKey:D,parent:j,branches:new Map,branchKey:v},p.type!=="branch"||p.nodeKey!==D)throw this.invalidCacheError();j==null||j.branches.set(v,p),r==null||(T=r.onNodeVisit)===null||T===void 0||T.call(r,p),v=this._mapNodeValue($),this._root=(I=this._root)!==null&&I!==void 0?I:p}const S=p?(a=p)===null||a===void 0?void 0:a.branches.get(v):this._root;if(S!=null&&(S.type!=="leaf"||S.branchKey!==v))throw this.invalidCacheError();const C={type:"leaf",value:t,parent:p,branchKey:v};(u=p)===null||u===void 0||u.branches.set(v,C),this._root=(h=this._root)!==null&&h!==void 0?h:C,this._numLeafs++,this._onSet(C),r==null||(f=r.onNodeVisit)===null||f===void 0||f.call(r,C)};try{o()}catch(a){if(a instanceof kE)this.clear(),o();else throw a}}delete(e){const t=this.root();if(!t)return!1;if(e===t)return this._root=null,this._numLeafs=0,!0;let r=e.parent,o=e.branchKey;for(;r;){var a;if(r.branches.delete(o),r===t)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;o=(a=r)===null||a===void 0?void 0:a.branchKey,r=r.parent}for(;r!==t;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=N2()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw iy(e+(this._name!=null?` - ${this._name}`:"")),new kE}}var x2={TreeCache:O2},D2=x2.TreeCache,yR=Object.freeze({__proto__:null,TreeCache:D2});class L2{constructor(e){var t;He(this,"_maxSize",void 0),He(this,"_size",void 0),He(this,"_head",void 0),He(this,"_tail",void 0),He(this,"_map",void 0),He(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(t=e.mapKey)!==null&&t!==void 0?t:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const t=this._keyMapper(e),r=this._map.get(t);if(r)return this.set(e,r.value),r.value}set(e,t){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const a=this.head(),u={key:e,right:a,left:null,value:t};a?a.left=u:this._tail=u,this._map.set(r,u),this._head=u,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const t=this._keyMapper(e);if(!this._size||!this._map.has(t))return;const r=At(this._map.get(t)),o=r.right,a=r.left;o&&(o.left=r.left),a&&(a.right=r.right),r===this.head()&&(this._head=o),r===this.tail()&&(this._tail=a),this._map.delete(t),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var V2={LRUCache:L2},M2=V2.LRUCache,vR=Object.freeze({__proto__:null,LRUCache:M2});const{LRUCache:F2}=vR,{TreeCache:U2}=yR;function $2({name:n,maxSize:e,mapNodeValue:t=r=>r}){const r=new F2({maxSize:e}),o=new U2({name:n,mapNodeValue:t,onHit:a=>{r.set(a,!0)},onSet:a=>{const u=r.tail();r.set(a,!0),u&&o.size()>e&&o.delete(u.key)}});return o}var NE=$2;function Lr(n,e,t){if(typeof n=="string"&&!n.includes('"')&&!n.includes("\\"))return`"${n}"`;switch(typeof n){case"undefined":return"";case"boolean":return n?"true":"false";case"number":case"symbol":return String(n);case"string":return JSON.stringify(n);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw Ke("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${n.name})__`}if(n===null)return"null";if(typeof n!="object"){var r;return(r=JSON.stringify(n))!==null&&r!==void 0?r:""}if(Tt(n))return"__PROMISE__";if(Array.isArray(n))return`[${n.map((o,a)=>Lr(o,e,a.toString()))}]`;if(typeof n.toJSON=="function")return Lr(n.toJSON(t),e,t);if(n instanceof Map){const o={};for(const[a,u]of n)o[typeof a=="string"?a:Lr(a,e)]=u;return Lr(o,e,t)}return n instanceof Set?Lr(Array.from(n).sort((o,a)=>Lr(o,e).localeCompare(Lr(a,e))),e,t):Symbol!==void 0&&n[Symbol.iterator]!=null&&typeof n[Symbol.iterator]=="function"?Lr(Array.from(n),e,t):`{${Object.keys(n).filter(o=>n[o]!==void 0).sort().map(o=>`${Lr(o,e)}:${Lr(n[o],e,o)}`).join(",")}}`}function B2(n,e={allowFunctions:!1}){return Lr(n,e)}var nf=B2;const{TreeCache:z2}=yR,yh={equality:"reference",eviction:"keep-all",maxSize:1/0};function j2({equality:n=yh.equality,eviction:e=yh.eviction,maxSize:t=yh.maxSize}=yh,r){const o=q2(n);return H2(e,t,o,r)}function q2(n){switch(n){case"reference":return e=>e;case"value":return e=>nf(e)}throw Ke(`Unrecognized equality policy ${n}`)}function H2(n,e,t,r){switch(n){case"keep-all":return new z2({name:r,mapNodeValue:t});case"lru":return NE({name:r,maxSize:At(e),mapNodeValue:t});case"most-recent":return NE({name:r,maxSize:1,mapNodeValue:t})}throw Ke(`Unrecognized eviction policy ${n}`)}var W2=j2;function K2(n){return()=>null}var G2={startPerfBlock:K2};const{isLoadable:Q2,loadableWithError:vh,loadableWithPromise:Y2,loadableWithValue:Tm}=Mu,{WrappedValue:_R}=gR,{getNodeLoadable:_h,peekNodeLoadable:X2,setNodeValue:J2}=Vo,{saveDepsToStore:Z2}=Uu,{DEFAULT_VALUE:eM,getConfigDeletionHandler:tM,getNode:nM,registerNode:OE}=Kn,{isRecoilValue:rM}=La,{markRecoilValueModified:xE}=ci,{retainedByOptionWithDefault:iM}=Cs,{recoilCallback:oM}=mR,{startPerfBlock:sM}=G2;class ER{}const Ql=new ER,Yl=[],Eh=new Map,aM=(()=>{let n=0;return()=>n++})();function wR(n){let e=null;const{key:t,get:r,cachePolicy_UNSTABLE:o}=n,a=n.set!=null?n.set:void 0,u=new Set,h=W2(o??{equality:"reference",eviction:"keep-all"},t),f=iM(n.retainedBy_UNSTABLE),p=new Map;let v=0;function E(){return!gt("recoil_memory_managament_2020")||v>0}function T(N){return N.getState().knownSelectors.add(t),v++,()=>{v--}}function I(){return tM(t)!==void 0&&!E()}function S(N,J,te,fe,ce){We(J,fe,ce),C(N,te)}function C(N,J){Be(N,J)&&P(N),$(J,!0)}function D(N,J){Be(N,J)&&(At(x(N)).stateVersions.clear(),$(J,!1))}function $(N,J){const te=Eh.get(N);if(te!=null){for(const fe of te)xE(fe,At(e));J&&Eh.delete(N)}}function F(N,J){let te=Eh.get(J);te==null&&Eh.set(J,te=new Set),te.add(N)}function j(N,J,te,fe,ce,Se){return J.then(we=>{if(!E())throw P(N),Ql;const ge=Tm(we);return S(N,te,ce,ge,fe),we}).catch(we=>{if(!E())throw P(N),Ql;if(Tt(we))return ie(N,we,te,fe,ce,Se);const ge=vh(we);throw S(N,te,ce,ge,fe),we})}function ie(N,J,te,fe,ce,Se){return J.then(we=>{if(!E())throw P(N),Ql;Se.loadingDepKey!=null&&Se.loadingDepPromise===J?te.atomValues.set(Se.loadingDepKey,Tm(we)):N.getState().knownSelectors.forEach(Je=>{te.atomValues.delete(Je)});const ge=b(N,te);if(ge&&ge.state!=="loading"){if((Be(N,ce)||x(N)==null)&&C(N,ce),ge.state==="hasValue")return ge.contents;throw ge.contents}if(!Be(N,ce)){const Je=k(N,te);if(Je!=null)return Je.loadingLoadable.contents}const[qe,dt]=ee(N,te,ce);if(qe.state!=="loading"&&S(N,te,ce,qe,dt),qe.state==="hasError")throw qe.contents;return qe.contents}).catch(we=>{if(we instanceof ER)throw Ql;if(!E())throw P(N),Ql;const ge=vh(we);throw S(N,te,ce,ge,fe),we})}function Q(N,J,te,fe){var ce,Se,we,ge;if(Be(N,fe)||J.version===((ce=N.getState())===null||ce===void 0||(Se=ce.currentTree)===null||Se===void 0?void 0:Se.version)||J.version===((we=N.getState())===null||we===void 0||(ge=we.nextTree)===null||ge===void 0?void 0:ge.version)){var qe,dt,Je;Z2(t,te,N,(qe=(dt=N.getState())===null||dt===void 0||(Je=dt.nextTree)===null||Je===void 0?void 0:Je.version)!==null&&qe!==void 0?qe:N.getState().currentTree.version)}for(const it of te)u.add(it)}function ee(N,J,te){const fe=sM(t);let ce=!0,Se=!0;const we=()=>{fe(),Se=!1};let ge,qe=!1,dt;const Je={loadingDepKey:null,loadingDepPromise:null},it=new Map;function Wt({key:en}){const Kt=_h(N,J,en);switch(it.set(en,Kt),ce||(Q(N,J,new Set(it.keys()),te),D(N,te)),Kt.state){case"hasValue":return Kt.contents;case"hasError":throw Kt.contents;case"loading":throw Je.loadingDepKey=en,Je.loadingDepPromise=Kt.contents,Kt.contents}throw Ke("Invalid Loadable state")}const On=en=>(...Kt)=>{if(Se)throw Ke("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&eu(!1),oM(N,en,Kt,{node:e})};try{ge=r({get:Wt,getCallback:On}),ge=rM(ge)?Wt(ge):ge,Q2(ge)&&(ge.state==="hasError"&&(qe=!0),ge=ge.contents),Tt(ge)?ge=j(N,ge,J,it,te,Je).finally(we):we(),ge=ge instanceof _R?ge.value:ge}catch(en){ge=en,Tt(ge)?ge=ie(N,ge,J,it,te,Je).finally(we):(qe=!0,we())}return qe?dt=vh(ge):Tt(ge)?dt=Y2(ge):dt=Tm(ge),ce=!1,B(N,te,it),Q(N,J,new Set(it.keys()),te),[dt,it]}function b(N,J){let te=J.atomValues.get(t);if(te!=null)return te;const fe=new Set;try{te=h.get(Se=>(typeof Se!="string"&&eu(!1),_h(N,J,Se).contents),{onNodeVisit:Se=>{Se.type==="branch"&&Se.nodeKey!==t&&fe.add(Se.nodeKey)}})}catch(Se){throw Ke(`Problem with cache lookup for selector "${t}": ${Se.message}`)}if(te){var ce;J.atomValues.set(t,te),Q(N,J,fe,(ce=x(N))===null||ce===void 0?void 0:ce.executionID)}return te}function A(N,J){const te=b(N,J);if(te!=null)return P(N),te;const fe=k(N,J);if(fe!=null){var ce;return((ce=fe.loadingLoadable)===null||ce===void 0?void 0:ce.state)==="loading"&&F(N,fe.executionID),fe.loadingLoadable}const Se=aM(),[we,ge]=ee(N,J,Se);return we.state==="loading"?(M(N,Se,we,ge,J),F(N,Se)):(P(N),We(J,we,ge)),we}function k(N,J){const te=jS([p.has(N)?[At(p.get(N))]:[],jd(uy(p,([ce])=>ce!==N),([,ce])=>ce)]);function fe(ce){for(const[Se,we]of ce)if(!_h(N,J,Se).is(we))return!0;return!1}for(const ce of te){if(ce.stateVersions.get(J.version)||!fe(ce.depValuesDiscoveredSoFarDuringAsyncWork))return ce.stateVersions.set(J.version,!0),ce;ce.stateVersions.set(J.version,!1)}}function x(N){return p.get(N)}function M(N,J,te,fe,ce){p.set(N,{depValuesDiscoveredSoFarDuringAsyncWork:fe,executionID:J,loadingLoadable:te,stateVersions:new Map([[ce.version,!0]])})}function B(N,J,te){if(Be(N,J)){const fe=x(N);fe!=null&&(fe.depValuesDiscoveredSoFarDuringAsyncWork=te)}}function P(N){p.delete(N)}function Be(N,J){var te;return J===((te=x(N))===null||te===void 0?void 0:te.executionID)}function st(N){return Array.from(N.entries()).map(([J,te])=>[J,te.contents])}function We(N,J,te){N.atomValues.set(t,J);try{h.set(st(te),J)}catch(fe){throw Ke(`Problem with setting cache for selector "${t}": ${fe.message}`)}}function ze(N){if(Yl.includes(t)){const J=`Recoil selector has circular dependencies: ${Yl.slice(Yl.indexOf(t)).join(" → ")}`;return vh(Ke(J))}Yl.push(t);try{return N()}finally{Yl.pop()}}function ue(N,J){const te=J.atomValues.get(t);return te??h.get(fe=>{var ce;return typeof fe!="string"&&eu(!1),(ce=X2(N,J,fe))===null||ce===void 0?void 0:ce.contents})}function Te(N,J){return ze(()=>A(N,J))}function re(N){N.atomValues.delete(t)}function V(N,J){e==null&&eu(!1);for(const fe of u){var te;const ce=nM(fe);(te=ce.clearCache)===null||te===void 0||te.call(ce,N,J)}u.clear(),re(J),h.clear(),xE(N,e)}return a!=null?e=OE({key:t,nodeType:"selector",peek:ue,get:Te,set:(J,te,fe)=>{let ce=!1;const Se=new Map;function we({key:Je}){if(ce)throw Ke("Recoil: Async selector sets are not currently supported.");const it=_h(J,te,Je);if(it.state==="hasValue")return it.contents;if(it.state==="loading"){const Wt=`Getting value of asynchronous atom or selector "${Je}" in a pending state while setting selector "${t}" is not yet supported.`;throw Ke(Wt)}else throw it.contents}function ge(Je,it){if(ce)throw Ke("Recoil: Async selector sets are not currently supported.");const Wt=typeof it=="function"?it(we(Je)):it;J2(J,te,Je.key,Wt).forEach((en,Kt)=>Se.set(Kt,en))}function qe(Je){ge(Je,eM)}const dt=a({set:ge,get:we,reset:qe},fe);if(dt!==void 0)throw Tt(dt)?Ke("Recoil: Async selector sets are not currently supported."):Ke("Recoil: selector set should be a void function.");return ce=!0,Se},init:T,invalidate:re,clearCache:V,shouldDeleteConfigOnRelease:I,dangerouslyAllowMutability:n.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:f}):e=OE({key:t,nodeType:"selector",peek:ue,get:Te,init:T,invalidate:re,clearCache:V,shouldDeleteConfigOnRelease:I,dangerouslyAllowMutability:n.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:f})}wR.value=n=>new _R(n);var Fa=wR;const{isLoadable:lM,loadableWithError:Sm,loadableWithPromise:Rm,loadableWithValue:pa}=Mu,{WrappedValue:TR}=gR,{peekNodeInfo:uM}=Vo,{DEFAULT_VALUE:ps,DefaultValue:vo,getConfigDeletionHandler:SR,registerNode:cM,setConfigDeletionHandler:hM}=Kn,{isRecoilValue:dM}=La,{getRecoilValueAsLoadable:fM,markRecoilValueModified:pM,setRecoilValue:DE,setRecoilValueLoadable:mM}=ci,{retainedByOptionWithDefault:gM}=Cs,Xl=n=>n instanceof TR?n.value:n;function yM(n){const{key:e,persistence_UNSTABLE:t}=n,r=gM(n.retainedBy_UNSTABLE);let o=0;function a(F){return Rm(F.then(j=>(u=pa(j),j)).catch(j=>{throw u=Sm(j),j}))}let u=Tt(n.default)?a(n.default):lM(n.default)?n.default.state==="loading"?a(n.default.contents):n.default:pa(Xl(n.default));u.contents;let h;const f=new Map;function p(F){return F}function v(F,j){const ie=j.then(Q=>{var ee,b;return((b=((ee=F.getState().nextTree)!==null&&ee!==void 0?ee:F.getState().currentTree).atomValues.get(e))===null||b===void 0?void 0:b.contents)===ie&&DE(F,$,Q),Q}).catch(Q=>{var ee,b;throw((b=((ee=F.getState().nextTree)!==null&&ee!==void 0?ee:F.getState().currentTree).atomValues.get(e))===null||b===void 0?void 0:b.contents)===ie&&mM(F,$,Sm(Q)),Q});return ie}function E(F,j,ie){var Q;o++;const ee=()=>{var x;o--,(x=f.get(F))===null||x===void 0||x.forEach(M=>M()),f.delete(F)};if(F.getState().knownAtoms.add(e),u.state==="loading"){const x=()=>{var M;((M=F.getState().nextTree)!==null&&M!==void 0?M:F.getState().currentTree).atomValues.has(e)||pM(F,$)};u.contents.finally(x)}const b=(Q=n.effects)!==null&&Q!==void 0?Q:n.effects_UNSTABLE;if(b!=null){let x=function(re){if(Be&&re.key===e){const V=P;return V instanceof vo?T(F,j):Tt(V)?Rm(V.then(N=>N instanceof vo?u.toPromise():N)):pa(V)}return fM(F,re)},M=function(re){return x(re).toPromise()},B=function(re){var V;const N=uM(F,(V=F.getState().nextTree)!==null&&V!==void 0?V:F.getState().currentTree,re.key);return Be&&re.key===e&&!(P instanceof vo)?{...N,isSet:!0,loadable:x(re)}:N},P=ps,Be=!0,st=!1,We=null;const ze=re=>V=>{if(Be){const N=x($),J=N.state==="hasValue"?N.contents:ps;P=typeof V=="function"?V(J):V,Tt(P)&&(P=P.then(te=>(We={effect:re,value:te},te)))}else{if(Tt(V))throw Ke("Setting atoms to async values is not implemented.");typeof V!="function"&&(We={effect:re,value:Xl(V)}),DE(F,$,typeof V=="function"?N=>{const J=Xl(V(N));return We={effect:re,value:J},J}:Xl(V))}},ue=re=>()=>ze(re)(ps),Te=re=>V=>{var N;const{release:J}=F.subscribeToTransactions(te=>{var fe;let{currentTree:ce,previousTree:Se}=te.getState();Se||(Se=ce);const we=(fe=ce.atomValues.get(e))!==null&&fe!==void 0?fe:u;if(we.state==="hasValue"){var ge,qe,dt,Je;const it=we.contents,Wt=(ge=Se.atomValues.get(e))!==null&&ge!==void 0?ge:u,On=Wt.state==="hasValue"?Wt.contents:ps;((qe=We)===null||qe===void 0?void 0:qe.effect)!==re||((dt=We)===null||dt===void 0?void 0:dt.value)!==it?V(it,On,!ce.atomValues.has(e)):((Je=We)===null||Je===void 0?void 0:Je.effect)===re&&(We=null)}},e);f.set(F,[...(N=f.get(F))!==null&&N!==void 0?N:[],J])};for(const re of b)try{const V=re({node:$,storeID:F.storeID,parentStoreID_UNSTABLE:F.parentStoreID,trigger:ie,setSelf:ze(re),resetSelf:ue(re),onSet:Te(re),getPromise:M,getLoadable:x,getInfo_UNSTABLE:B});if(V!=null){var A;f.set(F,[...(A=f.get(F))!==null&&A!==void 0?A:[],V])}}catch(V){P=V,st=!0}if(Be=!1,!(P instanceof vo)){var k;const re=st?Sm(P):Tt(P)?Rm(v(F,P)):pa(Xl(P));re.contents,j.atomValues.set(e,re),(k=F.getState().nextTree)===null||k===void 0||k.atomValues.set(e,re)}}return ee}function T(F,j){var ie,Q;return(ie=(Q=j.atomValues.get(e))!==null&&Q!==void 0?Q:h)!==null&&ie!==void 0?ie:u}function I(F,j){if(j.atomValues.has(e))return At(j.atomValues.get(e));if(j.nonvalidatedAtoms.has(e)){if(h!=null)return h;if(t==null)return u;const ie=j.nonvalidatedAtoms.get(e),Q=t.validator(ie,ps);return h=Q instanceof vo?u:pa(Q),h}else return u}function S(){h=void 0}function C(F,j,ie){if(j.atomValues.has(e)){const Q=At(j.atomValues.get(e));if(Q.state==="hasValue"&&ie===Q.contents)return new Map}else if(!j.nonvalidatedAtoms.has(e)&&ie instanceof vo)return new Map;return h=void 0,new Map().set(e,pa(ie))}function D(){return SR(e)!==void 0&&o<=0}const $=cM({key:e,nodeType:"atom",peek:T,get:I,set:C,init:E,invalidate:S,shouldDeleteConfigOnRelease:D,dangerouslyAllowMutability:n.dangerouslyAllowMutability,persistence_UNSTABLE:n.persistence_UNSTABLE?{type:n.persistence_UNSTABLE.type,backButton:n.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return $}function _y(n){const{...e}=n,t="default"in n?n.default:new Promise(()=>{});return dM(t)?vM({...e,default:t}):yM({...e,default:t})}function vM(n){const e=_y({...n,default:ps,persistence_UNSTABLE:n.persistence_UNSTABLE===void 0?void 0:{...n.persistence_UNSTABLE,validator:r=>r instanceof vo?r:At(n.persistence_UNSTABLE).validator(r,ps)},effects:n.effects,effects_UNSTABLE:n.effects_UNSTABLE}),t=Fa({key:`${n.key}__withFallback`,get:({get:r})=>{const o=r(e);return o instanceof vo?n.default:o},set:({set:r},o)=>r(e,o),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:n.dangerouslyAllowMutability});return hM(t.key,SR(n.key)),t}_y.value=n=>new TR(n);var RR=_y;class _M{constructor(e){var t;He(this,"_map",void 0),He(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(t=e==null?void 0:e.mapKey)!==null&&t!==void 0?t:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,t){this._map.set(this._keyMapper(e),t)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var EM={MapCache:_M},wM=EM.MapCache,TM=Object.freeze({__proto__:null,MapCache:wM});const{LRUCache:LE}=vR,{MapCache:SM}=TM,wh={equality:"reference",eviction:"none",maxSize:1/0};function RM({equality:n=wh.equality,eviction:e=wh.eviction,maxSize:t=wh.maxSize}=wh){const r=IM(n);return AM(e,t,r)}function IM(n){switch(n){case"reference":return e=>e;case"value":return e=>nf(e)}throw Ke(`Unrecognized equality policy ${n}`)}function AM(n,e,t){switch(n){case"keep-all":return new SM({mapKey:t});case"lru":return new LE({mapKey:t,maxSize:At(e)});case"most-recent":return new LE({mapKey:t,maxSize:1})}throw Ke(`Unrecognized eviction policy ${n}`)}var IR=RM;const{setConfigDeletionHandler:CM}=Kn;function PM(n){var e,t;const r=IR({equality:(e=(t=n.cachePolicyForParams_UNSTABLE)===null||t===void 0?void 0:t.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return o=>{var a,u;const h=r.get(o);if(h!=null)return h;const{cachePolicyForParams_UNSTABLE:f,...p}=n,v="default"in n?n.default:new Promise(()=>{}),E=RR({...p,key:`${n.key}__${(a=nf(o))!==null&&a!==void 0?a:"void"}`,default:typeof v=="function"?v(o):v,retainedBy_UNSTABLE:typeof n.retainedBy_UNSTABLE=="function"?n.retainedBy_UNSTABLE(o):n.retainedBy_UNSTABLE,effects:typeof n.effects=="function"?n.effects(o):typeof n.effects_UNSTABLE=="function"?n.effects_UNSTABLE(o):(u=n.effects)!==null&&u!==void 0?u:n.effects_UNSTABLE});return r.set(o,E),CM(E.key,()=>{r.delete(o)}),E}}var bM=PM;const{setConfigDeletionHandler:kM}=Kn;let NM=0;function OM(n){var e,t;const r=IR({equality:(e=(t=n.cachePolicyForParams_UNSTABLE)===null||t===void 0?void 0:t.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return o=>{var a;let u;try{u=r.get(o)}catch(T){throw Ke(`Problem with cache lookup for selector ${n.key}: ${T.message}`)}if(u!=null)return u;const h=`${n.key}__selectorFamily/${(a=nf(o,{allowFunctions:!0}))!==null&&a!==void 0?a:"void"}/${NM++}`,f=T=>n.get(o)(T),p=n.cachePolicy_UNSTABLE,v=typeof n.retainedBy_UNSTABLE=="function"?n.retainedBy_UNSTABLE(o):n.retainedBy_UNSTABLE;let E;if(n.set!=null){const T=n.set;E=Fa({key:h,get:f,set:(S,C)=>T(o)(S,C),cachePolicy_UNSTABLE:p,dangerouslyAllowMutability:n.dangerouslyAllowMutability,retainedBy_UNSTABLE:v})}else E=Fa({key:h,get:f,cachePolicy_UNSTABLE:p,dangerouslyAllowMutability:n.dangerouslyAllowMutability,retainedBy_UNSTABLE:v});return r.set(o,E),kM(E.key,()=>{r.delete(o)}),E}}var Mo=OM;const xM=Mo({key:"__constant",get:n=>()=>n,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function DM(n){return xM(n)}var LM=DM;const VM=Mo({key:"__error",get:n=>()=>{throw Ke(n)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function MM(n){return VM(n)}var FM=MM;function UM(n){return n}var $M=UM;const{loadableWithError:AR,loadableWithPromise:CR,loadableWithValue:PR}=Mu;function rf(n,e){const t=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[o,a]of e.entries())try{t[o]=n(a)}catch(u){r[o]=u}return[t,r]}function BM(n){return n!=null&&!Tt(n)}function of(n){return Array.isArray(n)?n:Object.getOwnPropertyNames(n).map(e=>n[e])}function ig(n,e){return Array.isArray(n)?e:Object.getOwnPropertyNames(n).reduce((t,r,o)=>({...t,[r]:e[o]}),{})}function Ia(n,e,t){const r=t.map((o,a)=>o==null?PR(e[a]):Tt(o)?CR(o):AR(o));return ig(n,r)}function zM(n,e){return e.map((t,r)=>t===void 0?n[r]:t)}const jM=Mo({key:"__waitForNone",get:n=>({get:e})=>{const t=of(n),[r,o]=rf(e,t);return Ia(n,r,o)},dangerouslyAllowMutability:!0}),qM=Mo({key:"__waitForAny",get:n=>({get:e})=>{const t=of(n),[r,o]=rf(e,t);return o.some(a=>!Tt(a))?Ia(n,r,o):new Promise(a=>{for(const[u,h]of o.entries())Tt(h)&&h.then(f=>{r[u]=f,o[u]=void 0,a(Ia(n,r,o))}).catch(f=>{o[u]=f,a(Ia(n,r,o))})})},dangerouslyAllowMutability:!0}),HM=Mo({key:"__waitForAll",get:n=>({get:e})=>{const t=of(n),[r,o]=rf(e,t);if(o.every(u=>u==null))return ig(n,r);const a=o.find(BM);if(a!=null)throw a;return Promise.all(o).then(u=>ig(n,zM(r,u)))},dangerouslyAllowMutability:!0}),WM=Mo({key:"__waitForAllSettled",get:n=>({get:e})=>{const t=of(n),[r,o]=rf(e,t);return o.every(a=>!Tt(a))?Ia(n,r,o):Promise.all(o.map((a,u)=>Tt(a)?a.then(h=>{r[u]=h,o[u]=void 0}).catch(h=>{r[u]=void 0,o[u]=h}):null)).then(()=>Ia(n,r,o))},dangerouslyAllowMutability:!0}),KM=Mo({key:"__noWait",get:n=>({get:e})=>{try{return Fa.value(PR(e(n)))}catch(t){return Fa.value(Tt(t)?CR(t):AR(t))}},dangerouslyAllowMutability:!0});var GM={waitForNone:jM,waitForAny:qM,waitForAll:HM,waitForAllSettled:WM,noWait:KM};const{RecoilLoadable:QM}=Mu,{DefaultValue:YM}=Kn,{RecoilRoot:XM,useRecoilStoreID:JM}=zi,{isRecoilValue:ZM}=La,{retentionZone:eF}=Hd,{freshSnapshot:tF}=Xd,{useRecoilState:nF,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:rF,useRecoilStateLoadable:iF,useRecoilValue:oF,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:sF,useRecoilValueLoadable:aF,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:lF,useResetRecoilState:uF,useSetRecoilState:cF}=EV,{useGotoRecoilSnapshot:hF,useRecoilSnapshot:dF,useRecoilTransactionObserver:fF}=hR,{useRecoilCallback:pF}=mR,{noWait:mF,waitForAll:gF,waitForAllSettled:yF,waitForAny:vF,waitForNone:_F}=GM;var sf={DefaultValue:YM,isRecoilValue:ZM,RecoilLoadable:QM,RecoilEnv:el,RecoilRoot:XM,useRecoilStoreID:JM,useRecoilBridgeAcrossReactRoots_UNSTABLE:KV,atom:RR,selector:Fa,atomFamily:bM,selectorFamily:Mo,constSelector:LM,errorSelector:FM,readOnlySelector:$M,noWait:mF,waitForNone:_F,waitForAny:vF,waitForAll:gF,waitForAllSettled:yF,useRecoilValue:oF,useRecoilValueLoadable:aF,useRecoilState:nF,useRecoilStateLoadable:iF,useSetRecoilState:cF,useResetRecoilState:uF,useGetRecoilValueInfo_UNSTABLE:BV,useRecoilRefresher_UNSTABLE:T2,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:lF,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:sF,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:rF,useRecoilCallback:pF,useRecoilTransaction_UNSTABLE:C2,useGotoRecoilSnapshot:hF,useRecoilSnapshot:dF,useRecoilTransactionObserver_UNSTABLE:fF,snapshot_UNSTABLE:tF,useRetain:py,retentionZone:eF},EF=sf.RecoilRoot,wF=sf.atom,TF=sf.useRecoilValue,SF=sf.useSetRecoilState,RF="firebase",IF="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Co(RF,IF,"app");var VE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Es,bR;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,A){function k(){}k.prototype=A.prototype,b.D=A.prototype,b.prototype=new k,b.prototype.constructor=b,b.C=function(x,M,B){for(var P=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)P[Be-2]=arguments[Be];return A.prototype[M].apply(x,P)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(b,A,k){k||(k=0);var x=Array(16);if(typeof A=="string")for(var M=0;16>M;++M)x[M]=A.charCodeAt(k++)|A.charCodeAt(k++)<<8|A.charCodeAt(k++)<<16|A.charCodeAt(k++)<<24;else for(M=0;16>M;++M)x[M]=A[k++]|A[k++]<<8|A[k++]<<16|A[k++]<<24;A=b.g[0],k=b.g[1],M=b.g[2];var B=b.g[3],P=A+(B^k&(M^B))+x[0]+3614090360&4294967295;A=k+(P<<7&4294967295|P>>>25),P=B+(M^A&(k^M))+x[1]+3905402710&4294967295,B=A+(P<<12&4294967295|P>>>20),P=M+(k^B&(A^k))+x[2]+606105819&4294967295,M=B+(P<<17&4294967295|P>>>15),P=k+(A^M&(B^A))+x[3]+3250441966&4294967295,k=M+(P<<22&4294967295|P>>>10),P=A+(B^k&(M^B))+x[4]+4118548399&4294967295,A=k+(P<<7&4294967295|P>>>25),P=B+(M^A&(k^M))+x[5]+1200080426&4294967295,B=A+(P<<12&4294967295|P>>>20),P=M+(k^B&(A^k))+x[6]+2821735955&4294967295,M=B+(P<<17&4294967295|P>>>15),P=k+(A^M&(B^A))+x[7]+4249261313&4294967295,k=M+(P<<22&4294967295|P>>>10),P=A+(B^k&(M^B))+x[8]+1770035416&4294967295,A=k+(P<<7&4294967295|P>>>25),P=B+(M^A&(k^M))+x[9]+2336552879&4294967295,B=A+(P<<12&4294967295|P>>>20),P=M+(k^B&(A^k))+x[10]+4294925233&4294967295,M=B+(P<<17&4294967295|P>>>15),P=k+(A^M&(B^A))+x[11]+2304563134&4294967295,k=M+(P<<22&4294967295|P>>>10),P=A+(B^k&(M^B))+x[12]+1804603682&4294967295,A=k+(P<<7&4294967295|P>>>25),P=B+(M^A&(k^M))+x[13]+4254626195&4294967295,B=A+(P<<12&4294967295|P>>>20),P=M+(k^B&(A^k))+x[14]+2792965006&4294967295,M=B+(P<<17&4294967295|P>>>15),P=k+(A^M&(B^A))+x[15]+1236535329&4294967295,k=M+(P<<22&4294967295|P>>>10),P=A+(M^B&(k^M))+x[1]+4129170786&4294967295,A=k+(P<<5&4294967295|P>>>27),P=B+(k^M&(A^k))+x[6]+3225465664&4294967295,B=A+(P<<9&4294967295|P>>>23),P=M+(A^k&(B^A))+x[11]+643717713&4294967295,M=B+(P<<14&4294967295|P>>>18),P=k+(B^A&(M^B))+x[0]+3921069994&4294967295,k=M+(P<<20&4294967295|P>>>12),P=A+(M^B&(k^M))+x[5]+3593408605&4294967295,A=k+(P<<5&4294967295|P>>>27),P=B+(k^M&(A^k))+x[10]+38016083&4294967295,B=A+(P<<9&4294967295|P>>>23),P=M+(A^k&(B^A))+x[15]+3634488961&4294967295,M=B+(P<<14&4294967295|P>>>18),P=k+(B^A&(M^B))+x[4]+3889429448&4294967295,k=M+(P<<20&4294967295|P>>>12),P=A+(M^B&(k^M))+x[9]+568446438&4294967295,A=k+(P<<5&4294967295|P>>>27),P=B+(k^M&(A^k))+x[14]+3275163606&4294967295,B=A+(P<<9&4294967295|P>>>23),P=M+(A^k&(B^A))+x[3]+4107603335&4294967295,M=B+(P<<14&4294967295|P>>>18),P=k+(B^A&(M^B))+x[8]+1163531501&4294967295,k=M+(P<<20&4294967295|P>>>12),P=A+(M^B&(k^M))+x[13]+2850285829&4294967295,A=k+(P<<5&4294967295|P>>>27),P=B+(k^M&(A^k))+x[2]+4243563512&4294967295,B=A+(P<<9&4294967295|P>>>23),P=M+(A^k&(B^A))+x[7]+1735328473&4294967295,M=B+(P<<14&4294967295|P>>>18),P=k+(B^A&(M^B))+x[12]+2368359562&4294967295,k=M+(P<<20&4294967295|P>>>12),P=A+(k^M^B)+x[5]+4294588738&4294967295,A=k+(P<<4&4294967295|P>>>28),P=B+(A^k^M)+x[8]+2272392833&4294967295,B=A+(P<<11&4294967295|P>>>21),P=M+(B^A^k)+x[11]+1839030562&4294967295,M=B+(P<<16&4294967295|P>>>16),P=k+(M^B^A)+x[14]+4259657740&4294967295,k=M+(P<<23&4294967295|P>>>9),P=A+(k^M^B)+x[1]+2763975236&4294967295,A=k+(P<<4&4294967295|P>>>28),P=B+(A^k^M)+x[4]+1272893353&4294967295,B=A+(P<<11&4294967295|P>>>21),P=M+(B^A^k)+x[7]+4139469664&4294967295,M=B+(P<<16&4294967295|P>>>16),P=k+(M^B^A)+x[10]+3200236656&4294967295,k=M+(P<<23&4294967295|P>>>9),P=A+(k^M^B)+x[13]+681279174&4294967295,A=k+(P<<4&4294967295|P>>>28),P=B+(A^k^M)+x[0]+3936430074&4294967295,B=A+(P<<11&4294967295|P>>>21),P=M+(B^A^k)+x[3]+3572445317&4294967295,M=B+(P<<16&4294967295|P>>>16),P=k+(M^B^A)+x[6]+76029189&4294967295,k=M+(P<<23&4294967295|P>>>9),P=A+(k^M^B)+x[9]+3654602809&4294967295,A=k+(P<<4&4294967295|P>>>28),P=B+(A^k^M)+x[12]+3873151461&4294967295,B=A+(P<<11&4294967295|P>>>21),P=M+(B^A^k)+x[15]+530742520&4294967295,M=B+(P<<16&4294967295|P>>>16),P=k+(M^B^A)+x[2]+3299628645&4294967295,k=M+(P<<23&4294967295|P>>>9),P=A+(M^(k|~B))+x[0]+4096336452&4294967295,A=k+(P<<6&4294967295|P>>>26),P=B+(k^(A|~M))+x[7]+1126891415&4294967295,B=A+(P<<10&4294967295|P>>>22),P=M+(A^(B|~k))+x[14]+2878612391&4294967295,M=B+(P<<15&4294967295|P>>>17),P=k+(B^(M|~A))+x[5]+4237533241&4294967295,k=M+(P<<21&4294967295|P>>>11),P=A+(M^(k|~B))+x[12]+1700485571&4294967295,A=k+(P<<6&4294967295|P>>>26),P=B+(k^(A|~M))+x[3]+2399980690&4294967295,B=A+(P<<10&4294967295|P>>>22),P=M+(A^(B|~k))+x[10]+4293915773&4294967295,M=B+(P<<15&4294967295|P>>>17),P=k+(B^(M|~A))+x[1]+2240044497&4294967295,k=M+(P<<21&4294967295|P>>>11),P=A+(M^(k|~B))+x[8]+1873313359&4294967295,A=k+(P<<6&4294967295|P>>>26),P=B+(k^(A|~M))+x[15]+4264355552&4294967295,B=A+(P<<10&4294967295|P>>>22),P=M+(A^(B|~k))+x[6]+2734768916&4294967295,M=B+(P<<15&4294967295|P>>>17),P=k+(B^(M|~A))+x[13]+1309151649&4294967295,k=M+(P<<21&4294967295|P>>>11),P=A+(M^(k|~B))+x[4]+4149444226&4294967295,A=k+(P<<6&4294967295|P>>>26),P=B+(k^(A|~M))+x[11]+3174756917&4294967295,B=A+(P<<10&4294967295|P>>>22),P=M+(A^(B|~k))+x[2]+718787259&4294967295,M=B+(P<<15&4294967295|P>>>17),P=k+(B^(M|~A))+x[9]+3951481745&4294967295,b.g[0]=b.g[0]+A&4294967295,b.g[1]=b.g[1]+(M+(P<<21&4294967295|P>>>11))&4294967295,b.g[2]=b.g[2]+M&4294967295,b.g[3]=b.g[3]+B&4294967295}r.prototype.u=function(b,A){A===void 0&&(A=b.length);for(var k=A-this.blockSize,x=this.B,M=this.h,B=0;B<A;){if(M==0)for(;B<=k;)o(this,b,B),B+=this.blockSize;if(typeof b=="string"){for(;B<A;)if(x[M++]=b.charCodeAt(B++),M==this.blockSize){o(this,x),M=0;break}}else for(;B<A;)if(x[M++]=b[B++],M==this.blockSize){o(this,x),M=0;break}}this.h=M,this.o+=A},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var A=1;A<b.length-8;++A)b[A]=0;var k=8*this.o;for(A=b.length-8;A<b.length;++A)b[A]=k&255,k/=256;for(this.u(b),b=Array(16),A=k=0;4>A;++A)for(var x=0;32>x;x+=8)b[k++]=this.g[A]>>>x&255;return b};function a(b,A){var k=h;return Object.prototype.hasOwnProperty.call(k,b)?k[b]:k[b]=A(b)}function u(b,A){this.h=A;for(var k=[],x=!0,M=b.length-1;0<=M;M--){var B=b[M]|0;x&&B==A||(k[M]=B,x=!1)}this.g=k}var h={};function f(b){return-128<=b&&128>b?a(b,function(A){return new u([A|0],0>A?-1:0)}):new u([b|0],0>b?-1:0)}function p(b){if(isNaN(b)||!isFinite(b))return E;if(0>b)return D(p(-b));for(var A=[],k=1,x=0;b>=k;x++)A[x]=b/k|0,k*=4294967296;return new u(A,0)}function v(b,A){if(b.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(b.charAt(0)=="-")return D(v(b.substring(1),A));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=p(Math.pow(A,8)),x=E,M=0;M<b.length;M+=8){var B=Math.min(8,b.length-M),P=parseInt(b.substring(M,M+B),A);8>B?(B=p(Math.pow(A,B)),x=x.j(B).add(p(P))):(x=x.j(k),x=x.add(p(P)))}return x}var E=f(0),T=f(1),I=f(16777216);n=u.prototype,n.m=function(){if(C(this))return-D(this).m();for(var b=0,A=1,k=0;k<this.g.length;k++){var x=this.i(k);b+=(0<=x?x:4294967296+x)*A,A*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(S(this))return"0";if(C(this))return"-"+D(this).toString(b);for(var A=p(Math.pow(b,6)),k=this,x="";;){var M=ie(k,A).g;k=$(k,M.j(A));var B=((0<k.g.length?k.g[0]:k.h)>>>0).toString(b);if(k=M,S(k))return B+x;for(;6>B.length;)B="0"+B;x=B+x}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function S(b){if(b.h!=0)return!1;for(var A=0;A<b.g.length;A++)if(b.g[A]!=0)return!1;return!0}function C(b){return b.h==-1}n.l=function(b){return b=$(this,b),C(b)?-1:S(b)?0:1};function D(b){for(var A=b.g.length,k=[],x=0;x<A;x++)k[x]=~b.g[x];return new u(k,~b.h).add(T)}n.abs=function(){return C(this)?D(this):this},n.add=function(b){for(var A=Math.max(this.g.length,b.g.length),k=[],x=0,M=0;M<=A;M++){var B=x+(this.i(M)&65535)+(b.i(M)&65535),P=(B>>>16)+(this.i(M)>>>16)+(b.i(M)>>>16);x=P>>>16,B&=65535,P&=65535,k[M]=P<<16|B}return new u(k,k[k.length-1]&-2147483648?-1:0)};function $(b,A){return b.add(D(A))}n.j=function(b){if(S(this)||S(b))return E;if(C(this))return C(b)?D(this).j(D(b)):D(D(this).j(b));if(C(b))return D(this.j(D(b)));if(0>this.l(I)&&0>b.l(I))return p(this.m()*b.m());for(var A=this.g.length+b.g.length,k=[],x=0;x<2*A;x++)k[x]=0;for(x=0;x<this.g.length;x++)for(var M=0;M<b.g.length;M++){var B=this.i(x)>>>16,P=this.i(x)&65535,Be=b.i(M)>>>16,st=b.i(M)&65535;k[2*x+2*M]+=P*st,F(k,2*x+2*M),k[2*x+2*M+1]+=B*st,F(k,2*x+2*M+1),k[2*x+2*M+1]+=P*Be,F(k,2*x+2*M+1),k[2*x+2*M+2]+=B*Be,F(k,2*x+2*M+2)}for(x=0;x<A;x++)k[x]=k[2*x+1]<<16|k[2*x];for(x=A;x<2*A;x++)k[x]=0;return new u(k,0)};function F(b,A){for(;(b[A]&65535)!=b[A];)b[A+1]+=b[A]>>>16,b[A]&=65535,A++}function j(b,A){this.g=b,this.h=A}function ie(b,A){if(S(A))throw Error("division by zero");if(S(b))return new j(E,E);if(C(b))return A=ie(D(b),A),new j(D(A.g),D(A.h));if(C(A))return A=ie(b,D(A)),new j(D(A.g),A.h);if(30<b.g.length){if(C(b)||C(A))throw Error("slowDivide_ only works with positive integers.");for(var k=T,x=A;0>=x.l(b);)k=Q(k),x=Q(x);var M=ee(k,1),B=ee(x,1);for(x=ee(x,2),k=ee(k,2);!S(x);){var P=B.add(x);0>=P.l(b)&&(M=M.add(k),B=P),x=ee(x,1),k=ee(k,1)}return A=$(b,M.j(A)),new j(M,A)}for(M=E;0<=b.l(A);){for(k=Math.max(1,Math.floor(b.m()/A.m())),x=Math.ceil(Math.log(k)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),B=p(k),P=B.j(A);C(P)||0<P.l(b);)k-=x,B=p(k),P=B.j(A);S(B)&&(B=T),M=M.add(B),b=$(b,P)}return new j(M,b)}n.A=function(b){return ie(this,b).h},n.and=function(b){for(var A=Math.max(this.g.length,b.g.length),k=[],x=0;x<A;x++)k[x]=this.i(x)&b.i(x);return new u(k,this.h&b.h)},n.or=function(b){for(var A=Math.max(this.g.length,b.g.length),k=[],x=0;x<A;x++)k[x]=this.i(x)|b.i(x);return new u(k,this.h|b.h)},n.xor=function(b){for(var A=Math.max(this.g.length,b.g.length),k=[],x=0;x<A;x++)k[x]=this.i(x)^b.i(x);return new u(k,this.h^b.h)};function Q(b){for(var A=b.g.length+1,k=[],x=0;x<A;x++)k[x]=b.i(x)<<1|b.i(x-1)>>>31;return new u(k,b.h)}function ee(b,A){var k=A>>5;A%=32;for(var x=b.g.length-k,M=[],B=0;B<x;B++)M[B]=0<A?b.i(B+k)>>>A|b.i(B+k+1)<<32-A:b.i(B+k);return new u(M,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,bR=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,Es=u}).apply(typeof VE<"u"?VE:typeof self<"u"?self:typeof window<"u"?window:{});var Th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kR,tu,NR,Fh,og,OR,xR,DR;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Th=="object"&&Th];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function o(c,g){if(g)e:{var _=r;c=c.split(".");for(var R=0;R<c.length-1;R++){var q=c[R];if(!(q in _))break e;_=_[q]}c=c[c.length-1],R=_[c],g=g(R),g!=R&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,R=!1,q={next:function(){if(!R&&_<c.length){var X=_++;return{value:g(X,c[X]),done:!1}}return R=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function E(c,g,_){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,R),c.apply(g,q)}}return function(){return c.apply(g,arguments)}}function T(c,g,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,T.apply(null,arguments)}function I(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var R=_.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function S(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(R,q,X){for(var de=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)de[ft-2]=arguments[ft];return g.prototype[q].apply(R,de)}}function C(c){const g=c.length;if(0<g){const _=Array(g);for(let R=0;R<g;R++)_[R]=c[R];return _}return[]}function D(c,g){for(let _=1;_<arguments.length;_++){const R=arguments[_];if(f(R)){const q=c.length||0,X=R.length||0;c.length=q+X;for(let de=0;de<X;de++)c[q+de]=R[de]}else c.push(R)}}class ${constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function F(c){return/^[\s\xa0]*$/.test(c)}function j(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function ie(c){return ie[" "](c),c}ie[" "]=function(){};var Q=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function ee(c,g,_){for(const R in c)g.call(_,c[R],R,c)}function b(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function A(c){const g={};for(const _ in c)g[_]=c[_];return g}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,g){let _,R;for(let q=1;q<arguments.length;q++){R=arguments[q];for(_ in R)c[_]=R[_];for(let X=0;X<k.length;X++)_=k[X],Object.prototype.hasOwnProperty.call(R,_)&&(c[_]=R[_])}}function M(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function B(c){h.setTimeout(()=>{throw c},0)}function P(){var c=Te;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Be{constructor(){this.h=this.g=null}add(g,_){const R=st.get();R.set(g,_),this.h?this.h.next=R:this.g=R,this.h=R}}var st=new $(()=>new We,c=>c.reset());class We{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ze,ue=!1,Te=new Be,re=()=>{const c=h.Promise.resolve(void 0);ze=()=>{c.then(V)}};var V=()=>{for(var c;c=P();){try{c.h.call(c.g)}catch(_){B(_)}var g=st;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ue=!1};function N(){this.s=this.s,this.C=this.C}N.prototype.s=!1,N.prototype.ma=function(){this.s||(this.s=!0,this.N())},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var te=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};h.addEventListener("test",_,g),h.removeEventListener("test",_,g)}catch{}return c}();function fe(c,g){if(J.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(Q){e:{try{ie(g.nodeName);var q=!0;break e}catch{}q=!1}q||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ce[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&fe.aa.h.call(this)}}S(fe,J);var ce={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),we=0;function ge(c,g,_,R,q){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!R,this.ha=q,this.key=++we,this.da=this.fa=!1}function qe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function dt(c){this.src=c,this.g={},this.h=0}dt.prototype.add=function(c,g,_,R,q){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var de=it(c,g,R,q);return-1<de?(g=c[de],_||(g.fa=!1)):(g=new ge(g,this.src,X,!!R,q),g.fa=_,c.push(g)),g};function Je(c,g){var _=g.type;if(_ in c.g){var R=c.g[_],q=Array.prototype.indexOf.call(R,g,void 0),X;(X=0<=q)&&Array.prototype.splice.call(R,q,1),X&&(qe(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function it(c,g,_,R){for(var q=0;q<c.length;++q){var X=c[q];if(!X.da&&X.listener==g&&X.capture==!!_&&X.ha==R)return q}return-1}var Wt="closure_lm_"+(1e6*Math.random()|0),On={};function en(c,g,_,R,q){if(Array.isArray(g)){for(var X=0;X<g.length;X++)en(c,g[X],_,R,q);return null}return _=di(_),c&&c[Se]?c.K(g,_,p(R)?!!R.capture:!!R,q):Kt(c,g,_,!1,R,q)}function Kt(c,g,_,R,q,X){if(!g)throw Error("Invalid event type");var de=p(q)?!!q.capture:!!q,ft=Hi(c);if(ft||(c[Wt]=ft=new dt(c)),_=ft.add(g,_,R,de,X),_.proxy)return _;if(R=Bo(),_.proxy=R,R.src=c,R.listener=_,c.addEventListener)te||(q=de),q===void 0&&(q=!1),c.addEventListener(g.toString(),R,q);else if(c.attachEvent)c.attachEvent(ar(g.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Bo(){function c(_){return g.call(c.src,c.listener,_)}const g=qi;return c}function ji(c,g,_,R,q){if(Array.isArray(g))for(var X=0;X<g.length;X++)ji(c,g[X],_,R,q);else R=p(R)?!!R.capture:!!R,_=di(_),c&&c[Se]?(c=c.i,g=String(g).toString(),g in c.g&&(X=c.g[g],_=it(X,_,R,q),-1<_&&(qe(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete c.g[g],c.h--)))):c&&(c=Hi(c))&&(g=c.g[g.toString()],c=-1,g&&(c=it(g,_,R,q)),(_=-1<c?g[c]:null)&&Gn(_))}function Gn(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Se])Je(g.i,c);else{var _=c.type,R=c.proxy;g.removeEventListener?g.removeEventListener(_,R,c.capture):g.detachEvent?g.detachEvent(ar(_),R):g.addListener&&g.removeListener&&g.removeListener(R),(_=Hi(g))?(Je(_,c),_.h==0&&(_.src=null,g[Wt]=null)):qe(c)}}}function ar(c){return c in On?On[c]:On[c]="on"+c}function qi(c,g){if(c.da)c=!0;else{g=new fe(g,this);var _=c.listener,R=c.ha||c.src;c.fa&&Gn(c),c=_.call(R,g)}return c}function Hi(c){return c=c[Wt],c instanceof dt?c:null}var zr="__closure_events_fn_"+(1e9*Math.random()>>>0);function di(c){return typeof c=="function"?c:(c[zr]||(c[zr]=function(g){return c.handleEvent(g)}),c[zr])}function Lt(){N.call(this),this.i=new dt(this),this.M=this,this.F=null}S(Lt,N),Lt.prototype[Se]=!0,Lt.prototype.removeEventListener=function(c,g,_,R){ji(this,c,g,_,R)};function Vt(c,g){var _,R=c.F;if(R)for(_=[];R;R=R.F)_.push(R);if(c=c.M,R=g.type||g,typeof g=="string")g=new J(g,c);else if(g instanceof J)g.target=g.target||c;else{var q=g;g=new J(R,c),x(g,q)}if(q=!0,_)for(var X=_.length-1;0<=X;X--){var de=g.g=_[X];q=_r(de,R,!0,g)&&q}if(de=g.g=c,q=_r(de,R,!0,g)&&q,q=_r(de,R,!1,g)&&q,_)for(X=0;X<_.length;X++)de=g.g=_[X],q=_r(de,R,!1,g)&&q}Lt.prototype.N=function(){if(Lt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],R=0;R<_.length;R++)qe(_[R]);delete c.g[g],c.h--}}this.F=null},Lt.prototype.K=function(c,g,_,R){return this.i.add(String(c),g,!1,_,R)},Lt.prototype.L=function(c,g,_,R){return this.i.add(String(c),g,!0,_,R)};function _r(c,g,_,R){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var q=!0,X=0;X<g.length;++X){var de=g[X];if(de&&!de.da&&de.capture==_){var ft=de.listener,Gt=de.ha||de.src;de.fa&&Je(c.i,de),q=ft.call(Gt,R)!==!1&&q}}return q&&!R.defaultPrevented}function zo(c,g,_){if(typeof c=="function")_&&(c=T(c,_));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(c,g||0)}function jr(c){c.g=zo(()=>{c.g=null,c.i&&(c.i=!1,jr(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class fi extends N{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:jr(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(c){N.call(this),this.h=c,this.g={}}S(qr,N);var jo=[];function qo(c){ee(c.g,function(g,_){this.g.hasOwnProperty(_)&&Gn(g)},c),c.g={}}qr.prototype.N=function(){qr.aa.N.call(this),qo(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var W=h.JSON.stringify,z=h.JSON.parse,ae=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function pe(){}pe.prototype.h=null;function me(c){return c.h||(c.h=c.i())}function _e(){}var Pe={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ke(){J.call(this,"d")}S(ke,J);function Oe(){J.call(this,"c")}S(Oe,J);var Le={},ut=null;function Nt(){return ut=ut||new Lt}Le.La="serverreachability";function St(c){J.call(this,Le.La,c)}S(St,J);function Ot(c){const g=Nt();Vt(g,new St(g))}Le.STAT_EVENT="statevent";function an(c,g){J.call(this,Le.STAT_EVENT,c),this.stat=g}S(an,J);function pt(c){const g=Nt();Vt(g,new an(g,c))}Le.Ma="timingevent";function Er(c,g){J.call(this,Le.Ma,c),this.size=g}S(Er,J);function ln(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function Qn(){this.g=!0}Qn.prototype.xa=function(){this.g=!1};function Ho(c,g,_,R,q,X){c.info(function(){if(c.g)if(X)for(var de="",ft=X.split("&"),Gt=0;Gt<ft.length;Gt++){var tt=ft[Gt].split("=");if(1<tt.length){var tn=tt[0];tt=tt[1];var $t=tn.split("_");de=2<=$t.length&&$t[1]=="type"?de+(tn+"="+tt+"&"):de+(tn+"=redacted&")}}else de=null;else de=X;return"XMLHTTP REQ ("+R+") [attempt "+q+"]: "+g+`
`+_+`
`+de})}function Ns(c,g,_,R,q,X,de){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+q+"]: "+g+`
`+_+`
`+X+" "+de})}function wr(c,g,_,R){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Pf(c,_)+(R?" "+R:"")})}function ll(c,g){c.info(function(){return"TIMEOUT: "+g})}Qn.prototype.info=function(){};function Pf(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var R=_[c];if(!(2>R.length)){var q=R[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var de=1;de<q.length;de++)q[de]=""}}}}return W(_)}catch{return g}}var Os={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tr;function Wo(){}S(Wo,pe),Wo.prototype.g=function(){return new XMLHttpRequest},Wo.prototype.i=function(){return{}},Tr=new Wo;function Sr(c,g,_,R){this.j=c,this.i=g,this.l=_,this.R=R||1,this.U=new qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ec}function ec(){this.i=null,this.g="",this.h=!1}var ul={},xs={};function Ds(c,g,_){c.L=1,c.v=Yi(Xn(g)),c.m=_,c.P=!0,cl(c,null)}function cl(c,g){c.F=Date.now(),yt(c),c.A=Xn(c.v);var _=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),Ji(_.i,"t",R),c.C=0,_=c.j.J,c.h=new ec,c.g=vc(c.j,_?g:null,!c.m),0<c.O&&(c.M=new fi(T(c.Y,c,c.g),c.O)),g=c.U,_=c.g,R=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(jo[0]=q.toString()),q=jo);for(var X=0;X<q.length;X++){var de=en(_,q[X],R||g.handleEvent,!1,g.h||g);if(!de)break;g.g[de.key]=de}g=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Ot(),Ho(c.i,c.u,c.A,c.l,c.R,c.m)}Sr.prototype.ca=function(c){c=c.target;const g=this.M;g&&Dn(c)==3?g.j():this.Y(c)},Sr.prototype.Y=function(c){try{if(c==this.g)e:{const $t=Dn(this.g);var g=this.g.Ba();const cr=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||gl(this.g)))){this.J||$t!=4||g==7||(g==8||0>=cr?Ot(3):Ot(2)),Ko(this);var _=this.g.Z();this.X=_;t:if(tc(this)){var R=gl(this.g);c="";var q=R.length,X=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){lr(this),Wi(this);var de="";break t}this.h.i=new h.TextDecoder}for(g=0;g<q;g++)this.h.h=!0,c+=this.h.i.decode(R[g],{stream:!(X&&g==q-1)});R.length=0,this.h.g+=c,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=_==200,Ns(this.i,this.u,this.A,this.l,this.R,$t,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ft,Gt=this.g;if((ft=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(ft)){var tt=ft;break t}}tt=null}if(_=tt)wr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hl(this,_);else{this.o=!1,this.s=3,pt(12),lr(this),Wi(this);break e}}if(this.P){_=!0;let Zn;for(;!this.J&&this.C<de.length;)if(Zn=bf(this,de),Zn==xs){$t==4&&(this.s=4,pt(14),_=!1),wr(this.i,this.l,null,"[Incomplete Response]");break}else if(Zn==ul){this.s=4,pt(15),wr(this.i,this.l,de,"[Invalid Chunk]"),_=!1;break}else wr(this.i,this.l,Zn,null),hl(this,Zn);if(tc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||de.length!=0||this.h.h||(this.s=1,pt(16),_=!1),this.o=this.o&&_,!_)wr(this.i,this.l,de,"[Invalid Chunked Response]"),lr(this),Wi(this);else if(0<de.length&&!this.W){this.W=!0;var tn=this.j;tn.g==this&&tn.ba&&!tn.M&&(tn.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),vl(tn),tn.M=!0,pt(11))}}else wr(this.i,this.l,de,null),hl(this,de);$t==4&&lr(this),this.o&&!this.J&&($t==4?Hs(this.j,this):(this.o=!1,yt(this)))}else $s(this.g),_==400&&0<de.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),lr(this),Wi(this)}}}catch{}finally{}};function tc(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function bf(c,g){var _=c.C,R=g.indexOf(`
`,_);return R==-1?xs:(_=Number(g.substring(_,R)),isNaN(_)?ul:(R+=1,R+_>g.length?xs:(g=g.slice(R,R+_),c.C=R+_,g)))}Sr.prototype.cancel=function(){this.J=!0,lr(this)};function yt(c){c.S=Date.now()+c.I,nc(c,c.I)}function nc(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ln(T(c.ba,c),g)}function Ko(c){c.B&&(h.clearTimeout(c.B),c.B=null)}Sr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ll(this.i,this.A),this.L!=2&&(Ot(),pt(17)),lr(this),this.s=2,Wi(this)):nc(this,this.S-c)};function Wi(c){c.j.G==0||c.J||Hs(c.j,c)}function lr(c){Ko(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,qo(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function hl(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Pn(_.h,c))){if(!c.K&&Pn(_.h,c)&&_.G==3){try{var R=_.Da.g.parse(g)}catch{R=null}if(Array.isArray(R)&&R.length==3){var q=R;if(q[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)qs(_),Pr(_);else break e;js(_),pt(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=ln(T(_.Za,_),6e3));if(1>=ic(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else vi(_,11)}else if((c.K||_.g==c)&&qs(_),!F(g))for(q=_.Da.g.parse(g),g=0;g<q.length;g++){let tt=q[g];if(_.T=tt[0],tt=tt[1],_.G==2)if(tt[0]=="c"){_.K=tt[1],_.ia=tt[2];const tn=tt[3];tn!=null&&(_.la=tn,_.j.info("VER="+_.la));const $t=tt[4];$t!=null&&(_.Aa=$t,_.j.info("SVER="+_.Aa));const cr=tt[5];cr!=null&&typeof cr=="number"&&0<cr&&(R=1.5*cr,_.L=R,_.j.info("backChannelRequestTimeoutMs_="+R)),R=_;const Zn=c.g;if(Zn){const es=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(es){var X=R.h;X.g||es.indexOf("spdy")==-1&&es.indexOf("quic")==-1&&es.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(dl(X,X.h),X.h=null))}if(R.D){const Ks=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ks&&(R.ya=Ks,mt(R.I,R.D,Ks))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),R=_;var de=c;if(R.qa=yc(R,R.J?R.ia:null,R.W),de.K){oc(R.h,de);var ft=de,Gt=R.L;Gt&&(ft.I=Gt),ft.B&&(Ko(ft),yt(ft)),R.g=de}else Zo(R);0<_.i.length&&Gr(_)}else tt[0]!="stop"&&tt[0]!="close"||vi(_,7);else _.G==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?vi(_,7):cn(_):tt[0]!="noop"&&_.l&&_.l.ta(tt),_.v=0)}}Ot(4)}catch{}}var rc=class{constructor(c,g){this.g=c,this.map=g}};function Go(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Yn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ic(c){return c.h?1:c.g?c.g.size:0}function Pn(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function dl(c,g){c.g?c.g.add(g):c.h=g}function oc(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Go.prototype.cancel=function(){if(this.i=sc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function sc(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return C(c.i)}function Ls(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,R=0;R<_;R++)g.push(c[R]);return g}g=[],_=0;for(R in c)g[_++]=c[R];return g}function Vs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const R in c)g[_++]=R;return g}}}function Ki(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Vs(c),R=Ls(c),q=R.length,X=0;X<q;X++)g.call(void 0,R[X],_&&_[X],c)}var Qo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kf(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var R=c[_].indexOf("="),q=null;if(0<=R){var X=c[_].substring(0,R);q=c[_].substring(R+1)}else X=c[_];g(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function pi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pi){this.h=c.h,Yo(this,c.j),this.o=c.o,this.g=c.g,Gi(this,c.s),this.l=c.l;var g=c.i,_=new Hr;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Qi(this,_),this.m=c.m}else c&&(g=String(c).match(Qo))?(this.h=!1,Yo(this,g[1]||"",!0),this.o=Ze(g[2]||""),this.g=Ze(g[3]||"",!0),Gi(this,g[4]),this.l=Ze(g[5]||"",!0),Qi(this,g[6]||"",!0),this.m=Ze(g[7]||"")):(this.h=!1,this.i=new Hr(null,this.h))}pi.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Xi(g,Ms,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Xi(g,Ms,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Xi(_,_.charAt(0)=="/"?uc:lc,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Xi(_,fl)),c.join("")};function Xn(c){return new pi(c)}function Yo(c,g,_){c.j=_?Ze(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Gi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Qi(c,g,_){g instanceof Hr?(c.i=g,Wr(c.i,c.h)):(_||(g=Xi(g,cc)),c.i=new Hr(g,c.h))}function mt(c,g,_){c.i.set(g,_)}function Yi(c){return mt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ze(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Xi(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,ac),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ac(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ms=/[#\/\?@]/g,lc=/[#\?:]/g,uc=/[#\?]/g,cc=/[#\?@]/g,fl=/#/g;function Hr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function un(c){c.g||(c.g=new Map,c.h=0,c.i&&kf(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=Hr.prototype,n.add=function(c,g){un(this),this.i=null,c=ur(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Rr(c,g){un(c),g=ur(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Ir(c,g){return un(c),g=ur(c,g),c.g.has(g)}n.forEach=function(c,g){un(this),this.g.forEach(function(_,R){_.forEach(function(q){c.call(g,q,R,this)},this)},this)},n.na=function(){un(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let R=0;R<g.length;R++){const q=c[R];for(let X=0;X<q.length;X++)_.push(g[R])}return _},n.V=function(c){un(this);let g=[];if(typeof c=="string")Ir(this,c)&&(g=g.concat(this.g.get(ur(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return un(this),this.i=null,c=ur(this,c),Ir(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Ji(c,g,_){Rr(c,g),0<_.length&&(c.i=null,c.g.set(ur(c,g),C(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var R=g[_];const X=encodeURIComponent(String(R)),de=this.V(R);for(R=0;R<de.length;R++){var q=X;de[R]!==""&&(q+="="+encodeURIComponent(String(de[R]))),c.push(q)}}return this.i=c.join("&")};function ur(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Wr(c,g){g&&!c.j&&(un(c),c.i=null,c.g.forEach(function(_,R){var q=R.toLowerCase();R!=q&&(Rr(this,R),Ji(this,q,_))},c)),c.j=g}function Nf(c,g){const _=new Qn;if(h.Image){const R=new Image;R.onload=I(xn,_,"TestLoadImage: loaded",!0,g,R),R.onerror=I(xn,_,"TestLoadImage: error",!1,g,R),R.onabort=I(xn,_,"TestLoadImage: abort",!1,g,R),R.ontimeout=I(xn,_,"TestLoadImage: timeout",!1,g,R),h.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else g(!1)}function hc(c,g){const _=new Qn,R=new AbortController,q=setTimeout(()=>{R.abort(),xn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:R.signal}).then(X=>{clearTimeout(q),X.ok?xn(_,"TestPingServer: ok",!0,g):xn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(q),xn(_,"TestPingServer: error",!1,g)})}function xn(c,g,_,R,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),R(_)}catch{}}function Of(){this.g=new ae}function dc(c,g,_){const R=_||"";try{Ki(c,function(q,X){let de=q;p(q)&&(de=W(q)),g.push(R+X+"="+encodeURIComponent(de))})}catch(q){throw g.push(R+"type="+encodeURIComponent("_badmap")),q}}function mi(c){this.l=c.Ub||null,this.j=c.eb||!1}S(mi,pe),mi.prototype.g=function(){return new Xo(this.l,this.j)},mi.prototype.i=function(c){return function(){return c}}({});function Xo(c,g){Lt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Xo,Lt),n=Xo.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Cr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ar(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Cr(this)),this.g&&(this.readyState=3,Cr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fc(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function fc(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Ar(this):Cr(this),this.readyState==3&&fc(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Ar(this))},n.Qa=function(c){this.g&&(this.response=c,Ar(this))},n.ga=function(){this.g&&Ar(this)};function Ar(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Cr(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Cr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Xo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function gi(c){let g="";return ee(c,function(_,R){g+=R,g+=":",g+=_,g+=`\r
`}),g}function Zi(c,g,_){e:{for(R in _){var R=!1;break e}R=!0}R||(_=gi(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):mt(c,g,_))}function Rt(c){Lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Rt,Lt);var xf=/^https?$/i,pl=["POST","PUT"];n=Rt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tr.g(),this.v=this.o?me(this.o):me(Tr),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(X){Jo(this,X);return}if(c=_||"",_=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var q in R)_.set(q,R[q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const X of R.keys())_.set(X,R.get(X));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),q=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(pl,g,void 0))||R||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,de]of _)this.g.setRequestHeader(X,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Us(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){Jo(this,X)}};function Jo(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Fs(c),Jn(c)}function Fs(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Vt(this,"complete"),Vt(this,"abort"),Jn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jn(this,!0)),Rt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ml(this):this.bb())},n.bb=function(){ml(this)};function ml(c){if(c.h&&typeof u<"u"&&(!c.v[1]||Dn(c)!=4||c.Z()!=2)){if(c.u&&Dn(c)==4)zo(c.Ea,0,c);else if(Vt(c,"readystatechange"),Dn(c)==4){c.h=!1;try{const de=c.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var R;if(R=de===0){var q=String(c.D).match(Qo)[1]||null;!q&&h.self&&h.self.location&&(q=h.self.location.protocol.slice(0,-1)),R=!xf.test(q?q.toLowerCase():"")}_=R}if(_)Vt(c,"complete"),Vt(c,"success");else{c.m=6;try{var X=2<Dn(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",Fs(c)}}finally{Jn(c)}}}}function Jn(c,g){if(c.g){Us(c);const _=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Vt(c,"ready");try{_.onreadystatechange=R}catch{}}}function Us(c){c.I&&(h.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Dn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),z(g)}};function gl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $s(c){const g={};c=(c.g&&2<=Dn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(F(c[R]))continue;var _=M(c[R]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=g[q]||[];g[q]=X,X.push(_)}b(g,function(R){return R.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kr(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function yl(c){this.Aa=0,this.i=[],this.j=new Qn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kr("baseRetryDelayMs",5e3,c),this.cb=Kr("retryDelaySeedMs",1e4,c),this.Wa=Kr("forwardChannelMaxRetries",2,c),this.wa=Kr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Go(c&&c.concurrentRequestLimit),this.Da=new Of,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=yl.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,R){pt(0),this.W=c,this.H=g||{},_&&R!==void 0&&(this.H.OSID=_,this.H.OAID=R),this.F=this.X,this.I=yc(this,null,this.W),Gr(this)};function cn(c){if(Bs(c),c.G==3){var g=c.U++,_=Xn(c.I);if(mt(_,"SID",c.K),mt(_,"RID",g),mt(_,"TYPE","terminate"),yi(c,_),g=new Sr(c,c.j,g),g.L=2,g.v=Yi(Xn(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=g.v,_=!0),_||(g.g=vc(g.j,null),g.g.ea(g.v)),g.F=Date.now(),yt(g)}gc(c)}function Pr(c){c.g&&(vl(c),c.g.cancel(),c.g=null)}function Bs(c){Pr(c),c.u&&(h.clearTimeout(c.u),c.u=null),qs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function Gr(c){if(!Yn(c.h)&&!c.s){c.s=!0;var g=c.Ga;ze||re(),ue||(ze(),ue=!0),Te.add(g,c),c.B=0}}function Df(c,g){return ic(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ln(T(c.Ga,c,g),mc(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new Sr(this,this.j,c);let X=this.o;if(this.S&&(X?(X=A(X),x(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var R=this.i[_];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(g+=R,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=eo(this,q,g),_=Xn(this.I),mt(_,"RID",c),mt(_,"CVER",22),this.D&&mt(_,"X-HTTP-Session-Id",this.D),yi(this,_),X&&(this.O?g="headers="+encodeURIComponent(String(gi(X)))+"&"+g:this.m&&Zi(_,this.m,X)),dl(this.h,q),this.Ua&&mt(_,"TYPE","init"),this.P?(mt(_,"$req",g),mt(_,"SID","null"),q.T=!0,Ds(q,_,null)):Ds(q,_,g),this.G=2}}else this.G==3&&(c?zs(this,c):this.i.length==0||Yn(this.h)||zs(this))};function zs(c,g){var _;g?_=g.l:_=c.U++;const R=Xn(c.I);mt(R,"SID",c.K),mt(R,"RID",_),mt(R,"AID",c.T),yi(c,R),c.m&&c.o&&Zi(R,c.m,c.o),_=new Sr(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=eo(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),dl(c.h,_),Ds(_,R,g)}function yi(c,g){c.H&&ee(c.H,function(_,R){mt(g,R,_)}),c.l&&Ki({},function(_,R){mt(g,R,_)})}function eo(c,g,_){_=Math.min(c.i.length,_);var R=c.l?T(c.l.Na,c.l,c):null;e:{var q=c.i;let X=-1;for(;;){const de=["count="+_];X==-1?0<_?(X=q[0].g,de.push("ofs="+X)):X=0:de.push("ofs="+X);let ft=!0;for(let Gt=0;Gt<_;Gt++){let tt=q[Gt].g;const tn=q[Gt].map;if(tt-=X,0>tt)X=Math.max(0,q[Gt].g-100),ft=!1;else try{dc(tn,de,"req"+tt+"_")}catch{R&&R(tn)}}if(ft){R=de.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,R}function Zo(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ze||re(),ue||(ze(),ue=!0),Te.add(g,c),c.v=0}}function js(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ln(T(c.Fa,c),mc(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,pc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ln(T(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Pr(this),pc(this))};function vl(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function pc(c){c.g=new Sr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=Xn(c.qa);mt(g,"RID","rpc"),mt(g,"SID",c.K),mt(g,"AID",c.T),mt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&mt(g,"TO",c.ja),mt(g,"TYPE","xmlhttp"),yi(c,g),c.m&&c.o&&Zi(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Yi(Xn(g)),_.m=null,_.P=!0,cl(_,c)}n.Za=function(){this.C!=null&&(this.C=null,Pr(this),js(this),pt(19))};function qs(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Hs(c,g){var _=null;if(c.g==g){qs(c),vl(c),c.g=null;var R=2}else if(Pn(c.h,g))_=g.D,oc(c.h,g),R=1;else return;if(c.G!=0){if(g.o)if(R==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var q=c.B;R=Nt(),Vt(R,new Er(R,_)),Gr(c)}else Zo(c);else if(q=g.s,q==3||q==0&&0<g.X||!(R==1&&Df(c,g)||R==2&&js(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),q){case 1:vi(c,5);break;case 4:vi(c,10);break;case 3:vi(c,6);break;default:vi(c,2)}}}function mc(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function vi(c,g){if(c.j.info("Error code "+g),g==2){var _=T(c.fb,c),R=c.Xa;const q=!R;R=new pi(R||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Yo(R,"https"),Yi(R),q?Nf(R.toString(),_):hc(R.toString(),_)}else pt(2);c.G=0,c.l&&c.l.sa(g),gc(c),Bs(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function gc(c){if(c.G=0,c.ka=[],c.l){const g=sc(c.h);(g.length!=0||c.i.length!=0)&&(D(c.ka,g),D(c.ka,c.i),c.h.i.length=0,C(c.i),c.i.length=0),c.l.ra()}}function yc(c,g,_){var R=_ instanceof pi?Xn(_):new pi(_);if(R.g!="")g&&(R.g=g+"."+R.g),Gi(R,R.s);else{var q=h.location;R=q.protocol,g=g?g+"."+q.hostname:q.hostname,q=+q.port;var X=new pi(null);R&&Yo(X,R),g&&(X.g=g),q&&Gi(X,q),_&&(X.l=_),R=X}return _=c.D,g=c.ya,_&&g&&mt(R,_,g),mt(R,"VER",c.la),yi(c,R),R}function vc(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Rt(new mi({eb:_})):new Rt(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function _l(){}n=_l.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ws(){}Ws.prototype.g=function(c,g){return new bn(c,g)};function bn(c,g){Lt.call(this),this.g=new yl(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!F(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!F(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Qr(this)}S(bn,Lt),bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){cn(this.g)},bn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=W(c),c=_);g.i.push(new rc(g.Ya++,c)),g.G==3&&Gr(g)},bn.prototype.N=function(){this.g.l=null,delete this.j,cn(this.g),delete this.g,bn.aa.N.call(this)};function _c(c){ke.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}S(_c,ke);function Ec(){Oe.call(this),this.status=1}S(Ec,Oe);function Qr(c){this.g=c}S(Qr,_l),Qr.prototype.ua=function(){Vt(this.g,"a")},Qr.prototype.ta=function(c){Vt(this.g,new _c(c))},Qr.prototype.sa=function(c){Vt(this.g,new Ec)},Qr.prototype.ra=function(){Vt(this.g,"b")},Ws.prototype.createWebChannel=Ws.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,DR=function(){return new Ws},xR=function(){return Nt()},OR=Le,og={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Os.NO_ERROR=0,Os.TIMEOUT=8,Os.HTTP_ERROR=6,Fh=Os,Zu.COMPLETE="complete",NR=Zu,_e.EventType=Pe,Pe.OPEN="a",Pe.CLOSE="b",Pe.ERROR="c",Pe.MESSAGE="d",Lt.prototype.listen=Lt.prototype.K,tu=_e,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,kR=Rt}).apply(typeof Th<"u"?Th:typeof self<"u"?self:typeof window<"u"?window:{});const ME="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new qg("@firebase/firestore");function ga(){return Is.logLevel}function Re(n,...e){if(Is.logLevel<=Qe.DEBUG){const t=e.map(Ey);Is.debug(`Firestore (${nl}): ${n}`,...t)}}function Mi(n,...e){if(Is.logLevel<=Qe.ERROR){const t=e.map(Ey);Is.error(`Firestore (${nl}): ${n}`,...t)}}function Ua(n,...e){if(Is.logLevel<=Qe.WARN){const t=e.map(Ey);Is.warn(`Firestore (${nl}): ${n}`,...t)}}function Ey(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(n="Unexpected state"){const e=`FIRESTORE (${nl}) INTERNAL ASSERTION FAILED: `+n;throw Mi(e),new Error(e)}function ht(n,e){n||Fe()}function je(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Bi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Rn.UNAUTHENTICATED))}shutdown(){}}class CF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class PF{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ht(this.o===void 0);let r=this.i;const o=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new xi,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},h=f=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new xi)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ht(typeof r.accessToken=="string"),new LR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string"),new Rn(e)}}class bF{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class kF{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new bF(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OF{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ht(this.o===void 0);const r=a=>{a.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,Re("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const o=a=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ht(typeof t.token=="string"),this.R=t.token,new NF(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=xF(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%e.length))}return r}}function et(n,e){return n<e?-1:n>e?1:0}function $a(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Jt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ye(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new Jt(0,0))}static max(){return new $e(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,t,r){t===void 0?t=0:t>e.length&&Fe(),r===void 0?r=e.length-t:r>e.length-t&&Fe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Eu.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Eu?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=e.get(o),u=t.get(o);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class _t extends Eu{construct(e,t,r){return new _t(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new _t(t)}static emptyPath(){return new _t([])}}const DF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends Eu{construct(e,t,r){return new mn(e,t,r)}static isValidIdentifier(e){return DF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new mn(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new ye(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new ye(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ye(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(r+=h,o++):(a(),o++)}if(a(),u)throw new ye(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mn(t)}static emptyPath(){return new mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(_t.fromString(e))}static fromName(e){return new Ne(_t.fromString(e).popFirst(5))}static empty(){return new Ne(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return _t.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new _t(e.slice()))}}function LF(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=$e.fromTimestamp(r===1e9?new Jt(t+1,0):new Jt(t,r));return new ko(o,Ne.empty(),e)}function VF(n){return new ko(n.readTime,n.key,-1)}class ko{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ko($e.min(),Ne.empty(),-1)}static max(){return new ko($e.max(),Ne.empty(),-1)}}function MF(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ne.comparator(n.documentKey,e.documentKey),t!==0?t:et(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==FF)throw n;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,r)=>{t(e)})}static reject(e){return new ne((t,r)=>{r(e)})}static waitFor(e){return new ne((t,r)=>{let o=0,a=0,u=!1;e.forEach(h=>{++o,h.next(()=>{++a,u&&a===o&&t()},f=>r(f))}),u=!0,a===o&&t()})}static or(e){let t=ne.resolve(!1);for(const r of e)t=t.next(o=>o?ne.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,a)=>{r.push(t.call(this,o,a))}),this.waitFor(r)}static mapArray(e,t){return new ne((r,o)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next(v=>{u[p]=v,++h,h===a&&r(u)},v=>o(v))}})}static doWhile(e,t){return new ne((r,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):r()};a()})}}function $F(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function il(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}af.oe=-1;function lf(n){return n==null}function ld(n){return n===0&&1/n==-1/0}function BF(n){return typeof n=="number"&&Number.isInteger(n)&&!ld(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=FE(e)),e=jF(n.get(t),e);return FE(e)}function jF(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function FE(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Fo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function MR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,t){this.comparator=e,this.root=t||fn.EMPTY}insert(e,t){return new kt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sh(this.root,e,this.comparator,!0)}}class Sh{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??fn.RED,this.left=o??fn.EMPTY,this.right=a??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new fn(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return fn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();const e=this.left.check();if(e!==this.right.check())throw Fe();return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(e,t,r,o,a){return this}insert(e,t,r){return new fn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $E(this.data.getIterator())}getIteratorFrom(e){return new $E(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Zt(this.comparator);return t.data=e,t}}class $E{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.fields=e,e.sort(mn.comparator)}static empty(){return new or([])}unionWith(e){let t=new Zt(mn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new or(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $a(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new FR("Invalid base64 string: "+a):a}}(e);return new gn(t)}static fromUint8Array(e){const t=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new gn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gn.EMPTY_BYTE_STRING=new gn("");const qF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function No(n){if(ht(!!n),typeof n=="string"){let e=0;const t=qF.exec(n);if(ht(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ft(n.seconds),nanos:Ft(n.nanos)}}function Ft(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Oo(n){return typeof n=="string"?gn.fromBase64String(n):gn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function cf(n){const e=n.mapValue.fields.__previous_value__;return uf(e)?cf(e):e}function wu(n){const e=No(n.mapValue.fields.__local_write_time__.timestampValue);return new Jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e,t,r,o,a,u,h,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p}}class Tu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Tu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function xo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?uf(n)?4:KF(n)?9007199254740991:WF(n)?10:11:Fe()}function ui(n,e){if(n===e)return!0;const t=xo(n);if(t!==xo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return wu(n).isEqual(wu(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=No(o.timestampValue),h=No(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return Oo(o.bytesValue).isEqual(Oo(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return Ft(o.geoPointValue.latitude)===Ft(a.geoPointValue.latitude)&&Ft(o.geoPointValue.longitude)===Ft(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return Ft(o.integerValue)===Ft(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=Ft(o.doubleValue),h=Ft(a.doubleValue);return u===h?ld(u)===ld(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return $a(n.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if(UE(u)!==UE(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!ui(u[f],h[f])))return!1;return!0}(n,e);default:return Fe()}}function Su(n,e){return(n.values||[]).find(t=>ui(t,e))!==void 0}function Ba(n,e){if(n===e)return 0;const t=xo(n),r=xo(e);if(t!==r)return et(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return et(n.booleanValue,e.booleanValue);case 2:return function(a,u){const h=Ft(a.integerValue||a.doubleValue),f=Ft(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return BE(n.timestampValue,e.timestampValue);case 4:return BE(wu(n),wu(e));case 5:return et(n.stringValue,e.stringValue);case 6:return function(a,u){const h=Oo(a),f=Oo(u);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),f=u.split("/");for(let p=0;p<h.length&&p<f.length;p++){const v=et(h[p],f[p]);if(v!==0)return v}return et(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const h=et(Ft(a.latitude),Ft(u.latitude));return h!==0?h:et(Ft(a.longitude),Ft(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return zE(n.arrayValue,e.arrayValue);case 10:return function(a,u){var h,f,p,v;const E=a.fields||{},T=u.fields||{},I=(h=E.value)===null||h===void 0?void 0:h.arrayValue,S=(f=T.value)===null||f===void 0?void 0:f.arrayValue,C=et(((p=I==null?void 0:I.values)===null||p===void 0?void 0:p.length)||0,((v=S==null?void 0:S.values)===null||v===void 0?void 0:v.length)||0);return C!==0?C:zE(I,S)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Rh.mapValue&&u===Rh.mapValue)return 0;if(a===Rh.mapValue)return 1;if(u===Rh.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),p=u.fields||{},v=Object.keys(p);f.sort(),v.sort();for(let E=0;E<f.length&&E<v.length;++E){const T=et(f[E],v[E]);if(T!==0)return T;const I=Ba(h[f[E]],p[v[E]]);if(I!==0)return I}return et(f.length,v.length)}(n.mapValue,e.mapValue);default:throw Fe()}}function BE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return et(n,e);const t=No(n),r=No(e),o=et(t.seconds,r.seconds);return o!==0?o:et(t.nanos,r.nanos)}function zE(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=Ba(t[o],r[o]);if(a)return a}return et(t.length,r.length)}function za(n){return sg(n)}function sg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=No(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Oo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ne.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=sg(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const u of r)a?a=!1:o+=",",o+=`${u}:${sg(t.fields[u])}`;return o+"}"}(n.mapValue):Fe()}function Uh(n){switch(xo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cf(n);return e?16+Uh(e):16;case 5:return 2*n.stringValue.length;case 6:return Oo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,a)=>o+Uh(a),0)}(n.arrayValue);case 10:case 11:return function(r){let o=0;return Fo(r.fields,(a,u)=>{o+=a.length+Uh(u)}),o}(n.mapValue);default:throw Fe()}}function ud(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ag(n){return!!n&&"integerValue"in n}function wy(n){return!!n&&"arrayValue"in n}function jE(n){return!!n&&"nullValue"in n}function qE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $h(n){return!!n&&"mapValue"in n}function WF(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function uu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Fo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=uu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function KF(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!$h(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(t)}setAll(e){let t=mn.emptyPath(),r={},o=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,r,o),r={},o=[],t=h.popLast()}u?r[h.lastSegment()]=uu(u):o.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());$h(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];$h(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Fo(t,(o,a)=>e[o]=a);for(const o of r)delete e[o]}clone(){return new zn(uu(this.value))}}function UR(n){const e=[];return Fo(n.fields,(t,r)=>{const o=new mn([t]);if($h(r)){const a=UR(r.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new or(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,t,r,o,a,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new In(e,0,$e.min(),$e.min(),$e.min(),zn.empty(),0)}static newFoundDocument(e,t,r,o){return new In(e,1,t,$e.min(),r,o,0)}static newNoDocument(e,t){return new In(e,2,t,$e.min(),$e.min(),zn.empty(),0)}static newUnknownDocument(e,t){return new In(e,3,t,$e.min(),$e.min(),zn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof In&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,t){this.position=e,this.inclusive=t}}function HE(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],u=n.position[o];if(a.field.isKeyField()?r=Ne.comparator(Ne.fromName(u.referenceValue),t.key):r=Ba(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function WE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ui(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,t="asc"){this.field=e,this.dir=t}}function GF(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{}class Ht extends $R{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new YF(e,t,r):t==="array-contains"?new ZF(e,r):t==="in"?new eU(e,r):t==="not-in"?new tU(e,r):t==="array-contains-any"?new nU(e,r):new Ht(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new XF(e,r):new JF(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ba(t,this.value)):t!==null&&xo(this.value)===xo(t)&&this.matchesComparison(Ba(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ur extends $R{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Ur(e,t)}matches(e){return BR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function BR(n){return n.op==="and"}function zR(n){return QF(n)&&BR(n)}function QF(n){for(const e of n.filters)if(e instanceof Ur)return!1;return!0}function lg(n){if(n instanceof Ht)return n.field.canonicalString()+n.op.toString()+za(n.value);if(zR(n))return n.filters.map(e=>lg(e)).join(",");{const e=n.filters.map(t=>lg(t)).join(",");return`${n.op}(${e})`}}function jR(n,e){return n instanceof Ht?function(r,o){return o instanceof Ht&&r.op===o.op&&r.field.isEqual(o.field)&&ui(r.value,o.value)}(n,e):n instanceof Ur?function(r,o){return o instanceof Ur&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((a,u,h)=>a&&jR(u,o.filters[h]),!0):!1}(n,e):void Fe()}function qR(n){return n instanceof Ht?function(t){return`${t.field.canonicalString()} ${t.op} ${za(t.value)}`}(n):n instanceof Ur?function(t){return t.op.toString()+" {"+t.getFilters().map(qR).join(" ,")+"}"}(n):"Filter"}class YF extends Ht{constructor(e,t,r){super(e,t,r),this.key=Ne.fromName(r.referenceValue)}matches(e){const t=Ne.comparator(e.key,this.key);return this.matchesComparison(t)}}class XF extends Ht{constructor(e,t){super(e,"in",t),this.keys=HR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class JF extends Ht{constructor(e,t){super(e,"not-in",t),this.keys=HR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function HR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ne.fromName(r.referenceValue))}class ZF extends Ht{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wy(t)&&Su(t.arrayValue,this.value)}}class eU extends Ht{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Su(this.value.arrayValue,t)}}class tU extends Ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Su(this.value.arrayValue,t)}}class nU extends Ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Su(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e,t=null,r=[],o=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=u,this.endAt=h,this.ue=null}}function KE(n,e=null,t=[],r=[],o=null,a=null,u=null){return new rU(n,e,t,r,o,a,u)}function Ty(n){const e=je(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>lg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),lf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>za(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>za(r)).join(",")),e.ue=t}return e.ue}function Sy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!GF(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!jR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!WE(n.startAt,e.startAt)&&WE(n.endAt,e.endAt)}function ug(n){return Ne.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,t=null,r=[],o=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function iU(n,e,t,r,o,a,u,h){return new Ps(n,e,t,r,o,a,u,h)}function hf(n){return new Ps(n)}function GE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Ry(n){return n.collectionGroup!==null}function Aa(n){const e=je(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Zt(mn.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Ru(a,r))}),t.has(mn.keyField().canonicalString())||e.ce.push(new Ru(mn.keyField(),r))}return e.ce}function ii(n){const e=je(n);return e.le||(e.le=oU(e,Aa(n))),e.le}function oU(n,e){if(n.limitType==="F")return KE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Ru(o.field,a)});const t=n.endAt?new ja(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ja(n.startAt.position,n.startAt.inclusive):null;return KE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function cg(n,e){const t=n.filters.concat([e]);return new Ps(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function cd(n,e,t){return new Ps(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function df(n,e){return Sy(ii(n),ii(e))&&n.limitType===e.limitType}function WR(n){return`${Ty(ii(n))}|lt:${n.limitType}`}function ya(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>qR(o)).join(", ")}]`),lf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>za(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>za(o)).join(",")),`Target(${r})`}(ii(n))}; limitType=${n.limitType})`}function ff(n,e){return e.isFoundDocument()&&function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ne.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,o){for(const a of Aa(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(r,o){return!(r.startAt&&!function(u,h,f){const p=HE(u,h,f);return u.inclusive?p<=0:p<0}(r.startAt,Aa(r),o)||r.endAt&&!function(u,h,f){const p=HE(u,h,f);return u.inclusive?p>=0:p>0}(r.endAt,Aa(r),o))}(n,e)}function sU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function KR(n){return(e,t)=>{let r=!1;for(const o of Aa(n)){const a=aU(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function aU(n,e,t){const r=n.field.isKeyField()?Ne.comparator(e.key,t.key):function(a,u,h){const f=u.data.field(a),p=h.data.field(a);return f!==null&&p!==null?Ba(f,p):Fe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Fo(this.inner,(t,r)=>{for(const[o,a]of r)e(o,a)})}isEmpty(){return MR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=new kt(Ne.comparator);function Fi(){return lU}const GR=new kt(Ne.comparator);function nu(...n){let e=GR;for(const t of n)e=e.insert(t.key,t);return e}function QR(n){let e=GR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function gs(){return cu()}function YR(){return cu()}function cu(){return new bs(n=>n.toString(),(n,e)=>n.isEqual(e))}const uU=new kt(Ne.comparator),cU=new Zt(Ne.comparator);function Xe(...n){let e=cU;for(const t of n)e=e.add(t);return e}const hU=new Zt(et);function dU(){return hU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ld(e)?"-0":e}}function XR(n){return{integerValue:""+n}}function fU(n,e){return BF(e)?XR(e):Iy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(){this._=void 0}}function pU(n,e,t){return n instanceof hd?function(o,a){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&uf(a)&&(a=cf(a)),a&&(u.fields.__previous_value__=a),{mapValue:u}}(t,e):n instanceof Iu?ZR(n,e):n instanceof Au?eI(n,e):function(o,a){const u=JR(o,a),h=QE(u)+QE(o.Pe);return ag(u)&&ag(o.Pe)?XR(h):Iy(o.serializer,h)}(n,e)}function mU(n,e,t){return n instanceof Iu?ZR(n,e):n instanceof Au?eI(n,e):t}function JR(n,e){return n instanceof dd?function(r){return ag(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class hd extends pf{}class Iu extends pf{constructor(e){super(),this.elements=e}}function ZR(n,e){const t=tI(e);for(const r of n.elements)t.some(o=>ui(o,r))||t.push(r);return{arrayValue:{values:t}}}class Au extends pf{constructor(e){super(),this.elements=e}}function eI(n,e){let t=tI(e);for(const r of n.elements)t=t.filter(o=>!ui(o,r));return{arrayValue:{values:t}}}class dd extends pf{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function QE(n){return Ft(n.integerValue||n.doubleValue)}function tI(n){return wy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function gU(n,e){return n.field.isEqual(e.field)&&function(r,o){return r instanceof Iu&&o instanceof Iu||r instanceof Au&&o instanceof Au?$a(r.elements,o.elements,ui):r instanceof dd&&o instanceof dd?ui(r.Pe,o.Pe):r instanceof hd&&o instanceof hd}(n.transform,e.transform)}class yU{constructor(e,t){this.version=e,this.transformResults=t}}class qn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}let mf=class{};function nI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new gf(n.key,qn.none()):new ju(n.key,n.data,qn.none());{const t=n.data,r=zn.empty();let o=new Zt(mn.comparator);for(let a of e.fields)if(!o.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),o=o.add(a)}return new Uo(n.key,r,new or(o.toArray()),qn.none())}}function vU(n,e,t){n instanceof ju?function(o,a,u){const h=o.value.clone(),f=XE(o.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Uo?function(o,a,u){if(!Bh(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=XE(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(rI(o)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function hu(n,e,t,r){return n instanceof ju?function(a,u,h,f){if(!Bh(a.precondition,u))return h;const p=a.value.clone(),v=JE(a.fieldTransforms,f,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Uo?function(a,u,h,f){if(!Bh(a.precondition,u))return h;const p=JE(a.fieldTransforms,f,u),v=u.data;return v.setAll(rI(a)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(E=>E.field))}(n,e,t,r):function(a,u,h){return Bh(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function _U(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=JR(r.transform,o||null);a!=null&&(t===null&&(t=zn.empty()),t.set(r.field,a))}return t||null}function YE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&$a(r,o,(a,u)=>gU(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ju extends mf{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Uo extends mf{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function rI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function XE(n,e,t){const r=new Map;ht(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],u=a.transform,h=e.data.field(a.field);r.set(a.field,mU(u,h,t[o]))}return r}function JE(n,e,t){const r=new Map;for(const o of n){const a=o.transform,u=t.data.field(o.field);r.set(o.field,pU(a,u,e))}return r}class gf extends mf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EU extends mf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&vU(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=hu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=hu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=YR();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(o.key)?null:h;const f=nI(u,h);f!==null&&r.set(o.key,f),u.isValidDocument()||u.convertToNoDocument($e.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xe())}isEqual(e){return this.batchId===e.batchId&&$a(this.mutations,e.mutations,(t,r)=>YE(t,r))&&$a(this.baseMutations,e.baseMutations,(t,r)=>YE(t,r))}}class Ay{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){ht(e.mutations.length===r.length);let o=function(){return uU}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,r[u].version);return new Ay(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt,nt;function RU(n){switch(n){default:return Fe();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function iI(n){if(n===void 0)return Mi("GRPC error has no .code"),Z.UNKNOWN;switch(n){case zt.OK:return Z.OK;case zt.CANCELLED:return Z.CANCELLED;case zt.UNKNOWN:return Z.UNKNOWN;case zt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case zt.INTERNAL:return Z.INTERNAL;case zt.UNAVAILABLE:return Z.UNAVAILABLE;case zt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case zt.NOT_FOUND:return Z.NOT_FOUND;case zt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case zt.ABORTED:return Z.ABORTED;case zt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case zt.DATA_LOSS:return Z.DATA_LOSS;default:return Fe()}}(nt=zt||(zt={}))[nt.OK=0]="OK",nt[nt.CANCELLED=1]="CANCELLED",nt[nt.UNKNOWN=2]="UNKNOWN",nt[nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nt[nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nt[nt.NOT_FOUND=5]="NOT_FOUND",nt[nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",nt[nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",nt[nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",nt[nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nt[nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nt[nt.ABORTED=10]="ABORTED",nt[nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",nt[nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",nt[nt.INTERNAL=13]="INTERNAL",nt[nt.UNAVAILABLE=14]="UNAVAILABLE",nt[nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=new Es([4294967295,4294967295],0);function ZE(n){const e=IU().encode(n),t=new bR;return t.update(e),new Uint8Array(t.digest())}function ew(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Es([t,r],0),new Es([o,a],0)]}class Cy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ru(`Invalid padding: ${t}`);if(r<0)throw new ru(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ru(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Es.fromNumber(this.Te)}Ee(e,t,r){let o=e.add(t.multiply(Es.fromNumber(r)));return o.compare(AU)===1&&(o=new Es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=ZE(e),[r,o]=ew(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,o,a);if(!this.de(u))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Cy(a,o,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.Te===0)return;const t=ZE(e),[r,o]=ew(t);for(let a=0;a<this.hashCount;a++){const u=this.Ee(r,o,a);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,qu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new yf($e.min(),o,new kt(et),Fi(),Xe())}}class qu{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new qu(r,t,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t,r,o){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=o}}class oI{constructor(e,t){this.targetId=e,this.me=t}}class sI{constructor(e,t,r=gn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class tw{constructor(){this.fe=0,this.ge=nw(),this.pe=gn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Xe(),t=Xe(),r=Xe();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Fe()}}),new qu(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=nw()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ht(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class CU{constructor(e){this.Le=e,this.Be=new Map,this.ke=Fi(),this.qe=Ih(),this.Qe=Ih(),this.Ke=new kt(et)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:Fe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,r=e.me.count,o=this.Ye(t);if(o){const a=o.target;if(ug(a))if(r===0){const u=new Ne(a.path);this.We(t,u,In.newNoDocument(u,$e.min()))}else ht(r===1);else{const u=this.Ze(t);if(u!==r){const h=this.Xe(e),f=h?this.et(h,e,u):1;if(f!==0){this.He(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,p)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let u,h;try{u=Oo(r).toUint8Array()}catch(f){if(f instanceof FR)return Ua("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Cy(u,o,a)}catch(f){return Ua(f instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Te===0?null:h}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let o=0;return r.forEach(a=>{const u=this.Le.nt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.We(t,a,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((a,u)=>{const h=this.Ye(u);if(h){if(a.current&&ug(h.target)){const f=new Ne(h.target.path);this.st(f).has(u)||this.ot(u,f)||this.We(u,f,In.newNoDocument(f,e))}a.be&&(t.set(u,a.ve()),a.Ce())}});let r=Xe();this.Qe.forEach((a,u)=>{let h=!0;u.forEachWhile(f=>{const p=this.Ye(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(a))}),this.ke.forEach((a,u)=>u.setReadTime(e));const o=new yf(e,t,this.Ke,this.ke,r);return this.ke=Fi(),this.qe=Ih(),this.Qe=Ih(),this.Ke=new kt(et),o}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new tw,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Zt(et),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Zt(et),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||Re("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new tw),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Ih(){return new kt(Ne.comparator)}function nw(){return new kt(Ne.comparator)}const PU={asc:"ASCENDING",desc:"DESCENDING"},bU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kU={and:"AND",or:"OR"};class NU{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function hg(n,e){return n.useProto3Json||lf(e)?e:{value:e}}function fd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function OU(n,e){return fd(n,e.toTimestamp())}function oi(n){return ht(!!n),$e.fromTimestamp(function(t){const r=No(t);return new Jt(r.seconds,r.nanos)}(n))}function Py(n,e){return dg(n,e).canonicalString()}function dg(n,e){const t=function(o){return new _t(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function lI(n){const e=_t.fromString(n);return ht(fI(e)),e}function fg(n,e){return Py(n.databaseId,e.path)}function Im(n,e){const t=lI(e);if(t.get(1)!==n.databaseId.projectId)throw new ye(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ye(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ne(cI(t))}function uI(n,e){return Py(n.databaseId,e)}function xU(n){const e=lI(n);return e.length===4?_t.emptyPath():cI(e)}function pg(n){return new _t(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function cI(n){return ht(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function rw(n,e,t){return{name:fg(n,e),fields:t.value.mapValue.fields}}function DU(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(p,v){return p.useProto3Json?(ht(v===void 0||typeof v=="string"),gn.fromBase64String(v||"")):(ht(v===void 0||v instanceof Buffer||v instanceof Uint8Array),gn.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const v=p.code===void 0?Z.UNKNOWN:iI(p.code);return new ye(v,p.message||"")}(u);t=new sI(r,o,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Im(n,r.document.name),a=oi(r.document.updateTime),u=r.document.createTime?oi(r.document.createTime):$e.min(),h=new zn({mapValue:{fields:r.document.fields}}),f=In.newFoundDocument(o,a,u,h),p=r.targetIds||[],v=r.removedTargetIds||[];t=new zh(p,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Im(n,r.document),a=r.readTime?oi(r.readTime):$e.min(),u=In.newNoDocument(o,a),h=r.removedTargetIds||[];t=new zh([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Im(n,r.document),a=r.removedTargetIds||[];t=new zh([],a,o,null)}else{if(!("filter"in e))return Fe();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,u=new SU(o,a),h=r.targetId;t=new oI(h,u)}}return t}function LU(n,e){let t;if(e instanceof ju)t={update:rw(n,e.key,e.value)};else if(e instanceof gf)t={delete:fg(n,e.key)};else if(e instanceof Uo)t={update:rw(n,e.key,e.data),updateMask:qU(e.fieldMask)};else{if(!(e instanceof EU))return Fe();t={verify:fg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const h=u.transform;if(h instanceof hd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Iu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Au)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof dd)return{fieldPath:u.field.canonicalString(),increment:h.Pe};throw Fe()}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:OU(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Fe()}(n,e.precondition)),t}function VU(n,e){return n&&n.length>0?(ht(e!==void 0),n.map(t=>function(o,a){let u=o.updateTime?oi(o.updateTime):oi(a);return u.isEqual($e.min())&&(u=oi(a)),new yU(u,o.transformResults||[])}(t,e))):[]}function MU(n,e){return{documents:[uI(n,e.path)]}}function FU(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=uI(n,o);const a=function(p){if(p.length!==0)return dI(Ur.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(v=>function(T){return{field:va(T.field),direction:BU(T.dir)}}(v))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=hg(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ct:t,parent:o}}function UU(n){let e=xU(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){ht(r===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=function(E){const T=hI(E);return T instanceof Ur&&zR(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=function(E){return E.map(T=>function(S){return new Ru(_a(S.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(T))}(t.orderBy));let h=null;t.limit&&(h=function(E){let T;return T=typeof E=="object"?E.value:E,lf(T)?null:T}(t.limit));let f=null;t.startAt&&(f=function(E){const T=!!E.before,I=E.values||[];return new ja(I,T)}(t.startAt));let p=null;return t.endAt&&(p=function(E){const T=!E.before,I=E.values||[];return new ja(I,T)}(t.endAt)),iU(e,o,u,a,h,"F",f,p)}function $U(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function hI(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=_a(t.unaryFilter.field);return Ht.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=_a(t.unaryFilter.field);return Ht.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=_a(t.unaryFilter.field);return Ht.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=_a(t.unaryFilter.field);return Ht.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Fe()}}(n):n.fieldFilter!==void 0?function(t){return Ht.create(_a(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ur.create(t.compositeFilter.filters.map(r=>hI(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Fe()}}(t.compositeFilter.op))}(n):Fe()}function BU(n){return PU[n]}function zU(n){return bU[n]}function jU(n){return kU[n]}function va(n){return{fieldPath:n.canonicalString()}}function _a(n){return mn.fromServerFormat(n.fieldPath)}function dI(n){return n instanceof Ht?function(t){if(t.op==="=="){if(qE(t.value))return{unaryFilter:{field:va(t.field),op:"IS_NAN"}};if(jE(t.value))return{unaryFilter:{field:va(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(qE(t.value))return{unaryFilter:{field:va(t.field),op:"IS_NOT_NAN"}};if(jE(t.value))return{unaryFilter:{field:va(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:va(t.field),op:zU(t.op),value:t.value}}}(n):n instanceof Ur?function(t){const r=t.getFilters().map(o=>dI(o));return r.length===1?r[0]:{compositeFilter:{op:jU(t.op),filters:r}}}(n):Fe()}function qU(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function fI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,t,r,o,a=$e.min(),u=$e.min(),h=gn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Ro(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e){this.ht=e}}function WU(n){const e=UU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?cd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(){this.ln=new GU}addToCollectionParentIndex(e,t){return this.ln.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(ko.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(ko.min())}updateCollectionGroup(e,t,r){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class GU{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Zt(_t.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Zt(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Bn{static withCacheSize(e){return new Bn(e,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(41943040,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new qa(0)}static Qn(){return new qa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow([n,e],[t,r]){const o=et(n,t);return o===0?et(e,r):o}class QU{constructor(e){this.Gn=e,this.buffer=new Zt(ow),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();ow(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class YU{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){Re("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){il(t)?Re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await rl(t)}await this.Yn(3e5)})}}class XU{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(af.oe);const r=new QU(t);return this.Zn.forEachTarget(e,o=>r.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>r.Hn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(iw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iw):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,o,a,u,h,f,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,u=Date.now(),this.nthSequenceNumber(e,o))).next(E=>(r=E,h=Date.now(),this.removeTargets(e,r,t))).next(E=>(a=E,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(E=>(p=Date.now(),ga()<=Qe.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${E} documents in `+(p-f)+`ms
Total Duration: ${p-v}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:E})))}}function JU(n,e){return new XU(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(){this.changes=new bs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ne.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&hu(r.mutation,o,or.empty(),Jt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Xe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Xe()){const o=gs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(a=>{let u=nu();return a.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=gs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Xe()))}populateOverlays(e,t,r){const o=[];return r.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,o){let a=Fi();const u=cu(),h=function(){return cu()}();return t.forEach((f,p)=>{const v=r.get(p.key);o.has(p.key)&&(v===void 0||v.mutation instanceof Uo)?a=a.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),hu(v.mutation,p,v.mutation.getFieldMask(),Jt.now())):u.set(p.key,or.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,v)=>u.set(p,v)),t.forEach((p,v)=>{var E;return h.set(p,new e4(v,(E=u.get(p))!==null&&E!==void 0?E:null))}),h))}recalculateAndSaveOverlays(e,t){const r=cu();let o=new kt((u,h)=>u-h),a=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(f=>{const p=t.get(f);if(p===null)return;let v=r.get(f)||or.empty();v=h.applyToLocalView(p,v),r.set(f,v);const E=(o.get(h.batchId)||Xe()).add(f);o=o.insert(h.batchId,E)})}).next(()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,v=f.value,E=YR();v.forEach(T=>{if(!a.has(T)){const I=nI(t.get(T),r.get(T));I!==null&&E.set(T,I),a=a.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,E))}return ne.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(u){return Ne.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ry(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):ne.resolve(gs());let h=-1,f=a;return u.next(p=>ne.forEach(p,(v,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),a.get(v)?ne.resolve():this.remoteDocumentCache.getEntry(e,v).next(T=>{f=f.insert(v,T)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,Xe())).next(v=>({batchId:h,changes:QR(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ne(t)).next(r=>{let o=nu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let u=nu();return this.indexManager.getCollectionParents(e,a).next(h=>ne.forEach(h,f=>{const p=function(E,T){return new Ps(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,o).next(v=>{v.forEach((E,T)=>{u=u.insert(E,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o))).next(u=>{a.forEach((f,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,In.newInvalidDocument(v)))});let h=nu();return u.forEach((f,p)=>{const v=a.get(f);v!==void 0&&hu(v.mutation,p,or.empty(),Jt.now()),ff(t,p)&&(h=h.insert(f,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return ne.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:oi(o.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:WU(o.bundledQuery),readTime:oi(o.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this.overlays=new kt(Ne.comparator),this.Er=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const r=gs();return ne.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&r.set(o,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,a)=>{this.Tt(e,t,a)}),ne.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Er.get(r);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(r)),ne.resolve()}getOverlaysForCollection(e,t,r){const o=gs(),a=t.length+1,u=new Ne(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new kt((p,v)=>p-v);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let v=a.get(p.largestBatchId);v===null&&(v=gs(),a=a.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const h=gs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,v)=>h.set(p,v)),!(h.size()>=o)););return ne.resolve(h)}Tt(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const u=this.Er.get(o.largestBatchId).delete(r.key);this.Er.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new TU(t,r));let a=this.Er.get(t);a===void 0&&(a=Xe(),this.Er.set(t,a)),this.Er.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(){this.sessionToken=gn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(){this.dr=new Zt(sn.Ar),this.Rr=new Zt(sn.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const r=new sn(e,t);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new sn(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new Ne(new _t([])),r=new sn(t,e),o=new sn(t,e+1),a=[];return this.Rr.forEachInRange([r,o],u=>{this.gr(u),a.push(u.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Ne(new _t([])),r=new sn(t,e),o=new sn(t,e+1);let a=Xe();return this.Rr.forEachInRange([r,o],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new sn(e,0),r=this.dr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class sn{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Ne.comparator(e.key,t.key)||et(e.br,t.br)}static Vr(e,t){return et(e.br,t.br)||Ne.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Zt(sn.Ar)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new wU(a,t,r,o);this.mutationQueue.push(u);for(const h of o)this.vr=this.vr.add(new sn(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ne.resolve(u)}lookupMutationBatch(e,t){return ne.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Fr(r),a=o<0?0:o;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new sn(t,0),o=new sn(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([r,o],u=>{const h=this.Cr(u.br);a.push(h)}),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Zt(et);return t.forEach(o=>{const a=new sn(o,0),u=new sn(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,u],h=>{r=r.add(h.br)})}),ne.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;Ne.isDocumentKey(a)||(a=a.child(""));const u=new sn(new Ne(a),0);let h=new Zt(et);return this.vr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(h=h.add(f.br)),!0)},u),ne.resolve(this.Mr(h))}Mr(e){const t=[];return e.forEach(r=>{const o=this.Cr(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){ht(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return ne.forEach(t.mutations,o=>{const a=new sn(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,t){const r=new sn(t,0),o=this.vr.firstAfterOrEqual(r);return ne.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e){this.Nr=e,this.docs=function(){return new kt(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,u=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ne.resolve(r?r.document.mutableCopy():In.newInvalidDocument(t))}getEntries(e,t){let r=Fi();return t.forEach(o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():In.newInvalidDocument(o))}),ne.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=Fi();const u=t.path,h=new Ne(u.child("")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:v}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||MF(VF(v),r)<=0||(o.has(v.key)||ff(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Fe()}Lr(e,t){return ne.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new a4(this)}getSize(e){return ne.resolve(this.size)}}class a4 extends ZU{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(r)}),ne.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.persistence=e,this.Br=new bs(t=>Ty(t),Sy),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.kr=0,this.qr=new by,this.targetCount=0,this.Qr=qa.qn()}forEachTarget(e,t){return this.Br.forEach((r,o)=>t(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),ne.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new qa(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Un(t),ne.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.Br.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.Br.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),ne.waitFor(a).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const r=this.Br.get(t)||null;return ne.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),ne.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),ne.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return ne.resolve(r)}containsKey(e,t){return ne.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,t){this.Kr={},this.overlays={},this.$r=new af(0),this.Ur=!1,this.Ur=!0,this.Wr=new i4,this.referenceDelegate=e(this),this.Gr=new l4(this),this.indexManager=new KU,this.remoteDocumentCache=function(o){return new s4(o)}(r=>this.referenceDelegate.zr(r)),this.serializer=new HU(t),this.jr=new n4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new r4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new o4(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){Re("MemoryPersistence","Starting transaction:",e);const o=new u4(this.$r.next());return this.referenceDelegate.Hr(),r(o).next(a=>this.referenceDelegate.Jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Yr(e,t){return ne.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class u4 extends UF{constructor(e){super(),this.currentSequenceNumber=e}}class ky{constructor(e){this.persistence=e,this.Zr=new by,this.Xr=null}static ei(e){return new ky(e)}get ti(){if(this.Xr)return this.Xr;throw Fe()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),ne.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ti.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.ti,r=>{const o=Ne.fromPath(r);return this.ni(e,o).next(a=>{a||t.removeEntry(o,$e.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return ne.or([()=>ne.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class pd{constructor(e,t){this.persistence=e,this.ri=new bs(r=>zF(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=JU(this,t)}static ei(e,t){return new pd(e,t)}Hr(){}Jr(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return ne.forEach(this.ri,(r,o)=>this.ir(e,r,o).next(a=>a?ne.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Lr(e,u=>this.ir(e,u,t).next(h=>{h||(r++,a.removeEntry(u,$e.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),ne.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Uh(e.data.value)),t}ir(e,t,r){return ne.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return ne.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=o}static zi(e,t){let r=Xe(),o=Xe();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Ny(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return mb()?8:$F(Cn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.Xi(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.es(e,t,o,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new c4;return this.ts(e,t,u).next(h=>{if(a.result=h,this.Hi)return this.ns(e,t,u,h.size)})}).next(()=>a.result)}ns(e,t,r,o){return r.documentReadCount<this.Ji?(ga()<=Qe.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",ya(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),ne.resolve()):(ga()<=Qe.DEBUG&&Re("QueryEngine","Query:",ya(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Yi*o?(ga()<=Qe.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",ya(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ii(t))):ne.resolve())}Xi(e,t){if(GE(t))return ne.resolve(null);let r=ii(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=cd(t,null,"F"),r=ii(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Xe(...a);return this.Zi.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.rs(t,h);return this.ss(t,p,u,f.readTime)?this.Xi(e,cd(t,null,"F")):this.os(e,p,t,f)}))})))}es(e,t,r,o){return GE(t)||o.isEqual($e.min())?ne.resolve(null):this.Zi.getDocuments(e,r).next(a=>{const u=this.rs(t,a);return this.ss(t,u,r,o)?ne.resolve(null):(ga()<=Qe.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ya(t)),this.os(e,u,t,LF(o,-1)).next(h=>h))})}rs(e,t){let r=new Zt(KR(e));return t.forEach((o,a)=>{ff(e,a)&&(r=r.add(a))}),r}ss(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ts(e,t,r){return ga()<=Qe.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",ya(t)),this.Zi.getDocumentsMatchingQuery(e,t,ko.min(),r)}os(e,t,r,o){return this.Zi.getDocumentsMatchingQuery(e,r,o).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,t,r,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new kt(et),this.cs=new bs(a=>Ty(a),Sy),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new t4(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function f4(n,e,t,r){return new d4(n,e,t,r)}async function mI(n,e){const t=je(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(a=>(o=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],h=[];let f=Xe();for(const p of o){u.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}for(const p of a){h.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next(p=>({Ts:p,removedBatchIds:u,addedBatchIds:h}))})})}function p4(n,e){const t=je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(h,f,p,v){const E=p.batch,T=E.keys();let I=ne.resolve();return T.forEach(S=>{I=I.next(()=>v.getEntry(f,S)).next(C=>{const D=p.docVersions.get(S);ht(D!==null),C.version.compareTo(D)<0&&(E.applyToRemoteDocument(C,p),C.isValidDocument()&&(C.setReadTime(p.commitVersion),v.addEntry(C)))})}),I.next(()=>h.mutationQueue.removeMutationBatch(f,E))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=Xe();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function gI(n){const e=je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function m4(n,e){const t=je(n),r=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const h=[];e.targetChanges.forEach((v,E)=>{const T=o.get(E);if(!T)return;h.push(t.Gr.removeMatchingKeys(a,v.removedDocuments,E).next(()=>t.Gr.addMatchingKeys(a,v.addedDocuments,E)));let I=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?I=I.withResumeToken(gn.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,r)),o=o.insert(E,I),function(C,D,$){return C.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(T,I,v)&&h.push(t.Gr.updateTargetData(a,I))});let f=Fi(),p=Xe();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),h.push(g4(a,u,e.documentUpdates).next(v=>{f=v.Is,p=v.Es})),!r.isEqual($e.min())){const v=t.Gr.getLastRemoteSnapshotVersion(a).next(E=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(v)}return ne.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(t.us=o,a))}function g4(n,e,t){let r=Xe(),o=Xe();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=Fi();return t.forEach((h,f)=>{const p=a.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual($e.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):Re("LocalStore","Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)}),{Is:u,Es:o}})}function y4(n,e){const t=je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function v4(n,e){const t=je(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Gr.getTargetData(r,e).next(a=>a?(o=a,ne.resolve(o)):t.Gr.allocateTargetId(r).next(u=>(o=new Ro(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.us.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}async function mg(n,e,t){const r=je(n),o=r.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!il(u))throw u;Re("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.us=r.us.remove(e),r.cs.delete(o.target)}function sw(n,e,t){const r=je(n);let o=$e.min(),a=Xe();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,v){const E=je(f),T=E.cs.get(v);return T!==void 0?ne.resolve(E.us.get(T)):E.Gr.getTargetData(p,v)}(r,u,ii(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(u,h.targetId).next(f=>{a=f})}).next(()=>r._s.getDocumentsMatchingQuery(u,e,t?o:$e.min(),t?a:Xe())).next(h=>(_4(r,sU(e),h),{documents:h,ds:a})))}function _4(n,e,t){let r=n.ls.get(e)||$e.min();t.forEach((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ls.set(e,r)}class aw{constructor(){this.activeTargetIds=dU()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class E4{constructor(){this._o=new aw,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new aw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah=null;function Am(){return Ah===null?Ah=function(){return 268435456+Math.round(2147483648*Math.random())}():Ah++,"0x"+Ah.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class R4 extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${o}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Oo(t,r,o,a,u){const h=Am(),f=this.No(t,r.toUriEncodedString());Re("RestConnection",`Sending RPC '${t}' ${h}:`,f,o);const p={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(p,a,u),this.Bo(t,f,p,o).then(v=>(Re("RestConnection",`Received RPC '${t}' ${h}: `,v),v),v=>{throw Ua("RestConnection",`RPC '${t}' ${h} failed with error: `,v,"url: ",f,"request:",o),v})}ko(t,r,o,a,u,h){return this.Oo(t,r,o,a,u)}Lo(t,r,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+nl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,u)=>t[u]=a),o&&o.headers.forEach((a,u)=>t[u]=a)}No(t,r){const o=T4[t];return`${this.Fo}/v1/${r}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,r,o){const a=Am();return new Promise((u,h)=>{const f=new kR;f.setWithCredentials(!0),f.listenOnce(NR.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Fh.NO_ERROR:const v=f.getResponseJson();Re(wn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case Fh.TIMEOUT:Re(wn,`RPC '${e}' ${a} timed out`),h(new ye(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Fh.HTTP_ERROR:const E=f.getStatus();if(Re(wn,`RPC '${e}' ${a} failed with status:`,E,"response text:",f.getResponseText()),E>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const I=T==null?void 0:T.error;if(I&&I.status&&I.message){const S=function(D){const $=D.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf($)>=0?$:Z.UNKNOWN}(I.status);h(new ye(S,I.message))}else h(new ye(Z.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new ye(Z.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{Re(wn,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(o);Re(wn,`RPC '${e}' ${a} sending request:`,o),f.send(t,"POST",p,r,15)})}qo(e,t,r){const o=Am(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=DR(),h=xR(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Lo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const v=a.join("");Re(wn,`Creating RPC '${e}' stream ${o}: ${v}`,f);const E=u.createWebChannel(v,f);let T=!1,I=!1;const S=new S4({Eo:D=>{I?Re(wn,`Not sending because RPC '${e}' stream ${o} is closed:`,D):(T||(Re(wn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),Re(wn,`RPC '${e}' stream ${o} sending:`,D),E.send(D))},Ao:()=>E.close()}),C=(D,$,F)=>{D.listen($,j=>{try{F(j)}catch(ie){setTimeout(()=>{throw ie},0)}})};return C(E,tu.EventType.OPEN,()=>{I||(Re(wn,`RPC '${e}' stream ${o} transport opened.`),S.So())}),C(E,tu.EventType.CLOSE,()=>{I||(I=!0,Re(wn,`RPC '${e}' stream ${o} transport closed`),S.Do())}),C(E,tu.EventType.ERROR,D=>{I||(I=!0,Ua(wn,`RPC '${e}' stream ${o} transport errored:`,D),S.Do(new ye(Z.UNAVAILABLE,"The operation could not be completed")))}),C(E,tu.EventType.MESSAGE,D=>{var $;if(!I){const F=D.data[0];ht(!!F);const j=F,ie=(j==null?void 0:j.error)||(($=j[0])===null||$===void 0?void 0:$.error);if(ie){Re(wn,`RPC '${e}' stream ${o} received error:`,ie);const Q=ie.status;let ee=function(k){const x=zt[k];if(x!==void 0)return iI(x)}(Q),b=ie.message;ee===void 0&&(ee=Z.INTERNAL,b="Unknown error status: "+Q+" with message "+ie.message),I=!0,S.Do(new ye(ee,b)),E.close()}else Re(wn,`RPC '${e}' stream ${o} received:`,F),S.vo(F)}}),C(h,OR.STAT_EVENT,D=>{D.stat===og.PROXY?Re(wn,`RPC '${e}' stream ${o} detected buffering proxy`):D.stat===og.NOPROXY&&Re(wn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{S.bo()},0),S}}function Cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(n){return new NU(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,t,r=1e3,o=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=o,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-r);o>0&&Re("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,t,r,o,a,u,h,f){this.li=e,this.Yo=r,this.Zo=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new yI(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(Mi(t.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Xo===t&&this.I_(r,o)},r=>{e(()=>{const o=new ye(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(o)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{r(()=>this.E_(o))}),this.stream.onMessage(o=>{r(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return Re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class I4 extends vI{constructor(e,t,r,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=DU(this.serializer,e),r=function(a){if(!("targetChange"in a))return $e.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?$e.min():u.readTime?oi(u.readTime):$e.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=pg(this.serializer),t.addTarget=function(a,u){let h;const f=u.target;if(h=ug(f)?{documents:MU(a,f)}:{query:FU(a,f).ct},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=aI(a,u.resumeToken);const p=hg(a,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo($e.min())>0){h.readTime=fd(a,u.snapshotVersion.toTimestamp());const p=hg(a,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=$U(this.serializer,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=pg(this.serializer),t.removeTarget=e,this.c_(t)}}class A4 extends vI{constructor(e,t,r,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,u),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return ht(!!e.streamToken),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=VU(e.writeResults,e.commitTime),r=oi(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=pg(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>LU(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4 extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new ye(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.Oo(e,dg(t,r),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ye(Z.UNKNOWN,a.toString())})}ko(e,t,r,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.ko(e,dg(t,r),o,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(Z.UNKNOWN,u.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class P4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Mi(t),this.C_=!1):Re("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(u=>{r.enqueueAndForget(async()=>{ks(this)&&(Re("RemoteStore","Restarting streams for network reachability change."),await async function(f){const p=je(f);p.k_.add(4),await Hu(p),p.K_.set("Unknown"),p.k_.delete(4),await _f(p)}(this))})}),this.K_=new P4(r,o)}}async function _f(n){if(ks(n))for(const e of n.q_)await e(!0)}async function Hu(n){for(const e of n.q_)await e(!1)}function _I(n,e){const t=je(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Ly(t)?Dy(t):ol(t).s_()&&xy(t,e))}function Oy(n,e){const t=je(n),r=ol(t);t.B_.delete(e),r.s_()&&EI(t,e),t.B_.size===0&&(r.s_()?r.a_():ks(t)&&t.K_.set("Unknown"))}function xy(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ol(n).V_(e)}function EI(n,e){n.U_.xe(e),ol(n).m_(e)}function Dy(n){n.U_=new CU({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),ol(n).start(),n.K_.F_()}function Ly(n){return ks(n)&&!ol(n).i_()&&n.B_.size>0}function ks(n){return je(n).k_.size===0}function wI(n){n.U_=void 0}async function k4(n){n.K_.set("Online")}async function N4(n){n.B_.forEach((e,t)=>{xy(n,e)})}async function O4(n,e){wI(n),Ly(n)?(n.K_.O_(e),Dy(n)):n.K_.set("Unknown")}async function x4(n,e,t){if(n.K_.set("Online"),e instanceof sI&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const h of a.targetIds)o.B_.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.B_.delete(h),o.U_.removeTarget(h))}(n,e)}catch(r){Re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await md(n,r)}else if(e instanceof zh?n.U_.$e(e):e instanceof oI?n.U_.Je(e):n.U_.Ge(e),!t.isEqual($e.min()))try{const r=await gI(n.localStore);t.compareTo(r)>=0&&await function(a,u){const h=a.U_.it(u);return h.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.B_.get(p);v&&a.B_.set(p,v.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,p)=>{const v=a.B_.get(f);if(!v)return;a.B_.set(f,v.withResumeToken(gn.EMPTY_BYTE_STRING,v.snapshotVersion)),EI(a,f);const E=new Ro(v.target,f,p,v.sequenceNumber);xy(a,E)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){Re("RemoteStore","Failed to raise snapshot:",r),await md(n,r)}}async function md(n,e,t){if(!il(e))throw e;n.k_.add(1),await Hu(n),n.K_.set("Offline"),t||(t=()=>gI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Re("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await _f(n)})}function TI(n,e){return e().catch(t=>md(n,t,e))}async function Ef(n){const e=je(n),t=Do(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;D4(e);)try{const o=await y4(e.localStore,r);if(o===null){e.L_.length===0&&t.a_();break}r=o.batchId,L4(e,o)}catch(o){await md(e,o)}SI(e)&&RI(e)}function D4(n){return ks(n)&&n.L_.length<10}function L4(n,e){n.L_.push(e);const t=Do(n);t.s_()&&t.f_&&t.g_(e.mutations)}function SI(n){return ks(n)&&!Do(n).i_()&&n.L_.length>0}function RI(n){Do(n).start()}async function V4(n){Do(n).w_()}async function M4(n){const e=Do(n);for(const t of n.L_)e.g_(t.mutations)}async function F4(n,e,t){const r=n.L_.shift(),o=Ay.from(r,e,t);await TI(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Ef(n)}async function U4(n,e){e&&Do(n).f_&&await async function(r,o){if(function(u){return RU(u)&&u!==Z.ABORTED}(o.code)){const a=r.L_.shift();Do(r).__(),await TI(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Ef(r)}}(n,e),SI(n)&&RI(n)}async function uw(n,e){const t=je(n);t.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const r=ks(t);t.k_.add(3),await Hu(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await _f(t)}async function $4(n,e){const t=je(n);e?(t.k_.delete(2),await _f(t)):e||(t.k_.add(2),await Hu(t),t.K_.set("Unknown"))}function ol(n){return n.W_||(n.W_=function(t,r,o){const a=je(t);return a.b_(),new I4(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:k4.bind(null,n),mo:N4.bind(null,n),po:O4.bind(null,n),R_:x4.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Ly(n)?Dy(n):n.K_.set("Unknown")):(await n.W_.stop(),wI(n))})),n.W_}function Do(n){return n.G_||(n.G_=function(t,r,o){const a=je(t);return a.b_(),new A4(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:V4.bind(null,n),po:U4.bind(null,n),p_:M4.bind(null,n),y_:F4.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Ef(n)):(await n.G_.stop(),n.L_.length>0&&(Re("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const u=Date.now()+r,h=new Vy(e,t,u,o,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function My(n,e){if(Mi("AsyncQueue",`${e}: ${n}`),il(n))return new ye(Z.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{static emptySet(e){return new Ca(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ne.comparator(t.key,r.key):(t,r)=>Ne.comparator(t.key,r.key),this.keyedMap=nu(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ca)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ca;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(){this.z_=new kt(Ne.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(t,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(t):e.type===1&&r.type===2?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Fe():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ha{constructor(e,t,r,o,a,u,h,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,o,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Ha(e,t,Ca.emptySet(t),u,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&df(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class z4{constructor(){this.queries=hw(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const o=je(t),a=o.queries;o.queries=hw(),a.forEach((u,h)=>{for(const f of h.J_)f.onError(r)})})(this,new ye(Z.ABORTED,"Firestore shutting down"))}}function hw(){return new bs(n=>WR(n),df)}async function Fy(n,e){const t=je(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.Y_()&&e.Z_()&&(r=2):(a=new B4,r=e.Z_()?0:1);try{switch(r){case 0:a.H_=await t.onListen(o,!0);break;case 1:a.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const h=My(u,`Initialization of query '${ya(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&$y(t)}async function Uy(n,e){const t=je(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const u=a.J_.indexOf(e);u>=0&&(a.J_.splice(u,1),a.J_.length===0?o=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function j4(n,e){const t=je(n);let r=!1;for(const o of e){const a=o.query,u=t.queries.get(a);if(u){for(const h of u.J_)h.ta(o)&&(r=!0);u.H_=o}}r&&$y(t)}function q4(n,e,t){const r=je(n),o=r.queries.get(e);if(o)for(const a of o.J_)a.onError(t);r.queries.delete(e)}function $y(n){n.X_.forEach(e=>{e.next()})}var gg,dw;(dw=gg||(gg={})).na="default",dw.Cache="cache";class By{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Ha(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const r=t!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=Ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==gg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.key=e}}class AI{constructor(e){this.key=e}}class H4{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Xe(),this.mutatedKeys=Xe(),this.Va=KR(e),this.ma=new Ca(this.Va)}get fa(){return this.da}ga(e,t){const r=t?t.pa:new cw,o=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,u=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,E)=>{const T=o.get(v),I=ff(this.query,E)?E:null,S=!!T&&this.mutatedKeys.has(T.key),C=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let D=!1;T&&I?T.data.isEqual(I.data)?S!==C&&(r.track({type:3,doc:I}),D=!0):this.ya(T,I)||(r.track({type:2,doc:I}),D=!0,(f&&this.Va(I,f)>0||p&&this.Va(I,p)<0)&&(h=!0)):!T&&I?(r.track({type:0,doc:I}),D=!0):T&&!I&&(r.track({type:1,doc:T}),D=!0,(f||p)&&(h=!0)),D&&(I?(u=u.add(I),a=C?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{ma:u,pa:r,ss:h,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const u=e.pa.j_();u.sort((v,E)=>function(I,S){const C=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}};return C(I)-C(S)}(v.type,E.type)||this.Va(v.doc,E.doc)),this.wa(r),o=o!=null&&o;const h=t&&!o?this.Sa():[],f=this.Ra.size===0&&this.current&&!o?1:0,p=f!==this.Aa;return this.Aa=f,u.length!==0||p?{snapshot:new Ha(this.query,e.ma,a,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:h}:{ba:h}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new cw,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Xe(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new AI(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new II(r))}),t}va(e){this.da=e.ds,this.Ra=Xe();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Ha.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class W4{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class K4{constructor(e){this.key=e,this.Fa=!1}}class G4{constructor(e,t,r,o,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Ma={},this.xa=new bs(h=>WR(h),df),this.Oa=new Map,this.Na=new Set,this.La=new kt(Ne.comparator),this.Ba=new Map,this.ka=new by,this.qa={},this.Qa=new Map,this.Ka=qa.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Q4(n,e,t=!0){const r=OI(n);let o;const a=r.xa.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Ca()):o=await CI(r,e,t,!0),o}async function Y4(n,e){const t=OI(n);await CI(t,e,!0,!1)}async function CI(n,e,t,r){const o=await v4(n.localStore,ii(e)),a=o.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let h;return r&&(h=await X4(n,e,a,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&_I(n.remoteStore,o),h}async function X4(n,e,t,r,o){n.Ua=(E,T,I)=>async function(C,D,$,F){let j=D.view.ga($);j.ss&&(j=await sw(C.localStore,D.query,!1).then(({documents:b})=>D.view.ga(b,j)));const ie=F&&F.targetChanges.get(D.targetId),Q=F&&F.targetMismatches.get(D.targetId)!=null,ee=D.view.applyChanges(j,C.isPrimaryClient,ie,Q);return pw(C,D.targetId,ee.ba),ee.snapshot}(n,E,T,I);const a=await sw(n.localStore,e,!0),u=new H4(e,a.ds),h=u.ga(a.documents),f=qu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),p=u.applyChanges(h,n.isPrimaryClient,f);pw(n,t,p.ba);const v=new W4(e,t,u);return n.xa.set(e,v),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),p.snapshot}async function J4(n,e,t){const r=je(n),o=r.xa.get(e),a=r.Oa.get(o.targetId);if(a.length>1)return r.Oa.set(o.targetId,a.filter(u=>!df(u,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await mg(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Oy(r.remoteStore,o.targetId),yg(r,o.targetId)}).catch(rl)):(yg(r,o.targetId),await mg(r.localStore,o.targetId,!0))}async function Z4(n,e){const t=je(n),r=t.xa.get(e),o=t.Oa.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Oy(t.remoteStore,r.targetId))}async function e$(n,e,t){const r=a$(n);try{const o=await function(u,h){const f=je(u),p=Jt.now(),v=h.reduce((I,S)=>I.add(S.key),Xe());let E,T;return f.persistence.runTransaction("Locally write mutations","readwrite",I=>{let S=Fi(),C=Xe();return f.hs.getEntries(I,v).next(D=>{S=D,S.forEach(($,F)=>{F.isValidDocument()||(C=C.add($))})}).next(()=>f.localDocuments.getOverlayedDocuments(I,S)).next(D=>{E=D;const $=[];for(const F of h){const j=_U(F,E.get(F.key).overlayedDocument);j!=null&&$.push(new Uo(F.key,j,UR(j.value.mapValue),qn.exists(!0)))}return f.mutationQueue.addMutationBatch(I,p,$,h)}).next(D=>{T=D;const $=D.applyToLocalDocumentSet(E,C);return f.documentOverlayCache.saveOverlays(I,D.batchId,$)})}).then(()=>({batchId:T.batchId,changes:QR(E)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,h,f){let p=u.qa[u.currentUser.toKey()];p||(p=new kt(et)),p=p.insert(h,f),u.qa[u.currentUser.toKey()]=p}(r,o.batchId,t),await Wu(r,o.changes),await Ef(r.remoteStore)}catch(o){const a=My(o,"Failed to persist write");t.reject(a)}}async function PI(n,e){const t=je(n);try{const r=await m4(t.localStore,e);e.targetChanges.forEach((o,a)=>{const u=t.Ba.get(a);u&&(ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Fa=!0:o.modifiedDocuments.size>0?ht(u.Fa):o.removedDocuments.size>0&&(ht(u.Fa),u.Fa=!1))}),await Wu(t,r,e)}catch(r){await rl(r)}}function fw(n,e,t){const r=je(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.xa.forEach((a,u)=>{const h=u.view.ea(e);h.snapshot&&o.push(h.snapshot)}),function(u,h){const f=je(u);f.onlineState=h;let p=!1;f.queries.forEach((v,E)=>{for(const T of E.J_)T.ea(h)&&(p=!0)}),p&&$y(f)}(r.eventManager,e),o.length&&r.Ma.R_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function t$(n,e,t){const r=je(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Ba.get(e),a=o&&o.key;if(a){let u=new kt(Ne.comparator);u=u.insert(a,In.newNoDocument(a,$e.min()));const h=Xe().add(a),f=new yf($e.min(),new Map,new kt(et),u,h);await PI(r,f),r.La=r.La.remove(a),r.Ba.delete(e),zy(r)}else await mg(r.localStore,e,!1).then(()=>yg(r,e,t)).catch(rl)}async function n$(n,e){const t=je(n),r=e.batch.batchId;try{const o=await p4(t.localStore,e);kI(t,r,null),bI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Wu(t,o)}catch(o){await rl(o)}}async function r$(n,e,t){const r=je(n);try{const o=await function(u,h){const f=je(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return f.mutationQueue.lookupMutationBatch(p,h).next(E=>(ht(E!==null),v=E.keys(),f.mutationQueue.removeMutationBatch(p,E))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,v,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>f.localDocuments.getDocuments(p,v))})}(r.localStore,e);kI(r,e,t),bI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Wu(r,o)}catch(o){await rl(o)}}function bI(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function kI(n,e,t){const r=je(n);let o=r.qa[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.qa[r.currentUser.toKey()]=o}}function yg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||NI(n,r)})}function NI(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Oy(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),zy(n))}function pw(n,e,t){for(const r of t)r instanceof II?(n.ka.addReference(r.key,e),i$(n,r)):r instanceof AI?(Re("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||NI(n,r.key)):Fe()}function i$(n,e){const t=e.key,r=t.path.canonicalString();n.La.get(t)||n.Na.has(r)||(Re("SyncEngine","New document in limbo: "+t),n.Na.add(r),zy(n))}function zy(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Ne(_t.fromString(e)),r=n.Ka.next();n.Ba.set(r,new K4(t)),n.La=n.La.insert(t,r),_I(n.remoteStore,new Ro(ii(hf(t.path)),r,"TargetPurposeLimboResolution",af.oe))}}async function Wu(n,e,t){const r=je(n),o=[],a=[],u=[];r.xa.isEmpty()||(r.xa.forEach((h,f)=>{u.push(r.Ua(f,e,t).then(p=>{var v;if((p||t)&&r.isPrimaryClient){const E=p?!p.fromCache:(v=t==null?void 0:t.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(f.targetId,E?"current":"not-current")}if(p){o.push(p);const E=Ny.zi(f.targetId,p);a.push(E)}}))}),await Promise.all(u),r.Ma.R_(o),await async function(f,p){const v=je(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>ne.forEach(p,T=>ne.forEach(T.Wi,I=>v.persistence.referenceDelegate.addReference(E,T.targetId,I)).next(()=>ne.forEach(T.Gi,I=>v.persistence.referenceDelegate.removeReference(E,T.targetId,I)))))}catch(E){if(!il(E))throw E;Re("LocalStore","Failed to update sequence numbers: "+E)}for(const E of p){const T=E.targetId;if(!E.fromCache){const I=v.us.get(T),S=I.snapshotVersion,C=I.withLastLimboFreeSnapshotVersion(S);v.us=v.us.insert(T,C)}}}(r.localStore,a))}async function o$(n,e){const t=je(n);if(!t.currentUser.isEqual(e)){Re("SyncEngine","User change. New user:",e.toKey());const r=await mI(t.localStore,e);t.currentUser=e,function(a,u){a.Qa.forEach(h=>{h.forEach(f=>{f.reject(new ye(Z.CANCELLED,u))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wu(t,r.Ts)}}function s$(n,e){const t=je(n),r=t.Ba.get(e);if(r&&r.Fa)return Xe().add(r.key);{let o=Xe();const a=t.Oa.get(e);if(!a)return o;for(const u of a){const h=t.xa.get(u);o=o.unionWith(h.view.fa)}return o}}function OI(n){const e=je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=PI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=s$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=t$.bind(null,e),e.Ma.R_=j4.bind(null,e.eventManager),e.Ma.Wa=q4.bind(null,e.eventManager),e}function a$(n){const e=je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=n$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r$.bind(null,e),e}class gd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vf(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return f4(this.persistence,new h4,e.initialUser,this.serializer)}ja(e){return new pI(ky.ei,this.serializer)}za(e){return new E4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gd.provider={build:()=>new gd};class l$ extends gd{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){ht(this.persistence.referenceDelegate instanceof pd);const r=this.persistence.referenceDelegate.garbageCollector;return new YU(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new pI(r=>pd.ei(r,t),this.serializer)}}class vg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=o$.bind(null,this.syncEngine),await $4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new z4}()}createDatastore(e){const t=vf(e.databaseInfo.databaseId),r=function(a){return new R4(a)}(e.databaseInfo);return function(a,u,h,f){return new C4(a,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,a,u,h){return new b4(r,o,a,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>fw(this.syncEngine,t,0),function(){return lw.p()?new lw:new w4}())}createSyncEngine(e,t){return function(o,a,u,h,f,p,v){const E=new G4(o,a,u,h,f,p);return v&&(E.$a=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=je(o);Re("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await Hu(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}vg.provider={build:()=>new vg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Rn.UNAUTHENTICATED,this.clientId=VR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{Re("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Re("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=My(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Pm(n,e){n.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async o=>{r.isEqual(o)||(await mI(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function mw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await c$(n);Re("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>uw(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>uw(e.remoteStore,o)),n._onlineComponents=e}async function c$(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Re("FirestoreClient","Using user provided OfflineComponentProvider");try{await Pm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Ua("Error using user provided cache. Falling back to memory cache: "+t),await Pm(n,new gd)}}else Re("FirestoreClient","Using default OfflineComponentProvider"),await Pm(n,new l$(void 0));return n._offlineComponents}async function xI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Re("FirestoreClient","Using user provided OnlineComponentProvider"),await mw(n,n._uninitializedComponentsProvider._online)):(Re("FirestoreClient","Using default OnlineComponentProvider"),await mw(n,new vg))),n._onlineComponents}function h$(n){return xI(n).then(e=>e.syncEngine)}async function yd(n){const e=await xI(n),t=e.eventManager;return t.onListen=Q4.bind(null,e.syncEngine),t.onUnlisten=J4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Y4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Z4.bind(null,e.syncEngine),t}function d$(n,e,t={}){const r=new xi;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,p){const v=new jy({next:T=>{v.eu(),u.enqueueAndForget(()=>Uy(a,E));const I=T.docs.has(h);!I&&T.fromCache?p.reject(new ye(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&T.fromCache&&f&&f.source==="server"?p.reject(new ye(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),E=new By(hf(h.path),v,{includeMetadataChanges:!0,ua:!0});return Fy(a,E)}(await yd(n),n.asyncQueue,e,t,r)),r.promise}function f$(n,e,t={}){const r=new xi;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,p){const v=new jy({next:T=>{v.eu(),u.enqueueAndForget(()=>Uy(a,E)),T.fromCache&&f.source==="server"?p.reject(new ye(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),E=new By(h,v,{includeMetadataChanges:!0,ua:!0});return Fy(a,E)}(await yd(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(n,e,t){if(!t)throw new ye(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function p$(n,e,t,r){if(e===!0&&r===!0)throw new ye(Z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function yw(n){if(!Ne.isDocumentKey(n))throw new ye(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function vw(n){if(Ne.isDocumentKey(n))throw new ye(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function wf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Fe()}function Hn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ye(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wf(n);throw new ye(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function m$(n,e){if(e<=0)throw new ye(Z.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}p$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ye(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ye(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ye(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tf{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _w({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _w(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new AF;switch(r.type){case"firstParty":return new kF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=gw.get(t);r&&(Re("ComponentProvider","Removing Datastore"),gw.delete(t),r.terminate())}(this),Promise.resolve()}}function g$(n,e,t,r={}){var o;const a=(n=Hn(n,Tf))._getSettings(),u=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==u&&Ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Rn.MOCK_USER;else{h=lb(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ye(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Rn(p)}n._authCredentials=new CF(new LR(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o=class VI{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new VI(this.firestore,e,this._query)}};class An{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new An(this.firestore,e,this._key)}}class Po extends $o{constructor(e,t,r){super(e,t,hf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new An(this.firestore,null,new Ne(e))}withConverter(e){return new Po(this.firestore,e,this._path)}}function Cu(n,e,...t){if(n=Ut(n),LI("collection","path",e),n instanceof Tf){const r=_t.fromString(e,...t);return vw(r),new Po(n,null,r)}{if(!(n instanceof An||n instanceof Po))throw new ye(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_t.fromString(e,...t));return vw(r),new Po(n.firestore,null,r)}}function Pa(n,e,...t){if(n=Ut(n),arguments.length===1&&(e=VR.newId()),LI("doc","path",e),n instanceof Tf){const r=_t.fromString(e,...t);return yw(r),new An(n,null,new Ne(r))}{if(!(n instanceof An||n instanceof Po))throw new ye(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_t.fromString(e,...t));return yw(r),new An(n.firestore,n instanceof Po?n.converter:null,new Ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new yI(this,"async_queue_retry"),this.fu=()=>{const r=Cm();r&&Re("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=Cm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Cm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new xi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!il(e))throw e;Re("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const o=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(r);throw Mi("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Vy.createAndSchedule(this,e,t,r,a=>this.Su(a));return this.du.push(o),o}pu(){this.Au&&Fe()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function ww(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const o=t;for(const a of r)if(a in o&&typeof o[a]=="function")return!0;return!1}(n,["next","error","complete"])}class Ui extends Tf{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new Ew,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ew(e),this._firestoreClient=void 0,await e}}}function y$(n,e){const t=typeof n=="object"?n:kT(),r=typeof n=="string"?n:"(default)",o=Wg(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=sb("firestore");a&&g$(o,...a)}return o}function Ku(n){if(n._terminated)throw new ye(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||v$(n),n._firestoreClient}function v$(n){var e,t,r;const o=n._freezeSettings(),a=function(h,f,p,v){return new HF(h,f,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,DI(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new u$(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wa(gn.fromBase64String(e))}catch(t){throw new ye(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wa(gn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function _$(){return new sl("__name__")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E$=/^__.*__$/;class w${constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Uo(e,this.data,this.fieldMask,t,this.fieldTransforms):new ju(e,this.data,t,this.fieldTransforms)}}class MI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Uo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function FI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe()}}class Ky{constructor(e,t,r,o,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Ky(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:r,Nu:!1});return o.Lu(e),o}Bu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:r,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return vd(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(FI(this.Mu)&&E$.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class T${constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||vf(e)}$u(e,t,r,o=!1){return new Ky({Mu:e,methodName:t,Ku:r,path:mn.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gu(n){const e=n._freezeSettings(),t=vf(n._databaseId);return new T$(n._databaseId,!!e.ignoreUndefinedProperties,t)}function UI(n,e,t,r,o,a={}){const u=n.$u(a.merge||a.mergeFields?2:0,e,t,o);Gy("Data must be an object, but it was:",u,r);const h=jI(r,u);let f,p;if(a.merge)f=new or(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const E of a.mergeFields){const T=_g(e,E,t);if(!u.contains(T))throw new ye(Z.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);HI(v,T)||v.push(T)}f=new or(v),p=u.fieldTransforms.filter(E=>f.covers(E.field))}else f=null,p=u.fieldTransforms;return new w$(new zn(h),f,p)}class Sf extends qy{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sf}}function $I(n,e,t,r){const o=n.$u(1,e,t);Gy("Data must be an object, but it was:",o,r);const a=[],u=zn.empty();Fo(r,(f,p)=>{const v=Qy(e,f,t);p=Ut(p);const E=o.Bu(v);if(p instanceof Sf)a.push(v);else{const T=Qu(p,E);T!=null&&(a.push(v),u.set(v,T))}});const h=new or(a);return new MI(u,h,o.fieldTransforms)}function BI(n,e,t,r,o,a){const u=n.$u(1,e,t),h=[_g(e,r,t)],f=[o];if(a.length%2!=0)throw new ye(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)h.push(_g(e,a[T])),f.push(a[T+1]);const p=[],v=zn.empty();for(let T=h.length-1;T>=0;--T)if(!HI(p,h[T])){const I=h[T];let S=f[T];S=Ut(S);const C=u.Bu(I);if(S instanceof Sf)p.push(I);else{const D=Qu(S,C);D!=null&&(p.push(I),v.set(I,D))}}const E=new or(p);return new MI(v,E,u.fieldTransforms)}function zI(n,e,t,r=!1){return Qu(t,n.$u(r?4:3,e))}function Qu(n,e){if(qI(n=Ut(n)))return Gy("Unsupported field value:",e,n),jI(n,e);if(n instanceof qy)return function(r,o){if(!FI(o.Mu))throw o.qu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,o){const a=[];let u=0;for(const h of r){let f=Qu(h,o.ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,o){if((r=Ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fU(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Jt.fromDate(r);return{timestampValue:fd(o.serializer,a)}}if(r instanceof Jt){const a=new Jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fd(o.serializer,a)}}if(r instanceof Hy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wa)return{bytesValue:aI(o.serializer,r._byteString)};if(r instanceof An){const a=o.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw o.qu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Py(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Wy)return function(u,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw h.qu("VectorValues must only contain numeric values.");return Iy(h.serializer,f)})}}}}}}(r,o);throw o.qu(`Unsupported field value: ${wf(r)}`)}(n,e)}function jI(n,e){const t={};return MR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fo(n,(r,o)=>{const a=Qu(o,e.Ou(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function qI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Jt||n instanceof Hy||n instanceof Wa||n instanceof An||n instanceof qy||n instanceof Wy)}function Gy(n,e,t){if(!qI(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const r=wf(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function _g(n,e,t){if((e=Ut(e))instanceof sl)return e._internalPath;if(typeof e=="string")return Qy(n,e);throw vd("Field path arguments must be of type string or ",n,!1,void 0,t)}const S$=new RegExp("[~\\*/\\[\\]]");function Qy(n,e,t){if(e.search(S$)>=0)throw vd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sl(...e.split("."))._internalPath}catch{throw vd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vd(n,e,t,r,o){const a=r&&!r.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${o}`),f+=")"),new ye(Z.INVALID_ARGUMENT,h+n+f)}function HI(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new An(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new R$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Rf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class R$ extends Yy{data(){return super.data()}}function Rf(n,e){return typeof e=="string"?Qy(n,e):e instanceof sl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ye(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xy{}class If extends Xy{}function _d(n,e,...t){let r=[];e instanceof Xy&&r.push(e),r=r.concat(t),function(a){const u=a.filter(f=>f instanceof Jy).length,h=a.filter(f=>f instanceof Af).length;if(u>1||u>0&&h>0)throw new ye(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class Af extends If{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Af(e,t,r)}_apply(e){const t=this._parse(e);return GI(e._query,t),new $o(e.firestore,e.converter,cg(e._query,t))}_parse(e){const t=Gu(e.firestore);return function(a,u,h,f,p,v,E){let T;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ye(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Rw(E,v);const I=[];for(const S of E)I.push(Sw(f,a,S));T={arrayValue:{values:I}}}else T=Sw(f,a,E)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Rw(E,v),T=zI(h,u,E,v==="in"||v==="not-in");return Ht.create(p,v,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function KI(n,e,t){const r=e,o=Rf("where",n);return Af._create(o,r,t)}class Jy extends Xy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Jy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Ur.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let u=o;const h=a.getFlattenedFilters();for(const f of h)GI(u,f),u=cg(u,f)}(e._query,t),new $o(e.firestore,e.converter,cg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Zy extends If{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Zy(e,t)}_apply(e){const t=function(o,a,u){if(o.startAt!==null)throw new ye(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ye(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ru(a,u)}(e._query,this._field,this._direction);return new $o(e.firestore,e.converter,function(o,a){const u=o.explicitOrderBy.concat([a]);return new Ps(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function XB(n,e="asc"){const t=e,r=Rf("orderBy",n);return Zy._create(r,t)}class ev extends If{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new ev(e,t,r)}_apply(e){return new $o(e.firestore,e.converter,cd(e._query,this._limit,this._limitType))}}function Tw(n){return m$("limit",n),ev._create("limit",n,"F")}class tv extends If{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new tv(e,t,r)}_apply(e){const t=A$(e,this.type,this._docOrFields,this._inclusive);return new $o(e.firestore,e.converter,function(o,a){return new Ps(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,a,o.endAt)}(e._query,t))}}function I$(...n){return tv._create("startAfter",n,!1)}function A$(n,e,t,r){if(t[0]=Ut(t[0]),t[0]instanceof Yy)return function(a,u,h,f,p){if(!f)throw new ye(Z.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const v=[];for(const E of Aa(a))if(E.field.isKeyField())v.push(ud(u,f.key));else{const T=f.data.field(E.field);if(uf(T))throw new ye(Z.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(T===null){const I=E.field.canonicalString();throw new ye(Z.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${I}' (used as the orderBy) does not exist.`)}v.push(T)}return new ja(v,p)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Gu(n.firestore);return function(u,h,f,p,v,E){const T=u.explicitOrderBy;if(v.length>T.length)throw new ye(Z.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const I=[];for(let S=0;S<v.length;S++){const C=v[S];if(T[S].field.isKeyField()){if(typeof C!="string")throw new ye(Z.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof C}`);if(!Ry(u)&&C.indexOf("/")!==-1)throw new ye(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${C}' contains a slash.`);const D=u.path.child(_t.fromString(C));if(!Ne.isDocumentKey(D))throw new ye(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${D}' is not because it contains an odd number of segments.`);const $=new Ne(D);I.push(ud(h,$))}else{const D=zI(f,p,C);I.push(D)}}return new ja(I,E)}(n._query,n.firestore._databaseId,o,e,t,r)}}function Sw(n,e,t){if(typeof(t=Ut(t))=="string"){if(t==="")throw new ye(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ry(e)&&t.indexOf("/")!==-1)throw new ye(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(_t.fromString(t));if(!Ne.isDocumentKey(r))throw new ye(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ud(n,new Ne(r))}if(t instanceof An)return ud(n,t._key);throw new ye(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wf(t)}.`)}function Rw(n,e){if(!Array.isArray(n)||n.length===0)throw new ye(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GI(n,e){const t=function(o,a){for(const u of o)for(const h of u.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ye(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class C${convertValue(e,t="none"){switch(xo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Oo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Fo(e,(o,a)=>{r[o]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,o;const a=(o=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(u=>Ft(u.doubleValue));return new Wy(a)}convertGeoPoint(e){return new Hy(Ft(e.latitude),Ft(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=cf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(wu(e));default:return null}}convertTimestamp(e){const t=No(e);return new Jt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=_t.fromString(e);ht(fI(r));const o=new Tu(r.get(1),r.get(3)),a=new Ne(r.popFirst(5));return o.isEqual(t)||Mi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class YI extends Yy{constructor(e,t,r,o,a,u){super(e,t,r,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Rf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class jh extends YI{data(e={}){return super.data(e)}}class XI{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new iu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new jh(this._firestore,this._userDataWriter,r.key,r,new iu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(h=>{const f=new jh(o._firestore,o._userDataWriter,h.doc.key,h.doc,new iu(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new jh(o._firestore,o._userDataWriter,h.doc.key,h.doc,new iu(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,v=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:P$(h.type),doc:f,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function P$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(n){n=Hn(n,An);const e=Hn(n.firestore,Ui);return d$(Ku(e),n._key).then(t=>JI(e,n,t))}class nv extends C${constructor(e){super(),this.firestore=e}convertBytes(e){return new Wa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new An(this.firestore,null,t)}}function rv(n){n=Hn(n,$o);const e=Hn(n.firestore,Ui),t=Ku(e),r=new nv(e);return WI(n._query),f$(t,n._query).then(o=>new XI(e,r,n,o))}function b$(n,e,t){n=Hn(n,An);const r=Hn(n.firestore,Ui),o=QI(n.converter,e,t);return Cf(r,[UI(Gu(r),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,qn.none())])}function k$(n,e,t,...r){n=Hn(n,An);const o=Hn(n.firestore,Ui),a=Gu(o);let u;return u=typeof(e=Ut(e))=="string"||e instanceof sl?BI(a,"updateDoc",n._key,e,t,r):$I(a,"updateDoc",n._key,e),Cf(o,[u.toMutation(n._key,qn.exists(!0))])}function JB(n){return Cf(Hn(n.firestore,Ui),[new gf(n._key,qn.none())])}function ZB(n,...e){var t,r,o;n=Ut(n);let a={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||ww(e[u])||(a=e[u],u++);const h={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(ww(e[u])){const E=e[u];e[u]=(t=E.next)===null||t===void 0?void 0:t.bind(E),e[u+1]=(r=E.error)===null||r===void 0?void 0:r.bind(E),e[u+2]=(o=E.complete)===null||o===void 0?void 0:o.bind(E)}let f,p,v;if(n instanceof An)p=Hn(n.firestore,Ui),v=hf(n._key.path),f={next:E=>{e[u]&&e[u](JI(p,n,E))},error:e[u+1],complete:e[u+2]};else{const E=Hn(n,$o);p=Hn(E.firestore,Ui),v=E._query;const T=new nv(p);f={next:I=>{e[u]&&e[u](new XI(p,T,E,I))},error:e[u+1],complete:e[u+2]},WI(n._query)}return function(T,I,S,C){const D=new jy(C),$=new By(I,D,S);return T.asyncQueue.enqueueAndForget(async()=>Fy(await yd(T),$)),()=>{D.eu(),T.asyncQueue.enqueueAndForget(async()=>Uy(await yd(T),$))}}(Ku(p),v,h,f)}function Cf(n,e){return function(r,o){const a=new xi;return r.asyncQueue.enqueueAndForget(async()=>e$(await h$(r),o,a)),a.promise}(Ku(n),e)}function JI(n,e,t){const r=t.docs.get(e._key),o=new nv(n);return new YI(n,o,e._key,r,new iu(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Gu(e)}set(e,t,r){this._verifyNotCommitted();const o=bm(e,this._firestore),a=QI(o.converter,t,r),u=UI(this._dataReader,"WriteBatch.set",o._key,a,o.converter!==null,r);return this._mutations.push(u.toMutation(o._key,qn.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const a=bm(e,this._firestore);let u;return u=typeof(t=Ut(t))=="string"||t instanceof sl?BI(this._dataReader,"WriteBatch.update",a._key,t,r,o):$I(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,qn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=bm(e,this._firestore);return this._mutations=this._mutations.concat(new gf(t._key,qn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ye(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bm(n,e){if((n=Ut(n)).firestore!==e)throw new ye(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(n){return Ku(n=Hn(n,Ui)),new N$(n,e=>Cf(n,e))}(function(e,t=!0){(function(o){nl=o})(Ja),Oa(new ws("firestore",(r,{instanceIdentifier:o,options:a})=>{const u=r.getProvider("app").getImmediate(),h=new Ui(new PF(r.getProvider("auth-internal")),new OF(r.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ye(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tu(p.options.projectId,v)}(u,o),u);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),Co(ME,"4.7.5",e),Co(ME,"4.7.5","esm2017")})();const O$={BASE_URL:"/booking2/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_API_KEY:"AIzaSyAncdYLmhU2JTx_7fImntBMO_B4VR5tfQc",VITE_APP_APP_ID:"1:691783417383:web:48f31d9a815c9bdb545802",VITE_APP_AUTH_DOMAIN:"booking-b3b09.firebaseapp.com",VITE_APP_GOOGLE_MAP_API_KEY:"AIzaSyDsm5ZZz5FkWpGWZ9nqp15Sa9EPXsWH8Jc",VITE_APP_KAKAO_API_KEY:"c4e0fa0aeca889cc0a2c195c19afc774",VITE_APP_MEASUREMENT_ID:"G-88X31R08BD",VITE_APP_MESSAGING_SENDER_ID:"691783417383",VITE_APP_PROJECT_ID:"booking-b3b09",VITE_APP_STORAGE_BUCKET:"booking-b3b09.firebasestorage.app"},{VITE_APP_API_KEY:x$,VITE_APP_AUTH_DOMAIN:D$,VITE_APP_PROJECT_ID:L$,VITE_APP_STORAGE_BUCKET:V$,VITE_APP_MESSAGING_SENDER_ID:M$,VITE_APP_APP_ID:F$,VITE_APP_MEASUREMENT_ID:U$}=O$,$$={apiKey:x$,authDomain:D$,projectId:L$,storageBucket:V$,messagingSenderId:M$,appId:F$,measurementId:U$},ZI=bT($$),B$=PO(ZI),Lo=y$(ZI),eA=wF({key:"auth/user",default:null}),z$=({children:n})=>{const[e,t]=K.useState(!1),r=SF(eA);return vN(B$,o=>{if(!o)return r(null);r({uid:o.uid,email:o.email??"",displayName:o.displayName??"",photoURL:o.photoURL??""}),t(!0)}),e?ve(Od,{children:n}):null};var j$=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,q$=Qw(function(n){return j$.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),H$=Lg(function(n,e){var t=n.styles,r=kd([t],void 0,K.useContext(Vg)),o=K.useRef();return P0(function(){var a=e.key+"-global",u=new e.sheet.constructor({key:a,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),h=!1,f=document.querySelector('style[data-emotion="'+a+" "+r.name+'"]');return e.sheet.tags.length&&(u.before=e.sheet.tags[0]),f!==null&&(h=!0,f.setAttribute("data-emotion",a),u.hydrate([f])),o.current=[u,h],function(){u.flush()}},[e]),P0(function(){var a=o.current,u=a[0],h=a[1];if(h){a[1]=!1;return}if(r.next!==void 0&&Dg(e,r.next,!0),u.tags.length){var f=u.tags[u.tags.length-1].nextElementSibling;u.before=f,u.flush()}e.insert("",r,u,!1)},[e,r.name]),null});function Di(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return kd(e)}var t9=function(){var e=Di.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},W$=q$,K$=function(e){return e!=="theme"},Iw=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?W$:K$},Aw=function(e,t,r){var o;if(t){var a=t.shouldForwardProp;o=e.__emotion_forwardProp&&a?function(u){return e.__emotion_forwardProp(u)&&a(u)}:a}return typeof o!="function"&&r&&(o=e.__emotion_forwardProp),o},G$=!1,Q$=function(e){var t=e.cache,r=e.serialized,o=e.isStringTag;return xg(t,r,o),eT(function(){return Dg(t,r,o)}),null},al=function n(e,t){var r=e.__emotion_real===e,o=r&&e.__emotion_base||e,a,u;t!==void 0&&(a=t.label,u=t.target);var h=Aw(e,t,r),f=h||Iw(o),p=!f("as");return function(){var v=arguments,E=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(a!==void 0&&E.push("label:"+a+";"),v[0]==null||v[0].raw===void 0)E.push.apply(E,v);else{E.push(v[0][0]);for(var T=v.length,I=1;I<T;I++)E.push(v[I],v[0][I])}var S=Lg(function(C,D,$){var F=p&&C.as||o,j="",ie=[],Q=C;if(C.theme==null){Q={};for(var ee in C)Q[ee]=C[ee];Q.theme=K.useContext(Vg)}typeof C.className=="string"?j=Xw(D.registered,ie,C.className):C.className!=null&&(j=C.className+" ");var b=kd(E.concat(ie),D.registered,Q);j+=D.key+"-"+b.name,u!==void 0&&(j+=" "+u);var A=p&&h===void 0?Iw(F):f,k={};for(var x in C)p&&x==="as"||A(x)&&(k[x]=C[x]);return k.className=j,$&&(k.ref=$),K.createElement(K.Fragment,null,K.createElement(Q$,{cache:D,serialized:b,isStringTag:typeof F=="string"}),K.createElement(F,k))});return S.displayName=a!==void 0?a:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",S.defaultProps=e.defaultProps,S.__emotion_real=S,S.__emotion_base=o,S.__emotion_styles=E,S.__emotion_forwardProp=h,Object.defineProperty(S,"toString",{value:function(){return u===void 0&&G$?"NO_COMPONENT_SELECTOR":"."+u}}),S.withComponent=function(C,D){return n(C,Ye({},t,D,{shouldForwardProp:Aw(S,D,!0)})).apply(void 0,E)},S}};const si=al("div",{target:"e1b35fc00"})(({align:n,justify:e,direction:t,gap:r})=>({display:"flex",alignItems:n,justifyContent:e,flexDirection:t,gap:r}),""),Y$={name:"1athtiq",styles:":root{--gray:rgba(58, 58, 58, 1);--gray20:rgba(58, 58, 58, 0.02);--gray50:rgba(58, 58, 58, 0.05);--gray100:rgba(58, 58, 58, 0.1);--gray200:rgba(58, 58, 58, 0.2);--gray300:rgba(58, 58, 58, 0.3);--gray400:rgba(58, 58, 58, 0.4);--gray500:rgba(58, 58, 58, 0.5);--gray600:rgba(58, 58, 58, 0.6);--gray700:rgba(58, 58, 58, 0.7);--gray800:rgba(58, 58, 58, 0.8);--gray900:rgba(58, 58, 58, 0.9);--brightGray:rgba(239, 239, 239, 1);--blue:rgba(54, 143, 255, 1);--blue60:rgba(54, 143, 255, 0.06);--blue100:rgba(54, 143, 255, 0.1);--blue200:rgba(54, 143, 255, 0.2);--blue300:rgba(54, 143, 255, 0.3);--blue400:rgba(54, 143, 255, 0.4);--blue500:rgba(54, 143, 255, 0.5);--blue980:rgba(54, 143, 255, 0.98);--red:rgba(253, 46, 105, 1);--red100:rgba(253, 46, 105, 0.1);--red50:rgba(253, 46, 105, 0.05);--purple:rgba(151, 95, 254, 1);--purple100:rgba(151, 95, 254, 0.1);--white:rgba(255, 255, 255, 1);--white600:rgba(255, 255, 255, 0.6);--white900:rgba(255, 255, 255, 0.9);--black:rgba(34, 34, 34, 1);--teal900:rgba(10, 219, 143, 0.9);}"},jt={gray:"var(--gray)",gray20:"var(--gray20)",gray50:"var(--gray50)",gray100:"var(--gray100)",gray200:"var(--gray200)",gray300:"var(--gray300)",gray400:"var(--gray400)",gray500:"var(--gray500)",gray600:"var(--gray600)",gray700:"var(--gray700)",gray800:"var(--gray800)",gray900:"var(--gray900)",brightGray:"var(--brightGray)",blue:"var(--blue)",blue60:"var(--blue60)",blue100:"var(--blue100)",blue200:"var(--blue200)",blue300:"var(--blue300)",blue400:"var(--blue400)",blue500:"var(--blue500)",blue980:"var(--blue980)",red:"var(--red)",red50:"var(--red50)",red100:"var(--red100)",purple:"var(--purple)",purple100:"var(--purple100)",white:"var(--white)",white600:"var(--white600)",white900:"var(--white900)",black:"var(--black)",teal900:"var(--teal900)"},X$={primary:Di("background-color:",jt.blue,";color:",jt.white,";",""),success:Di("background-color:",jt.teal900,";color:",jt.white,";",""),error:Di("background-color:",jt.red,";color:",jt.white,";","")},J$={primary:Di("background-color:",jt.white,";color:",jt.blue,";border:1px solid ",jt.blue,";",""),success:Di("background-color:",jt.white,";color:",jt.teal900,";border:1px solid ",jt.teal900,";",""),error:Di("background-color:",jt.white,";color:",jt.red,";border:1px solid ",jt.red,";","")},Z$={small:{name:"1cbf7kw",styles:"font-size:13px;padding:8px 9px"},medium:{name:"12pzqwy",styles:"font-size:15px;padding:10px 15px"},large:{name:"1mzqpq4",styles:"font-size:18px;padding:12px 10px"}},e3={t1:{name:"8rs368",styles:"font-size:30px;line-height:1.35"},t2:{name:"1w5xrur",styles:"font-size:26px;line-height:1.34"},t3:{name:"b3bwzp",styles:"font-size:22px;line-height:1.4"},t4:{name:"1ojddab",styles:"font-size:20px;line-height:1.45"},t5:{name:"rqbgfj",styles:"font-size:17px;line-height:1.5"},t6:{name:"7e3027",styles:"font-size:15px;line-height:1.5"},t7:{name:"12ejybs",styles:"font-size:13px;line-height:1.5"}},ir=al("span",{target:"ed5eu9g0"})(({color:n="black",display:e,textAlign:t,fontWeight:r,bold:o})=>({color:jt[n],display:e,textAlign:t,fontWeight:o?"bold":r}),({typography:n="t5"})=>e3[n],"");var t3={name:"11x7p4e",styles:"opacity:0.26;cursor:initial"},n3={name:"1t2rx3a",styles:"display:block;width:100%;border-radius:0"};const r3=al("button",{target:"e1f2a7oy0"})("cursor:pointer;font-weight:bold;border-radius:6px;",({color:n="primary",weak:e})=>e?J$[n]:X$[n],({size:n="small"})=>Z$[n],({full:n})=>n&&n3,({disabled:n})=>n&&t3,""),i3=({title:n,children:e})=>Xt(si,{direction:"column",gap:8,children:[n&&ve(Od,{children:ve(ir,{typography:"t6",bold:!0,children:n})}),ve(si,{css:o3,children:e})]}),o3={name:"zrprrf",styles:"flex-wrap:wrap;gap:10px;& button{flex:1;}"},iv=r3;iv.Group=i3;const tA=()=>TF(eA),s3=()=>{const n=$i(),e=["/signin","/signup"].includes(n.pathname),t=tA(),r=K.useCallback(()=>t?Xt(si,{align:"center",gap:10,children:[ve(Ea,{to:"/my",children:ve("img",{src:t.photoURL??"https://cdn1.iconfinder.com/data/icons/user-pictures/101/malecostume-128.png",alt:"유저의 이미지",width:40,height:40,style:{borderRadius:"100%"}})}),ve(Ea,{to:"/settings",children:ve("img",{src:"https://cdn1.iconfinder.com/data/icons/ionicons-outline-vol-2/512/settings-outline-64.png",alt:"설정 아이콘",width:30,height:30})})]}):e?null:ve(Ea,{to:"/signin",children:ve(iv,{children:"로그인/회원가입"})}),[t,e]);return Xt(si,{justify:"space-between",align:"center",css:a3,children:[ve(Ea,{to:"/",children:Xt(si,{align:"center",gap:6,children:[ve("img",{src:"https://cdn4.iconfinder.com/data/icons/general-office/91/General_Office_31-64.png",alt:"Booking 아이콘",width:27,height:27}),ve(ir,{typography:"t6",children:"여행을 떠나다"})]})}),r()]})},a3=Di("padding:10px 24px;position:sticky;top:0;background-color:",jt.white,";z-index:10;border-bottom:1px solid ",jt.gray,";","");var km,Cw;function l3(){if(Cw)return km;Cw=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function o(a,u){if(a===u)return!0;if(a&&u&&typeof a=="object"&&typeof u=="object"){if(a.constructor!==u.constructor)return!1;var h,f,p;if(Array.isArray(a)){if(h=a.length,h!=u.length)return!1;for(f=h;f--!==0;)if(!o(a[f],u[f]))return!1;return!0}var v;if(e&&a instanceof Map&&u instanceof Map){if(a.size!==u.size)return!1;for(v=a.entries();!(f=v.next()).done;)if(!u.has(f.value[0]))return!1;for(v=a.entries();!(f=v.next()).done;)if(!o(f.value[1],u.get(f.value[0])))return!1;return!0}if(t&&a instanceof Set&&u instanceof Set){if(a.size!==u.size)return!1;for(v=a.entries();!(f=v.next()).done;)if(!u.has(f.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(u)){if(h=a.length,h!=u.length)return!1;for(f=h;f--!==0;)if(a[f]!==u[f])return!1;return!0}if(a.constructor===RegExp)return a.source===u.source&&a.flags===u.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof u.valueOf=="function")return a.valueOf()===u.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof u.toString=="function")return a.toString()===u.toString();if(p=Object.keys(a),h=p.length,h!==Object.keys(u).length)return!1;for(f=h;f--!==0;)if(!Object.prototype.hasOwnProperty.call(u,p[f]))return!1;if(n&&a instanceof Element)return!1;for(f=h;f--!==0;)if(!((p[f]==="_owner"||p[f]==="__v"||p[f]==="__o")&&a.$$typeof)&&!o(a[p[f]],u[p[f]]))return!1;return!0}return a!==a&&u!==u}return km=function(u,h){try{return o(u,h)}catch(f){if((f.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw f}},km}var u3=l3();const c3=Ka(u3);var Nm,Pw;function h3(){if(Pw)return Nm;Pw=1;var n=function(e,t,r,o,a,u,h,f){if(!e){var p;if(t===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=[r,o,a,u,h,f],E=0;p=new Error(t.replace(/%s/g,function(){return v[E++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};return Nm=n,Nm}var d3=h3();const bw=Ka(d3);var Om,kw;function f3(){return kw||(kw=1,Om=function(e,t,r,o){var a=r?r.call(o,e,t):void 0;if(a!==void 0)return!!a;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var u=Object.keys(e),h=Object.keys(t);if(u.length!==h.length)return!1;for(var f=Object.prototype.hasOwnProperty.bind(t),p=0;p<u.length;p++){var v=u[p];if(!f(v))return!1;var E=e[v],T=t[v];if(a=r?r.call(o,E,T,v):void 0,a===!1||a===void 0&&E!==T)return!1}return!0}),Om}var p3=f3();const m3=Ka(p3);var nA=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(nA||{}),xm={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Nw=Object.values(nA),ov={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},g3=Object.entries(ov).reduce((n,[e,t])=>(n[t]=e,n),{}),Vr="data-rh",ba={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},ka=(n,e)=>{for(let t=n.length-1;t>=0;t-=1){const r=n[t];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},y3=n=>{let e=ka(n,"title");const t=ka(n,ba.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const r=ka(n,ba.DEFAULT_TITLE);return e||r||void 0},v3=n=>ka(n,ba.ON_CHANGE_CLIENT_STATE)||(()=>{}),Dm=(n,e)=>e.filter(t=>typeof t[n]<"u").map(t=>t[n]).reduce((t,r)=>({...t,...r}),{}),_3=(n,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,r)=>{if(!t.length){const o=Object.keys(r);for(let a=0;a<o.length;a+=1){const h=o[a].toLowerCase();if(n.indexOf(h)!==-1&&r[h])return t.concat(r)}}return t},[]),E3=n=>console&&typeof console.warn=="function"&&console.warn(n),Jl=(n,e,t)=>{const r={};return t.filter(o=>Array.isArray(o[n])?!0:(typeof o[n]<"u"&&E3(`Helmet: ${n} should be of type "Array". Instead found type "${typeof o[n]}"`),!1)).map(o=>o[n]).reverse().reduce((o,a)=>{const u={};a.filter(f=>{let p;const v=Object.keys(f);for(let T=0;T<v.length;T+=1){const I=v[T],S=I.toLowerCase();e.indexOf(S)!==-1&&!(p==="rel"&&f[p].toLowerCase()==="canonical")&&!(S==="rel"&&f[S].toLowerCase()==="stylesheet")&&(p=S),e.indexOf(I)!==-1&&(I==="innerHTML"||I==="cssText"||I==="itemprop")&&(p=I)}if(!p||!f[p])return!1;const E=f[p].toLowerCase();return r[p]||(r[p]={}),u[p]||(u[p]={}),r[p][E]?!1:(u[p][E]=!0,!0)}).reverse().forEach(f=>o.push(f));const h=Object.keys(u);for(let f=0;f<h.length;f+=1){const p=h[f],v={...r[p],...u[p]};r[p]=v}return o},[]).reverse()},w3=(n,e)=>{if(Array.isArray(n)&&n.length){for(let t=0;t<n.length;t+=1)if(n[t][e])return!0}return!1},T3=n=>({baseTag:_3(["href"],n),bodyAttributes:Dm("bodyAttributes",n),defer:ka(n,ba.DEFER),encode:ka(n,ba.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Dm("htmlAttributes",n),linkTags:Jl("link",["rel","href"],n),metaTags:Jl("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:Jl("noscript",["innerHTML"],n),onChangeClientState:v3(n),scriptTags:Jl("script",["src","innerHTML"],n),styleTags:Jl("style",["cssText"],n),title:y3(n),titleAttributes:Dm("titleAttributes",n),prioritizeSeoTags:w3(n,ba.PRIORITIZE_SEO_TAGS)}),rA=n=>Array.isArray(n)?n.join(""):n,S3=(n,e)=>{const t=Object.keys(n);for(let r=0;r<t.length;r+=1)if(e[t[r]]&&e[t[r]].includes(n[t[r]]))return!0;return!1},Lm=(n,e)=>Array.isArray(n)?n.reduce((t,r)=>(S3(r,e)?t.priority.push(r):t.default.push(r),t),{priority:[],default:[]}):{default:n,priority:[]},Ow=(n,e)=>({...n,[e]:void 0}),R3=["noscript","script","style"],Eg=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),iA=n=>Object.keys(n).reduce((e,t)=>{const r=typeof n[t]<"u"?`${t}="${n[t]}"`:`${t}`;return e?`${e} ${r}`:r},""),I3=(n,e,t,r)=>{const o=iA(t),a=rA(e);return o?`<${n} ${Vr}="true" ${o}>${Eg(a,r)}</${n}>`:`<${n} ${Vr}="true">${Eg(a,r)}</${n}>`},A3=(n,e,t=!0)=>e.reduce((r,o)=>{const a=o,u=Object.keys(a).filter(p=>!(p==="innerHTML"||p==="cssText")).reduce((p,v)=>{const E=typeof a[v]>"u"?v:`${v}="${Eg(a[v],t)}"`;return p?`${p} ${E}`:E},""),h=a.innerHTML||a.cssText||"",f=R3.indexOf(n)===-1;return`${r}<${n} ${Vr}="true" ${u}${f?"/>":`>${h}</${n}>`}`},""),oA=(n,e={})=>Object.keys(n).reduce((t,r)=>{const o=ov[r];return t[o||r]=n[r],t},e),C3=(n,e,t)=>{const r={key:e,[Vr]:!0},o=oA(t,r);return[Me.createElement("title",o,e)]},qh=(n,e)=>e.map((t,r)=>{const o={key:r,[Vr]:!0};return Object.keys(t).forEach(a=>{const h=ov[a]||a;if(h==="innerHTML"||h==="cssText"){const f=t.innerHTML||t.cssText;o.dangerouslySetInnerHTML={__html:f}}else o[h]=t[a]}),Me.createElement(n,o)}),yr=(n,e,t=!0)=>{switch(n){case"title":return{toComponent:()=>C3(n,e.title,e.titleAttributes),toString:()=>I3(n,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>oA(e),toString:()=>iA(e)};default:return{toComponent:()=>qh(n,e),toString:()=>A3(n,e,t)}}},P3=({metaTags:n,linkTags:e,scriptTags:t,encode:r})=>{const o=Lm(n,xm.meta),a=Lm(e,xm.link),u=Lm(t,xm.script);return{priorityMethods:{toComponent:()=>[...qh("meta",o.priority),...qh("link",a.priority),...qh("script",u.priority)],toString:()=>`${yr("meta",o.priority,r)} ${yr("link",a.priority,r)} ${yr("script",u.priority,r)}`},metaTags:o.default,linkTags:a.default,scriptTags:u.default}},b3=n=>{const{baseTag:e,bodyAttributes:t,encode:r=!0,htmlAttributes:o,noscriptTags:a,styleTags:u,title:h="",titleAttributes:f,prioritizeSeoTags:p}=n;let{linkTags:v,metaTags:E,scriptTags:T}=n,I={toComponent:()=>{},toString:()=>""};return p&&({priorityMethods:I,linkTags:v,metaTags:E,scriptTags:T}=P3(n)),{priority:I,base:yr("base",e,r),bodyAttributes:yr("bodyAttributes",t,r),htmlAttributes:yr("htmlAttributes",o,r),link:yr("link",v,r),meta:yr("meta",E,r),noscript:yr("noscript",a,r),script:yr("script",T,r),style:yr("style",u,r),title:yr("title",{title:h,titleAttributes:f},r)}},wg=b3,Ch=[],sA=!!(typeof window<"u"&&window.document&&window.document.createElement),Tg=class{constructor(n,e){Ci(this,"instances",[]);Ci(this,"canUseDOM",sA);Ci(this,"context");Ci(this,"value",{setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?Ch:this.instances,add:n=>{(this.canUseDOM?Ch:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?Ch:this.instances).indexOf(n);(this.canUseDOM?Ch:this.instances).splice(e,1)}}});this.context=n,this.canUseDOM=e||!1,e||(n.helmet=wg({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},k3={},aA=Me.createContext(k3),vs,lA=(vs=class extends K.Component{constructor(t){super(t);Ci(this,"helmetData");this.helmetData=new Tg(this.props.context||{},vs.canUseDOM)}render(){return Me.createElement(aA.Provider,{value:this.helmetData.value},this.props.children)}},Ci(vs,"canUseDOM",sA),vs),ma=(n,e)=>{const t=document.head||document.querySelector("head"),r=t.querySelectorAll(`${n}[${Vr}]`),o=[].slice.call(r),a=[];let u;return e&&e.length&&e.forEach(h=>{const f=document.createElement(n);for(const p in h)if(Object.prototype.hasOwnProperty.call(h,p))if(p==="innerHTML")f.innerHTML=h.innerHTML;else if(p==="cssText")f.styleSheet?f.styleSheet.cssText=h.cssText:f.appendChild(document.createTextNode(h.cssText));else{const v=p,E=typeof h[v]>"u"?"":h[v];f.setAttribute(p,E)}f.setAttribute(Vr,"true"),o.some((p,v)=>(u=v,f.isEqualNode(p)))?o.splice(u,1):a.push(f)}),o.forEach(h=>{var f;return(f=h.parentNode)==null?void 0:f.removeChild(h)}),a.forEach(h=>t.appendChild(h)),{oldTags:o,newTags:a}},Sg=(n,e)=>{const t=document.getElementsByTagName(n)[0];if(!t)return;const r=t.getAttribute(Vr),o=r?r.split(","):[],a=[...o],u=Object.keys(e);for(const h of u){const f=e[h]||"";t.getAttribute(h)!==f&&t.setAttribute(h,f),o.indexOf(h)===-1&&o.push(h);const p=a.indexOf(h);p!==-1&&a.splice(p,1)}for(let h=a.length-1;h>=0;h-=1)t.removeAttribute(a[h]);o.length===a.length?t.removeAttribute(Vr):t.getAttribute(Vr)!==u.join(",")&&t.setAttribute(Vr,u.join(","))},N3=(n,e)=>{typeof n<"u"&&document.title!==n&&(document.title=rA(n)),Sg("title",e)},xw=(n,e)=>{const{baseTag:t,bodyAttributes:r,htmlAttributes:o,linkTags:a,metaTags:u,noscriptTags:h,onChangeClientState:f,scriptTags:p,styleTags:v,title:E,titleAttributes:T}=n;Sg("body",r),Sg("html",o),N3(E,T);const I={baseTag:ma("base",t),linkTags:ma("link",a),metaTags:ma("meta",u),noscriptTags:ma("noscript",h),scriptTags:ma("script",p),styleTags:ma("style",v)},S={},C={};Object.keys(I).forEach(D=>{const{newTags:$,oldTags:F}=I[D];$.length&&(S[D]=$),F.length&&(C[D]=I[D].oldTags)}),e&&e(),f(n,S,C)},Zl=null,O3=n=>{Zl&&cancelAnimationFrame(Zl),n.defer?Zl=requestAnimationFrame(()=>{xw(n,()=>{Zl=null})}):(xw(n),Zl=null)},x3=O3,Dw=class extends K.Component{constructor(){super(...arguments);Ci(this,"rendered",!1)}shouldComponentUpdate(e){return!m3(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let r=null;const o=T3(e.get().map(a=>{const u={...a.props};return delete u.context,u}));lA.canUseDOM?x3(o):wg&&(r=wg(o)),t(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Vm,n9=(Vm=class extends K.Component{shouldComponentUpdate(n){return!c3(Ow(this.props,"helmetData"),Ow(n,"helmetData"))}mapNestedChildrenToProps(n,e){if(!e)return null;switch(n.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${n.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(n,e,t,r){return{...e,[n.type]:[...e[n.type]||[],{...t,...this.mapNestedChildrenToProps(n,r)}]}}mapObjectTypeChildren(n,e,t,r){switch(n.type){case"title":return{...e,[n.type]:r,titleAttributes:{...t}};case"body":return{...e,bodyAttributes:{...t}};case"html":return{...e,htmlAttributes:{...t}};default:return{...e,[n.type]:{...t}}}}mapArrayTypeChildrenToProps(n,e){let t={...e};return Object.keys(n).forEach(r=>{t={...t,[r]:n[r]}}),t}warnOnInvalidChildren(n,e){return bw(Nw.some(t=>n.type===t),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Nw.join(", ")} are allowed. Helmet does not support rendering <${n.type}> elements. Refer to our API for more information.`),bw(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${n.type}>. Did you forget to wrap your children in braces? ( <${n.type}>{\`\`}</${n.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(n,e){let t={};return Me.Children.forEach(n,r=>{if(!r||!r.props)return;const{children:o,...a}=r.props,u=Object.keys(a).reduce((f,p)=>(f[g3[p]||p]=a[p],f),{});let{type:h}=r;switch(typeof h=="symbol"?h=h.toString():this.warnOnInvalidChildren(r,o),h){case"Symbol(react.fragment)":e=this.mapChildrenToProps(o,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(r,t,u,o);break;default:e=this.mapObjectTypeChildren(r,e,u,o);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const{children:n,...e}=this.props;let t={...e},{helmetData:r}=e;if(n&&(t=this.mapChildrenToProps(n,t)),r&&!(r instanceof Tg)){const o=r;r=new Tg(o.context,!0),delete t.helmetData}return r?Me.createElement(Dw,{...t,context:r.value}):Me.createElement(aA.Consumer,null,o=>Me.createElement(Dw,{...t,context:o}))}},Ci(Vm,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Vm);function Rg(n,e){return Rg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Rg(n,e)}function Yu(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Rg(n,e)}var Xu=function(){function n(){this.listeners=[]}var e=n.prototype;return e.subscribe=function(r){var o=this,a=r||function(){};return this.listeners.push(a),this.onSubscribe(),function(){o.listeners=o.listeners.filter(function(u){return u!==a}),o.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},n}(),wd=typeof window>"u";function Sn(){}function D3(n,e){return typeof n=="function"?n(e):n}function Ig(n){return typeof n=="number"&&n>=0&&n!==1/0}function Td(n){return Array.isArray(n)?n:[n]}function uA(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Hh(n,e,t){return Ju(n)?typeof e=="function"?Ye({},t,{queryKey:n,queryFn:e}):Ye({},e,{queryKey:n}):n}function r9(n,e,t){return Ju(n)?typeof e=="function"?Ye({},t,{mutationKey:n,mutationFn:e}):Ye({},e,{mutationKey:n}):typeof n=="function"?Ye({},e,{mutationFn:n}):Ye({},n)}function _o(n,e,t){return Ju(n)?[Ye({},e,{queryKey:n}),t]:[n||{},e]}function L3(n,e){if(n===!0&&e===!0||n==null&&e==null)return"all";if(n===!1&&e===!1)return"none";var t=n??!e;return t?"active":"inactive"}function Lw(n,e){var t=n.active,r=n.exact,o=n.fetching,a=n.inactive,u=n.predicate,h=n.queryKey,f=n.stale;if(Ju(h)){if(r){if(e.queryHash!==sv(h,e.options))return!1}else if(!Sd(e.queryKey,h))return!1}var p=L3(t,a);if(p==="none")return!1;if(p!=="all"){var v=e.isActive();if(p==="active"&&!v||p==="inactive"&&v)return!1}return!(typeof f=="boolean"&&e.isStale()!==f||typeof o=="boolean"&&e.isFetching()!==o||u&&!u(e))}function Vw(n,e){var t=n.exact,r=n.fetching,o=n.predicate,a=n.mutationKey;if(Ju(a)){if(!e.options.mutationKey)return!1;if(t){if(ys(e.options.mutationKey)!==ys(a))return!1}else if(!Sd(e.options.mutationKey,a))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||o&&!o(e))}function sv(n,e){var t=(e==null?void 0:e.queryKeyHashFn)||ys;return t(n)}function ys(n){var e=Td(n);return V3(e)}function V3(n){return JSON.stringify(n,function(e,t){return Ag(t)?Object.keys(t).sort().reduce(function(r,o){return r[o]=t[o],r},{}):t})}function Sd(n,e){return cA(Td(n),Td(e))}function cA(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(function(t){return!cA(n[t],e[t])}):!1}function Rd(n,e){if(n===e)return n;var t=Array.isArray(n)&&Array.isArray(e);if(t||Ag(n)&&Ag(e)){for(var r=t?n.length:Object.keys(n).length,o=t?e:Object.keys(e),a=o.length,u=t?[]:{},h=0,f=0;f<a;f++){var p=t?f:o[f];u[p]=Rd(n[p],e[p]),u[p]===n[p]&&h++}return r===a&&h===r?n:u}return e}function M3(n,e){if(n&&!e||e&&!n)return!1;for(var t in n)if(n[t]!==e[t])return!1;return!0}function Ag(n){if(!Mw(n))return!1;var e=n.constructor;if(typeof e>"u")return!0;var t=e.prototype;return!(!Mw(t)||!t.hasOwnProperty("isPrototypeOf"))}function Mw(n){return Object.prototype.toString.call(n)==="[object Object]"}function Ju(n){return typeof n=="string"||Array.isArray(n)}function F3(n){return new Promise(function(e){setTimeout(e,n)})}function Fw(n){Promise.resolve().then(n).catch(function(e){return setTimeout(function(){throw e})})}function hA(){if(typeof AbortController=="function")return new AbortController}var U3=function(n){Yu(e,n);function e(){var r;return r=n.call(this)||this,r.setup=function(o){var a;if(!wd&&((a=window)!=null&&a.addEventListener)){var u=function(){return o()};return window.addEventListener("visibilitychange",u,!1),window.addEventListener("focus",u,!1),function(){window.removeEventListener("visibilitychange",u),window.removeEventListener("focus",u)}}},r}var t=e.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var o;(o=this.cleanup)==null||o.call(this),this.cleanup=void 0}},t.setEventListener=function(o){var a,u=this;this.setup=o,(a=this.cleanup)==null||a.call(this),this.cleanup=o(function(h){typeof h=="boolean"?u.setFocused(h):u.onFocus()})},t.setFocused=function(o){this.focused=o,o&&this.onFocus()},t.onFocus=function(){this.listeners.forEach(function(o){o()})},t.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},e}(Xu),du=new U3,$3=function(n){Yu(e,n);function e(){var r;return r=n.call(this)||this,r.setup=function(o){var a;if(!wd&&((a=window)!=null&&a.addEventListener)){var u=function(){return o()};return window.addEventListener("online",u,!1),window.addEventListener("offline",u,!1),function(){window.removeEventListener("online",u),window.removeEventListener("offline",u)}}},r}var t=e.prototype;return t.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},t.onUnsubscribe=function(){if(!this.hasListeners()){var o;(o=this.cleanup)==null||o.call(this),this.cleanup=void 0}},t.setEventListener=function(o){var a,u=this;this.setup=o,(a=this.cleanup)==null||a.call(this),this.cleanup=o(function(h){typeof h=="boolean"?u.setOnline(h):u.onOnline()})},t.setOnline=function(o){this.online=o,o&&this.onOnline()},t.onOnline=function(){this.listeners.forEach(function(o){o()})},t.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},e}(Xu),Wh=new $3;function B3(n){return Math.min(1e3*Math.pow(2,n),3e4)}function Id(n){return typeof(n==null?void 0:n.cancel)=="function"}var dA=function(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent};function Kh(n){return n instanceof dA}var fA=function(e){var t=this,r=!1,o,a,u,h;this.abort=e.abort,this.cancel=function(T){return o==null?void 0:o(T)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return a==null?void 0:a()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(T,I){u=T,h=I});var f=function(I){t.isResolved||(t.isResolved=!0,e.onSuccess==null||e.onSuccess(I),a==null||a(),u(I))},p=function(I){t.isResolved||(t.isResolved=!0,e.onError==null||e.onError(I),a==null||a(),h(I))},v=function(){return new Promise(function(I){a=I,t.isPaused=!0,e.onPause==null||e.onPause()}).then(function(){a=void 0,t.isPaused=!1,e.onContinue==null||e.onContinue()})},E=function T(){if(!t.isResolved){var I;try{I=e.fn()}catch(S){I=Promise.reject(S)}o=function(C){if(!t.isResolved&&(p(new dA(C)),t.abort==null||t.abort(),Id(I)))try{I.cancel()}catch{}},t.isTransportCancelable=Id(I),Promise.resolve(I).then(f).catch(function(S){var C,D;if(!t.isResolved){var $=(C=e.retry)!=null?C:3,F=(D=e.retryDelay)!=null?D:B3,j=typeof F=="function"?F(t.failureCount,S):F,ie=$===!0||typeof $=="number"&&t.failureCount<$||typeof $=="function"&&$(t.failureCount,S);if(r||!ie){p(S);return}t.failureCount++,e.onFail==null||e.onFail(t.failureCount,S),F3(j).then(function(){if(!du.isFocused()||!Wh.isOnline())return v()}).then(function(){r?p(S):T()})}})}};E()},z3=function(){function n(){this.queue=[],this.transactions=0,this.notifyFn=function(t){t()},this.batchNotifyFn=function(t){t()}}var e=n.prototype;return e.batch=function(r){var o;this.transactions++;try{o=r()}finally{this.transactions--,this.transactions||this.flush()}return o},e.schedule=function(r){var o=this;this.transactions?this.queue.push(r):Fw(function(){o.notifyFn(r)})},e.batchCalls=function(r){var o=this;return function(){for(var a=arguments.length,u=new Array(a),h=0;h<a;h++)u[h]=arguments[h];o.schedule(function(){r.apply(void 0,u)})}},e.flush=function(){var r=this,o=this.queue;this.queue=[],o.length&&Fw(function(){r.batchNotifyFn(function(){o.forEach(function(a){r.notifyFn(a)})})})},e.setNotifyFunction=function(r){this.notifyFn=r},e.setBatchNotifyFunction=function(r){this.batchNotifyFn=r},n}(),Dt=new z3,pA=console;function Ad(){return pA}function j3(n){pA=n}var q3=function(){function n(t){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=t.meta,this.scheduleGc()}var e=n.prototype;return e.setOptions=function(r){var o;this.options=Ye({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(o=this.options.cacheTime)!=null?o:5*60*1e3)},e.setDefaultOptions=function(r){this.defaultOptions=r},e.scheduleGc=function(){var r=this;this.clearGcTimeout(),Ig(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(r,o){var a,u,h=this.state.data,f=D3(r,h);return(a=(u=this.options).isDataEqual)!=null&&a.call(u,h,f)?f=h:this.options.structuralSharing!==!1&&(f=Rd(h,f)),this.dispatch({data:f,type:"success",dataUpdatedAt:o==null?void 0:o.updatedAt}),f},e.setState=function(r,o){this.dispatch({type:"setState",state:r,setStateOptions:o})},e.cancel=function(r){var o,a=this.promise;return(o=this.retryer)==null||o.cancel(r),a?a.then(Sn).catch(Sn):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},e.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!uA(this.state.dataUpdatedAt,r)},e.onFocus=function(){var r,o=this.observers.find(function(a){return a.shouldFetchOnWindowFocus()});o&&o.refetch(),(r=this.retryer)==null||r.continue()},e.onOnline=function(){var r,o=this.observers.find(function(a){return a.shouldFetchOnReconnect()});o&&o.refetch(),(r=this.retryer)==null||r.continue()},e.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},e.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(o){return o!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(r,o){var a=this,u,h,f;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(o!=null&&o.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var p;return(p=this.retryer)==null||p.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var v=this.observers.find(function(F){return F.options.queryFn});v&&this.setOptions(v.options)}var E=Td(this.queryKey),T=hA(),I={queryKey:E,pageParam:void 0,meta:this.meta};Object.defineProperty(I,"signal",{enumerable:!0,get:function(){if(T)return a.abortSignalConsumed=!0,T.signal}});var S=function(){return a.options.queryFn?(a.abortSignalConsumed=!1,a.options.queryFn(I)):Promise.reject("Missing queryFn")},C={fetchOptions:o,options:this.options,queryKey:E,state:this.state,fetchFn:S,meta:this.meta};if((u=this.options.behavior)!=null&&u.onFetch){var D;(D=this.options.behavior)==null||D.onFetch(C)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((h=C.fetchOptions)==null?void 0:h.meta)){var $;this.dispatch({type:"fetch",meta:($=C.fetchOptions)==null?void 0:$.meta})}return this.retryer=new fA({fn:C.fetchFn,abort:T==null||(f=T.abort)==null?void 0:f.bind(T),onSuccess:function(j){a.setData(j),a.cache.config.onSuccess==null||a.cache.config.onSuccess(j,a),a.cacheTime===0&&a.optionalRemove()},onError:function(j){Kh(j)&&j.silent||a.dispatch({type:"error",error:j}),Kh(j)||(a.cache.config.onError==null||a.cache.config.onError(j,a),Ad().error(j)),a.cacheTime===0&&a.optionalRemove()},onFail:function(){a.dispatch({type:"failed"})},onPause:function(){a.dispatch({type:"pause"})},onContinue:function(){a.dispatch({type:"continue"})},retry:C.options.retry,retryDelay:C.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(r){var o=this;this.state=this.reducer(this.state,r),Dt.batch(function(){o.observers.forEach(function(a){a.onQueryUpdate(r)}),o.cache.notify({query:o,type:"queryUpdated",action:r})})},e.getDefaultState=function(r){var o=typeof r.initialData=="function"?r.initialData():r.initialData,a=typeof r.initialData<"u",u=a?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,h=typeof o<"u";return{data:o,dataUpdateCount:0,dataUpdatedAt:h?u??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:h?"success":"idle"}},e.reducer=function(r,o){var a,u;switch(o.type){case"failed":return Ye({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return Ye({},r,{isPaused:!0});case"continue":return Ye({},r,{isPaused:!1});case"fetch":return Ye({},r,{fetchFailureCount:0,fetchMeta:(a=o.meta)!=null?a:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return Ye({},r,{data:o.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(u=o.dataUpdatedAt)!=null?u:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var h=o.error;return Kh(h)&&h.revert&&this.revertState?Ye({},this.revertState):Ye({},r,{error:h,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return Ye({},r,{isInvalidated:!0});case"setState":return Ye({},r,o.state);default:return r}},n}(),H3=function(n){Yu(e,n);function e(r){var o;return o=n.call(this)||this,o.config=r||{},o.queries=[],o.queriesMap={},o}var t=e.prototype;return t.build=function(o,a,u){var h,f=a.queryKey,p=(h=a.queryHash)!=null?h:sv(f,a),v=this.get(p);return v||(v=new q3({cache:this,queryKey:f,queryHash:p,options:o.defaultQueryOptions(a),state:u,defaultOptions:o.getQueryDefaults(f),meta:a.meta}),this.add(v)),v},t.add=function(o){this.queriesMap[o.queryHash]||(this.queriesMap[o.queryHash]=o,this.queries.push(o),this.notify({type:"queryAdded",query:o}))},t.remove=function(o){var a=this.queriesMap[o.queryHash];a&&(o.destroy(),this.queries=this.queries.filter(function(u){return u!==o}),a===o&&delete this.queriesMap[o.queryHash],this.notify({type:"queryRemoved",query:o}))},t.clear=function(){var o=this;Dt.batch(function(){o.queries.forEach(function(a){o.remove(a)})})},t.get=function(o){return this.queriesMap[o]},t.getAll=function(){return this.queries},t.find=function(o,a){var u=_o(o,a),h=u[0];return typeof h.exact>"u"&&(h.exact=!0),this.queries.find(function(f){return Lw(h,f)})},t.findAll=function(o,a){var u=_o(o,a),h=u[0];return Object.keys(h).length>0?this.queries.filter(function(f){return Lw(h,f)}):this.queries},t.notify=function(o){var a=this;Dt.batch(function(){a.listeners.forEach(function(u){u(o)})})},t.onFocus=function(){var o=this;Dt.batch(function(){o.queries.forEach(function(a){a.onFocus()})})},t.onOnline=function(){var o=this;Dt.batch(function(){o.queries.forEach(function(a){a.onOnline()})})},e}(Xu),W3=function(){function n(t){this.options=Ye({},t.defaultOptions,t.options),this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.observers=[],this.state=t.state||K3(),this.meta=t.meta}var e=n.prototype;return e.setState=function(r){this.dispatch({type:"setState",state:r})},e.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},e.removeObserver=function(r){this.observers=this.observers.filter(function(o){return o!==r})},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(Sn).catch(Sn)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var r=this,o,a=this.state.status==="loading",u=Promise.resolve();return a||(this.dispatch({type:"loading",variables:this.options.variables}),u=u.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(h){h!==r.state.context&&r.dispatch({type:"loading",context:h,variables:r.state.variables})})),u.then(function(){return r.executeMutation()}).then(function(h){o=h,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(o,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(o,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(o,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:o}),o}).catch(function(h){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(h,r.state.variables,r.state.context,r),Ad().error(h),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(h,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,h,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:h}),h})})},e.executeMutation=function(){var r=this,o;return this.retryer=new fA({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(o=this.options.retry)!=null?o:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(r){var o=this;this.state=G3(this.state,r),Dt.batch(function(){o.observers.forEach(function(a){a.onMutationUpdate(r)}),o.mutationCache.notify(o)})},n}();function K3(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function G3(n,e){switch(e.type){case"failed":return Ye({},n,{failureCount:n.failureCount+1});case"pause":return Ye({},n,{isPaused:!0});case"continue":return Ye({},n,{isPaused:!1});case"loading":return Ye({},n,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return Ye({},n,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return Ye({},n,{data:void 0,error:e.error,failureCount:n.failureCount+1,isPaused:!1,status:"error"});case"setState":return Ye({},n,e.state);default:return n}}var Q3=function(n){Yu(e,n);function e(r){var o;return o=n.call(this)||this,o.config=r||{},o.mutations=[],o.mutationId=0,o}var t=e.prototype;return t.build=function(o,a,u){var h=new W3({mutationCache:this,mutationId:++this.mutationId,options:o.defaultMutationOptions(a),state:u,defaultOptions:a.mutationKey?o.getMutationDefaults(a.mutationKey):void 0,meta:a.meta});return this.add(h),h},t.add=function(o){this.mutations.push(o),this.notify(o)},t.remove=function(o){this.mutations=this.mutations.filter(function(a){return a!==o}),o.cancel(),this.notify(o)},t.clear=function(){var o=this;Dt.batch(function(){o.mutations.forEach(function(a){o.remove(a)})})},t.getAll=function(){return this.mutations},t.find=function(o){return typeof o.exact>"u"&&(o.exact=!0),this.mutations.find(function(a){return Vw(o,a)})},t.findAll=function(o){return this.mutations.filter(function(a){return Vw(o,a)})},t.notify=function(o){var a=this;Dt.batch(function(){a.listeners.forEach(function(u){u(o)})})},t.onFocus=function(){this.resumePausedMutations()},t.onOnline=function(){this.resumePausedMutations()},t.resumePausedMutations=function(){var o=this.mutations.filter(function(a){return a.state.isPaused});return Dt.batch(function(){return o.reduce(function(a,u){return a.then(function(){return u.continue().catch(Sn)})},Promise.resolve())})},e}(Xu);function Y3(){return{onFetch:function(e){e.fetchFn=function(){var t,r,o,a,u,h,f=(t=e.fetchOptions)==null||(r=t.meta)==null?void 0:r.refetchPage,p=(o=e.fetchOptions)==null||(a=o.meta)==null?void 0:a.fetchMore,v=p==null?void 0:p.pageParam,E=(p==null?void 0:p.direction)==="forward",T=(p==null?void 0:p.direction)==="backward",I=((u=e.state.data)==null?void 0:u.pages)||[],S=((h=e.state.data)==null?void 0:h.pageParams)||[],C=hA(),D=C==null?void 0:C.signal,$=S,F=!1,j=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},ie=function(Be,st,We,ze){return $=ze?[st].concat($):[].concat($,[st]),ze?[We].concat(Be):[].concat(Be,[We])},Q=function(Be,st,We,ze){if(F)return Promise.reject("Cancelled");if(typeof We>"u"&&!st&&Be.length)return Promise.resolve(Be);var ue={queryKey:e.queryKey,signal:D,pageParam:We,meta:e.meta},Te=j(ue),re=Promise.resolve(Te).then(function(N){return ie(Be,We,N,ze)});if(Id(Te)){var V=re;V.cancel=Te.cancel}return re},ee;if(!I.length)ee=Q([]);else if(E){var b=typeof v<"u",A=b?v:Cg(e.options,I);ee=Q(I,b,A)}else if(T){var k=typeof v<"u",x=k?v:mA(e.options,I);ee=Q(I,k,x,!0)}else(function(){$=[];var P=typeof e.options.getNextPageParam>"u",Be=f&&I[0]?f(I[0],0,I):!0;ee=Be?Q([],P,S[0]):Promise.resolve(ie([],S[0],I[0]));for(var st=function(ue){ee=ee.then(function(Te){var re=f&&I[ue]?f(I[ue],ue,I):!0;if(re){var V=P?S[ue]:Cg(e.options,Te);return Q(Te,P,V)}return Promise.resolve(ie(Te,S[ue],I[ue]))})},We=1;We<I.length;We++)st(We)})();var M=ee.then(function(P){return{pages:P,pageParams:$}}),B=M;return B.cancel=function(){F=!0,C==null||C.abort(),Id(ee)&&ee.cancel()},M}}}}function Cg(n,e){return n.getNextPageParam==null?void 0:n.getNextPageParam(e[e.length-1],e)}function mA(n,e){return n.getPreviousPageParam==null?void 0:n.getPreviousPageParam(e[0],e)}function i9(n,e){if(n.getNextPageParam&&Array.isArray(e)){var t=Cg(n,e);return typeof t<"u"&&t!==null&&t!==!1}}function o9(n,e){if(n.getPreviousPageParam&&Array.isArray(e)){var t=mA(n,e);return typeof t<"u"&&t!==null&&t!==!1}}var X3=function(){function n(t){t===void 0&&(t={}),this.queryCache=t.queryCache||new H3,this.mutationCache=t.mutationCache||new Q3,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=n.prototype;return e.mount=function(){var r=this;this.unsubscribeFocus=du.subscribe(function(){du.isFocused()&&Wh.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=Wh.subscribe(function(){du.isFocused()&&Wh.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},e.unmount=function(){var r,o;(r=this.unsubscribeFocus)==null||r.call(this),(o=this.unsubscribeOnline)==null||o.call(this)},e.isFetching=function(r,o){var a=_o(r,o),u=a[0];return u.fetching=!0,this.queryCache.findAll(u).length},e.isMutating=function(r){return this.mutationCache.findAll(Ye({},r,{fetching:!0})).length},e.getQueryData=function(r,o){var a;return(a=this.queryCache.find(r,o))==null?void 0:a.state.data},e.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(o){var a=o.queryKey,u=o.state,h=u.data;return[a,h]})},e.setQueryData=function(r,o,a){var u=Hh(r),h=this.defaultQueryOptions(u);return this.queryCache.build(this,h).setData(o,a)},e.setQueriesData=function(r,o,a){var u=this;return Dt.batch(function(){return u.getQueryCache().findAll(r).map(function(h){var f=h.queryKey;return[f,u.setQueryData(f,o,a)]})})},e.getQueryState=function(r,o){var a;return(a=this.queryCache.find(r,o))==null?void 0:a.state},e.removeQueries=function(r,o){var a=_o(r,o),u=a[0],h=this.queryCache;Dt.batch(function(){h.findAll(u).forEach(function(f){h.remove(f)})})},e.resetQueries=function(r,o,a){var u=this,h=_o(r,o,a),f=h[0],p=h[1],v=this.queryCache,E=Ye({},f,{active:!0});return Dt.batch(function(){return v.findAll(f).forEach(function(T){T.reset()}),u.refetchQueries(E,p)})},e.cancelQueries=function(r,o,a){var u=this,h=_o(r,o,a),f=h[0],p=h[1],v=p===void 0?{}:p;typeof v.revert>"u"&&(v.revert=!0);var E=Dt.batch(function(){return u.queryCache.findAll(f).map(function(T){return T.cancel(v)})});return Promise.all(E).then(Sn).catch(Sn)},e.invalidateQueries=function(r,o,a){var u,h,f,p=this,v=_o(r,o,a),E=v[0],T=v[1],I=Ye({},E,{active:(u=(h=E.refetchActive)!=null?h:E.active)!=null?u:!0,inactive:(f=E.refetchInactive)!=null?f:!1});return Dt.batch(function(){return p.queryCache.findAll(E).forEach(function(S){S.invalidate()}),p.refetchQueries(I,T)})},e.refetchQueries=function(r,o,a){var u=this,h=_o(r,o,a),f=h[0],p=h[1],v=Dt.batch(function(){return u.queryCache.findAll(f).map(function(T){return T.fetch(void 0,Ye({},p,{meta:{refetchPage:f==null?void 0:f.refetchPage}}))})}),E=Promise.all(v).then(Sn);return p!=null&&p.throwOnError||(E=E.catch(Sn)),E},e.fetchQuery=function(r,o,a){var u=Hh(r,o,a),h=this.defaultQueryOptions(u);typeof h.retry>"u"&&(h.retry=!1);var f=this.queryCache.build(this,h);return f.isStaleByTime(h.staleTime)?f.fetch(h):Promise.resolve(f.state.data)},e.prefetchQuery=function(r,o,a){return this.fetchQuery(r,o,a).then(Sn).catch(Sn)},e.fetchInfiniteQuery=function(r,o,a){var u=Hh(r,o,a);return u.behavior=Y3(),this.fetchQuery(u)},e.prefetchInfiniteQuery=function(r,o,a){return this.fetchInfiniteQuery(r,o,a).then(Sn).catch(Sn)},e.cancelMutations=function(){var r=this,o=Dt.batch(function(){return r.mutationCache.getAll().map(function(a){return a.cancel()})});return Promise.all(o).then(Sn).catch(Sn)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(r){this.defaultOptions=r},e.setQueryDefaults=function(r,o){var a=this.queryDefaults.find(function(u){return ys(r)===ys(u.queryKey)});a?a.defaultOptions=o:this.queryDefaults.push({queryKey:r,defaultOptions:o})},e.getQueryDefaults=function(r){var o;return r?(o=this.queryDefaults.find(function(a){return Sd(r,a.queryKey)}))==null?void 0:o.defaultOptions:void 0},e.setMutationDefaults=function(r,o){var a=this.mutationDefaults.find(function(u){return ys(r)===ys(u.mutationKey)});a?a.defaultOptions=o:this.mutationDefaults.push({mutationKey:r,defaultOptions:o})},e.getMutationDefaults=function(r){var o;return r?(o=this.mutationDefaults.find(function(a){return Sd(r,a.mutationKey)}))==null?void 0:o.defaultOptions:void 0},e.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var o=Ye({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!o.queryHash&&o.queryKey&&(o.queryHash=sv(o.queryKey,o)),o},e.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},e.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:Ye({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},n}(),J3=function(n){Yu(e,n);function e(r,o){var a;return a=n.call(this)||this,a.client=r,a.options=o,a.trackedProps=[],a.selectError=null,a.bindMethods(),a.setOptions(o),a}var t=e.prototype;return t.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},t.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Uw(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},t.onUnsubscribe=function(){this.listeners.length||this.destroy()},t.shouldFetchOnReconnect=function(){return Pg(this.currentQuery,this.options,this.options.refetchOnReconnect)},t.shouldFetchOnWindowFocus=function(){return Pg(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},t.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},t.setOptions=function(o,a){var u=this.options,h=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(o),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=u.queryKey),this.updateQuery();var f=this.hasListeners();f&&$w(this.currentQuery,h,this.options,u)&&this.executeFetch(),this.updateResult(a),f&&(this.currentQuery!==h||this.options.enabled!==u.enabled||this.options.staleTime!==u.staleTime)&&this.updateStaleTimeout();var p=this.computeRefetchInterval();f&&(this.currentQuery!==h||this.options.enabled!==u.enabled||p!==this.currentRefetchInterval)&&this.updateRefetchInterval(p)},t.getOptimisticResult=function(o){var a=this.client.defaultQueryObserverOptions(o),u=this.client.getQueryCache().build(this.client,a);return this.createResult(u,a)},t.getCurrentResult=function(){return this.currentResult},t.trackResult=function(o,a){var u=this,h={},f=function(v){u.trackedProps.includes(v)||u.trackedProps.push(v)};return Object.keys(o).forEach(function(p){Object.defineProperty(h,p,{configurable:!1,enumerable:!0,get:function(){return f(p),o[p]}})}),(a.useErrorBoundary||a.suspense)&&f("error"),h},t.getNextResult=function(o){var a=this;return new Promise(function(u,h){var f=a.subscribe(function(p){p.isFetching||(f(),p.isError&&(o!=null&&o.throwOnError)?h(p.error):u(p))})})},t.getCurrentQuery=function(){return this.currentQuery},t.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},t.refetch=function(o){return this.fetch(Ye({},o,{meta:{refetchPage:o==null?void 0:o.refetchPage}}))},t.fetchOptimistic=function(o){var a=this,u=this.client.defaultQueryObserverOptions(o),h=this.client.getQueryCache().build(this.client,u);return h.fetch().then(function(){return a.createResult(h,u)})},t.fetch=function(o){var a=this;return this.executeFetch(o).then(function(){return a.updateResult(),a.currentResult})},t.executeFetch=function(o){this.updateQuery();var a=this.currentQuery.fetch(this.options,o);return o!=null&&o.throwOnError||(a=a.catch(Sn)),a},t.updateStaleTimeout=function(){var o=this;if(this.clearStaleTimeout(),!(wd||this.currentResult.isStale||!Ig(this.options.staleTime))){var a=uA(this.currentResult.dataUpdatedAt,this.options.staleTime),u=a+1;this.staleTimeoutId=setTimeout(function(){o.currentResult.isStale||o.updateResult()},u)}},t.computeRefetchInterval=function(){var o;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(o=this.options.refetchInterval)!=null?o:!1},t.updateRefetchInterval=function(o){var a=this;this.clearRefetchInterval(),this.currentRefetchInterval=o,!(wd||this.options.enabled===!1||!Ig(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(a.options.refetchIntervalInBackground||du.isFocused())&&a.executeFetch()},this.currentRefetchInterval))},t.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},t.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},t.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},t.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},t.createResult=function(o,a){var u=this.currentQuery,h=this.options,f=this.currentResult,p=this.currentResultState,v=this.currentResultOptions,E=o!==u,T=E?o.state:this.currentQueryInitialState,I=E?this.currentResult:this.previousQueryResult,S=o.state,C=S.dataUpdatedAt,D=S.error,$=S.errorUpdatedAt,F=S.isFetching,j=S.status,ie=!1,Q=!1,ee;if(a.optimisticResults){var b=this.hasListeners(),A=!b&&Uw(o,a),k=b&&$w(o,u,a,h);(A||k)&&(F=!0,C||(j="loading"))}if(a.keepPreviousData&&!S.dataUpdateCount&&(I!=null&&I.isSuccess)&&j!=="error")ee=I.data,C=I.dataUpdatedAt,j=I.status,ie=!0;else if(a.select&&typeof S.data<"u")if(f&&S.data===(p==null?void 0:p.data)&&a.select===this.selectFn)ee=this.selectResult;else try{this.selectFn=a.select,ee=a.select(S.data),a.structuralSharing!==!1&&(ee=Rd(f==null?void 0:f.data,ee)),this.selectResult=ee,this.selectError=null}catch(B){Ad().error(B),this.selectError=B}else ee=S.data;if(typeof a.placeholderData<"u"&&typeof ee>"u"&&(j==="loading"||j==="idle")){var x;if(f!=null&&f.isPlaceholderData&&a.placeholderData===(v==null?void 0:v.placeholderData))x=f.data;else if(x=typeof a.placeholderData=="function"?a.placeholderData():a.placeholderData,a.select&&typeof x<"u")try{x=a.select(x),a.structuralSharing!==!1&&(x=Rd(f==null?void 0:f.data,x)),this.selectError=null}catch(B){Ad().error(B),this.selectError=B}typeof x<"u"&&(j="success",ee=x,Q=!0)}this.selectError&&(D=this.selectError,ee=this.selectResult,$=Date.now(),j="error");var M={status:j,isLoading:j==="loading",isSuccess:j==="success",isError:j==="error",isIdle:j==="idle",data:ee,dataUpdatedAt:C,error:D,errorUpdatedAt:$,failureCount:S.fetchFailureCount,errorUpdateCount:S.errorUpdateCount,isFetched:S.dataUpdateCount>0||S.errorUpdateCount>0,isFetchedAfterMount:S.dataUpdateCount>T.dataUpdateCount||S.errorUpdateCount>T.errorUpdateCount,isFetching:F,isRefetching:F&&j!=="loading",isLoadingError:j==="error"&&S.dataUpdatedAt===0,isPlaceholderData:Q,isPreviousData:ie,isRefetchError:j==="error"&&S.dataUpdatedAt!==0,isStale:av(o,a),refetch:this.refetch,remove:this.remove};return M},t.shouldNotifyListeners=function(o,a){if(!a)return!0;var u=this.options,h=u.notifyOnChangeProps,f=u.notifyOnChangePropsExclusions;if(!h&&!f||h==="tracked"&&!this.trackedProps.length)return!0;var p=h==="tracked"?this.trackedProps:h;return Object.keys(o).some(function(v){var E=v,T=o[E]!==a[E],I=p==null?void 0:p.some(function(C){return C===v}),S=f==null?void 0:f.some(function(C){return C===v});return T&&!S&&(!p||I)})},t.updateResult=function(o){var a=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!M3(this.currentResult,a)){var u={cache:!0};(o==null?void 0:o.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,a)&&(u.listeners=!0),this.notify(Ye({},u,o))}},t.updateQuery=function(){var o=this.client.getQueryCache().build(this.client,this.options);if(o!==this.currentQuery){var a=this.currentQuery;this.currentQuery=o,this.currentQueryInitialState=o.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(a==null||a.removeObserver(this),o.addObserver(this))}},t.onQueryUpdate=function(o){var a={};o.type==="success"?a.onSuccess=!0:o.type==="error"&&!Kh(o.error)&&(a.onError=!0),this.updateResult(a),this.hasListeners()&&this.updateTimers()},t.notify=function(o){var a=this;Dt.batch(function(){o.onSuccess?(a.options.onSuccess==null||a.options.onSuccess(a.currentResult.data),a.options.onSettled==null||a.options.onSettled(a.currentResult.data,null)):o.onError&&(a.options.onError==null||a.options.onError(a.currentResult.error),a.options.onSettled==null||a.options.onSettled(void 0,a.currentResult.error)),o.listeners&&a.listeners.forEach(function(u){u(a.currentResult)}),o.cache&&a.client.getQueryCache().notify({query:a.currentQuery,type:"observerResultsUpdated"})})},e}(Xu);function Z3(n,e){return e.enabled!==!1&&!n.state.dataUpdatedAt&&!(n.state.status==="error"&&e.retryOnMount===!1)}function Uw(n,e){return Z3(n,e)||n.state.dataUpdatedAt>0&&Pg(n,e,e.refetchOnMount)}function Pg(n,e,t){if(e.enabled!==!1){var r=typeof t=="function"?t(n):t;return r==="always"||r!==!1&&av(n,e)}return!1}function $w(n,e,t,r){return t.enabled!==!1&&(n!==e||r.enabled===!1)&&(!t.suspense||n.state.status!=="error")&&av(n,t)}function av(n,e){return n.isStaleByTime(e.staleTime)}var eB=ET.unstable_batchedUpdates;Dt.setBatchNotifyFunction(eB);var tB=console;j3(tB);var Bw=Me.createContext(void 0),gA=Me.createContext(!1);function yA(n){return n&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Bw),window.ReactQueryClientContext):Bw}var nB=function(){var e=Me.useContext(yA(Me.useContext(gA)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},rB=function(e){var t=e.client,r=e.contextSharing,o=r===void 0?!1:r,a=e.children;Me.useEffect(function(){return t.mount(),function(){t.unmount()}},[t]);var u=yA(o);return Me.createElement(gA.Provider,{value:o},Me.createElement(u.Provider,{value:t},a))};function iB(){var n=!1;return{clearReset:function(){n=!1},reset:function(){n=!0},isReset:function(){return n}}}var oB=Me.createContext(iB()),sB=function(){return Me.useContext(oB)};function aB(n,e,t){return typeof e=="function"?e.apply(void 0,t):typeof e=="boolean"?e:!!n}function lB(n,e){var t=Me.useRef(!1),r=Me.useState(0),o=r[1],a=nB(),u=sB(),h=a.defaultQueryObserverOptions(n);h.optimisticResults=!0,h.onError&&(h.onError=Dt.batchCalls(h.onError)),h.onSuccess&&(h.onSuccess=Dt.batchCalls(h.onSuccess)),h.onSettled&&(h.onSettled=Dt.batchCalls(h.onSettled)),h.suspense&&(typeof h.staleTime!="number"&&(h.staleTime=1e3),h.cacheTime===0&&(h.cacheTime=1)),(h.suspense||h.useErrorBoundary)&&(u.isReset()||(h.retryOnMount=!1));var f=Me.useState(function(){return new e(a,h)}),p=f[0],v=p.getOptimisticResult(h);if(Me.useEffect(function(){t.current=!0,u.clearReset();var E=p.subscribe(Dt.batchCalls(function(){t.current&&o(function(T){return T+1})}));return p.updateResult(),function(){t.current=!1,E()}},[u,p]),Me.useEffect(function(){p.setOptions(h,{listeners:!1})},[h,p]),h.suspense&&v.isLoading)throw p.fetchOptimistic(h).then(function(E){var T=E.data;h.onSuccess==null||h.onSuccess(T),h.onSettled==null||h.onSettled(T,null)}).catch(function(E){u.clearReset(),h.onError==null||h.onError(E),h.onSettled==null||h.onSettled(void 0,E)});if(v.isError&&!u.isReset()&&!v.isFetching&&aB(h.suspense,h.useErrorBoundary,[v.error,p.getCurrentQuery()]))throw v.error;return h.notifyOnChangeProps==="tracked"&&(v=p.trackResult(v,h)),v}function uB(n,e,t){var r=Hh(n,e,t);return lB(r,J3)}const ai={HOTEL:"HOTEL",ROOM:"ROOM",USER:"USER",LIKE:"LIKE",REVIEW:"REVIEW",RESERVATION:"RESERVATION"},s9=async n=>{const e=n?_d(Cu(Lo,ai.HOTEL),I$(n),Tw(10)):_d(Cu(Lo,ai.HOTEL),Tw(10)),t=await rv(e),r=t.docs.map(a=>({id:a.id,...a.data()})),o=t.docs[t.docs.length-1];return{items:r,lastVisible:o}},cB=async n=>{const e=await Ed(Pa(Lo,ai.HOTEL,n));return{id:n,...e.data()}},a9=async n=>{const e=_d(Cu(Lo,ai.HOTEL),KI(_$(),"in",n));return(await rv(e)).docs.map(r=>({id:r.id,...r.data()}))},l9=async({hotelId:n,roomId:e})=>{const t=await Ed(Pa(Lo,ai.HOTEL,n)),r=await Ed(Pa(t.ref,ai.ROOM,e));return{hotel:t.data(),room:r.data()}},u9=async n=>{const e=Pa(Lo,ai.HOTEL,n.hotelId),t=await Ed(Pa(e,ai.ROOM,n.roomId)),o=t.data().avaliableCount;if(o===0)throw new Error("매진된 상품입니다.");return Promise.all([k$(t.ref,{avaliableCount:o-1}),b$(Pa(Cu(Lo,ai.RESERVATION)),n)])},hB=async({userId:n})=>{const e=_d(Cu(Lo,ai.RESERVATION),KI("userId","==",n)),t=await rv(e),r=[];for(const o of t.docs){const a={id:o.id,...o.data()},u=await cB(a.hotelId);r.push({reservation:a,hotel:u})}return r},dB=()=>{const n=tA(),{data:e,isLoading:t}=uB({queryKey:["reservations",n==null?void 0:n.uid],queryFn:()=>hB({userId:n==null?void 0:n.uid}),enabled:!!(n!=null&&n.uid),suspense:!0});return{data:e,isLoading:t}},fB=({title:n,subtitle:e})=>Xt(si,{direction:"column",css:pB,children:[ve(ir,{bold:!0,typography:"t4",children:n}),ve(ir,{typography:"t7",children:e})]}),pB={name:"vxuddk",styles:"padding:24px"},vA=al("div",{target:"e1omf3070"})(({size:n,direction:e="vertical"})=>e==="vertical"?`
      height: ${n}px;
    `:`
    width: ${n}px;
    `," ",({backgroundColor:n})=>n&&`background-color: ${jt[n]};`,";");function mB(n,e){return t=>ve(K.Suspense,{fallback:e.fallback,children:ve(n,{...t})})}const gB=({message:n,backgroundColor:e,color:t,spacing:r=30,imgSrc:o="https://cdn.pixabay.com/animation/2023/06/13/15/12/15-12-47-323_512.gif"})=>ve(si,{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:e||"default"},justify:"center",align:"center",children:Xt(si,{direction:"column",align:"center",children:[ve("img",{width:120,src:o,alt:"loading"}),n&&Xt(Od,{children:[ve(vA,{size:r}),ve(ir,{bold:!0,typography:"t4",style:{color:t||"black"},children:n})]})]})}),yB=()=>{const{id:n}=rP(),{data:e}=dB(),t=e==null?void 0:e.find(a=>a.reservation.id===n),{hotel:r,reservation:o}=t;return Xt("div",{children:[ve(fB,{title:"예약 내역",subtitle:"예약 내역을 확인해보세요"}),Xt(si,{direction:"column",css:vB,gap:4,children:[ve("img",{src:r.mainImageUrl,alt:r.name,css:_B}),ve(vA,{size:12}),ve(ir,{typography:"t5",bold:!0,children:r.name}),Xt(ir,{typography:"t6",children:["예약 날짜: ",o.startDate," ~ ",o.endDate]}),Xt(ir,{typography:"t6",children:["예약자: ",o.formValues.name]}),Xt(ir,{typography:"t6",children:["흡연 유무:"," ",o.formValues.isSmoke==="true"?"흡연함":o.formValues.isSmoke==="false"?"흡연안함":"상관없음"]}),Xt(ir,{typography:"t6",children:["총 금액: ",o.price.toLocaleString(),"원"]}),Xt(ir,{typography:"t6",children:["요청사항: ",o.formValues.special_request||"없음"]})]})]})},vB={name:"inkuz5",styles:"background-color:#fff;padding:0 24px"},_B={name:"9is9f8",styles:"width:100%;height:auto;border-radius:8px;object-fit:cover"},EB=mB(yB,{fallback:ve(gB,{message:"데이터를 불러오는 중입니다.",imgSrc:"https://cdn.pixabay.com/animation/2023/06/13/15/12/15-12-44-718_512.gif"})}),yo=K.lazy(()=>vr(()=>import("./PrivateRoute-D_S3xx6M.js"),[])),wB=K.lazy(()=>vr(()=>import("./Test-BMNtdflb.js"),[])),TB=K.lazy(()=>vr(()=>import("./HotelList-BxnmsoVQ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),SB=K.lazy(()=>vr(()=>import("./Hotel-DvaNqINv.js"),__vite__mapDeps([8,1,3,6,7,9,10,4,2,11,12]))),RB=K.lazy(()=>vr(()=>import("./My-FqKYcc0I.js"),[])),IB=K.lazy(()=>vr(()=>import("./Signin-BVY-6u2x.js"),[])),AB=K.lazy(()=>vr(()=>import("./index-DpH4JDTW.js"),__vite__mapDeps([13,1]))),CB=K.lazy(()=>vr(()=>import("./like-Db-lk_gW.js"),__vite__mapDeps([14,1,15,7,6]))),PB=K.lazy(()=>vr(()=>import("./Schedule-BgLxdC-3.js"),__vite__mapDeps([16,15,10,4,5,11]))),bB=K.lazy(()=>vr(()=>import("./Reservation-DrPo6IFw.js"),__vite__mapDeps([17,11,7,15,9,3]))),kB=K.lazy(()=>vr(()=>import("./ReservationDone-DHlv3DdV.js"),__vite__mapDeps([18,11]))),NB=K.lazy(()=>vr(()=>import("./ReservationList-D2i6CVTF.js"),__vite__mapDeps([19,1])));function OB(){return JP(),ve(K.Suspense,{fallback:ve(Od,{}),children:ve(lA,{children:ve(zP,{children:Xt(z$,{children:[ve(s3,{}),Xt(vP,{children:[ve(rr,{path:"/",element:ve(TB,{})}),ve(rr,{path:"/hotel/:id",element:ve(SB,{})}),ve(rr,{path:"/my",element:ve(yo,{children:ve(RB,{})})}),ve(rr,{path:"/signin",element:ve(IB,{})}),ve(rr,{path:"/settings",element:ve(yo,{children:ve(AB,{})})}),ve(rr,{path:"/settings/like",element:ve(yo,{children:ve(CB,{})})}),ve(rr,{path:"/schedule",element:ve(yo,{children:ve(PB,{})})}),ve(rr,{path:"/reservation",element:ve(yo,{children:ve(bB,{})})}),ve(rr,{path:"/reservation/done",element:ve(yo,{children:ve(kB,{})})}),ve(rr,{path:"/reservation/list",element:ve(yo,{children:ve(NB,{})})}),ve(rr,{path:"/reservation/details/:id",element:ve(yo,{children:ve(EB,{})})}),ve(rr,{path:"/test",element:ve(wB,{})})]})]})})})})}const xB=Di(Y$," :root{--dimmed-zindex:10;--alert-zindex:11;}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block;}body{line-height:1;}ol,ul{list-style:none;}blockquote,q{quotes:none;}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none;}table{border-collapse:collapse;border-spacing:0;}button{border:none;margin:0;padding:0;width:auto;overflow:visible;background:transparent;color:inherit;font:inherit;line-height:normal;}a{color:inherit;text-decoration:inherit;}");function DB({children:n}){return ve(LB,{children:n})}const LB=al("div",{target:"e1zthc60"})({name:"p4cd3t",styles:"position:fixed;top:0;right:0;bottom:0;left:0;background-color:rgba(0, 0, 0, 0.7);z-index:var(--dimmed-zindex)"});function VB({open:n,title:e,description:t,buttonLabel:r="확인",onButtonClick:o}){return n?ve(DB,{children:Xt(MB,{children:[ve(ir,{typography:"t4",bold:!0,display:"block",style:{marginBottom:6},children:e}),t?ve(ir,{typography:"t7",children:t}):null,ve(si,{justify:"flex-end",children:ve(iv,{onClick:o,weak:!0,style:{marginTop:12,border:"none"},children:r})})]})}):null}const MB=al("div",{target:"e17pq5gw0"})("position:absolute;left:50%;top:50%;transform:translate(-50%, -50%);background-color:",jt.white,";border-radius:8px;overflow:hidden;z-index:var(--alert-zindex);width:320px;padding:24px;box-sizing:border-box;"),_A=K.createContext(void 0),zw={open:!1,title:null,description:null,onButtonClick:()=>{}},FB=({children:n})=>{const[e,t]=K.useState(zw),r=document.getElementById("root-portal"),o=K.useCallback(()=>{t(zw)},[]),a=K.useCallback(({onButtonClick:h,...f})=>{t({...f,onButtonClick:()=>{o(),h()},open:!0})},[o]),u=K.useMemo(()=>({open:a}),[a]);return Xt(_A.Provider,{value:u,children:[n,r?_T.createPortal(ve(VB,{...e}),r):null]})},c9=()=>{const n=K.useContext(_A);if(n===null)throw new Error("AlertContext 내부에서 사용해주세요");return n},UB=new X3({defaultOptions:{queries:{retry:0}}});IC.createRoot(document.getElementById("root")).render(Xt(K.StrictMode,{children:[ve(H$,{styles:xB}),ve(EF,{children:ve(rB,{client:UB,children:ve(FB,{children:ve(OB,{})})})})]}));export{Bi as $,e3 as A,iv as B,ai as C,cB as D,_T as E,Od as F,_d as G,XB as H,Ed as I,b$ as J,JB as K,Ea as L,nB as M,qB as N,ZB as O,dT as P,J3 as Q,Me as R,vA as S,ir as T,jt as U,n9 as V,rP as W,wo as X,WB as Y,B$ as Z,Yu as _,Xt as a,HB as a0,jB as a1,ET as a2,KI as a3,Tw as a4,l9 as a5,u9 as a6,K3 as a7,Dt as a8,Xu as a9,r9 as aa,Sn as ab,aB as ac,c9 as ad,t9 as ae,zB as af,BB as ag,dB as ah,Ye as b,Cu as c,Pa as d,o9 as e,lB as f,rv as g,i9 as h,Y3 as i,ve as j,si as k,s9 as l,mB as m,gB as n,fB as o,Hh as p,uB as q,K as r,Lo as s,a9 as t,tA as u,bg as v,e9 as w,Ka as x,fu as y,al as z};
